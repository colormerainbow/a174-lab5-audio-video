var exports={};;"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.FavoritesButton=void 0;function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}
function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}
var FavoritesButton=function(){function FavoritesButton(container){_classCallCheck(this,FavoritesButton);this.favoritesContainer=container;this.toggleFavoritesUrl=this.favoritesContainer.data('toggle-url');this.collectionsUrl=this.favoritesContainer.data('collections-url');this.toggleFavoritesEnabled=this.favoritesContainer.data('toggle-favorites-enabled');this.addToFavoritesUrlHash=this.favoritesContainer.data('add-to-favorites-url-hash');this.inFavorites=this.favoritesContainer.data('in-favorites');this.removeFromFavoritesText=this.favoritesContainer.data('remove-from-favorites-text');this.addToFavoritesText=this.favoritesContainer.data('add-to-favorites-text');this.displayTitleAttr=this.favoritesContainer.data('display-title-attr')=='True'?true:false;this.form=this.favoritesContainer.find('.toggle-favorites-form');this.trigger=this.form.find('.toggle-favorites-trigger');if(this.inFavorites){if(this.displayTitleAttr){this.trigger.attr('title',this.removeFromFavoritesText);}
this.trigger.attr('aria-label',this.removeFromFavoritesText);}else{if(this.displayTitleAttr){this.trigger.attr('title',this.addToFavoritesText);}
this.trigger.attr('aria-label',this.addToFavoritesText);}
this.initToggleFavoritesCollection();}
_createClass(FavoritesButton,[{key:"initToggleFavoritesCollection",value:function initToggleFavoritesCollection(){var _this=this;if(this.toggleFavoritesEnabled===false){return;}
var csrftokenValue=this.form.find("[name=\"csrfmiddlewaretoken\"]").val();var articleTitle=this.form.find('input[name=title]').val();var articleAuthor=this.form.find('input[name=date]').val();var articleDate=this.form.find('input[name=date]').val();var postData={'csrfmiddlewaretoken':csrftokenValue};if(articleTitle){postData['title']=articleTitle;}
if(articleAuthor){postData['author']=articleAuthor;}
if(articleDate){postData['date']=articleDate;}
if(this.addToFavoritesUrlHash===window.location.hash){postData['action']='add';$.post(this.toggleFavoritesUrl,postData).done(function(responseJSON){return _this.successHandler(responseJSON);}).fail(function(e){return _this.failureHandler(e);});window.location.hash='';}
this.trigger.on('click',function(e){e.preventDefault();if(_this.inFavorites){if(_this.displayTitleAttr){_this.trigger.attr('title',_this.addToFavoritesText);}
_this.trigger.attr('aria-label',_this.addToFavoritesText);}else{if(_this.displayTitleAttr){_this.trigger.attr('title',_this.removeFromFavoritesText);}
_this.trigger.attr('aria-label',_this.removeFromFavoritesText);}
postData['action']=_this.inFavorites?'remove':'add';$.post(_this.toggleFavoritesUrl,postData).done(function(responseJSON){return _this.successHandler(responseJSON);}).fail(function(e){return _this.failureHandler(e);});});}},{key:"successHandler",value:function successHandler(responseJSON){this.inFavorites=responseJSON['in_favorites_collection'];var removeClassName=this.inFavorites?'favorites-button-empty':'favorites-button-full';var addClassName=this.inFavorites?'favorites-button-full':'favorites-button-empty';this.trigger.removeClass(removeClassName).addClass(addClassName);var favoritesCollectionID=responseJSON['favorites_collection_id'];var favoritesCollectionHtmlLink="<a href=\"".concat(this.collectionsUrl).concat(favoritesCollectionID,"/\">")+"Click to edit your collection</a>";var hasChanged=responseJSON['has_changed'];var message='';var messageLevel='information';var messageAction='add';if(hasChanged&&this.inFavorites){message="Item added to Favorites. ".concat(favoritesCollectionHtmlLink,".");}else if(hasChanged&&!this.inFavorites){message="Item removed from Favorites. ".concat(favoritesCollectionHtmlLink,".");messageAction='remove';}else if(!hasChanged&&this.inFavorites){messageLevel='warning';message="Item is already in Favorites. ".concat(favoritesCollectionHtmlLink,".");}else if(!hasChanged&&!this.inFavorites){messageLevel='warning';message="Item is already not in Favorites. ".concat(favoritesCollectionHtmlLink,".");messageAction='remove';}
this.favoritesContainer.trigger('favorites-event',[messageLevel,messageAction,message]);}},{key:"failureHandler",value:function failureHandler(e){this.favoritesContainer.trigger('favorites-event',['error',this.inFavorites?'remove':'add','Failed to modify Favorites.']);}}]);return FavoritesButton;}();exports.FavoritesButton=FavoritesButton;;var FavoritesButton=exports.FavoritesButton;var favoritesButton=new FavoritesButton($('.page-sidebar .favorites-button-container'));;!function(){var t={};(function(e){(function(){var i=function(t){return t&&t.Math==Math&&t};t=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof e&&e)||function(){return this}()||Function("return this")()}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var e=function(t){try{return!!t()}catch(e){return!0}},i=!e((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),n={},o={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,a=r&&!o.call({1:2},1);n.f=a?function(t){var e=r(this,t);return!!e&&e.enumerable}:o;var s=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},l={}.toString,c=function(t){return l.call(t).slice(8,-1)},u="".split,d=e((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==c(t)?u.call(t,""):Object(t)}:Object,f=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},h=function(t){return d(f(t))},p=function(t){return"object"==typeof t?null!==t:"function"==typeof t},g=function(t,e){if(!p(t))return t;var i,n;if(e&&"function"==typeof(i=t.toString)&&!p(n=i.call(t)))return n;if("function"==typeof(i=t.valueOf)&&!p(n=i.call(t)))return n;if(!e&&"function"==typeof(i=t.toString)&&!p(n=i.call(t)))return n;throw TypeError("Can't convert object to primitive value")},m={}.hasOwnProperty,v=function(t,e){return m.call(t,e)},y=t.document,b=p(y)&&p(y.createElement),w=function(t){return b?y.createElement(t):{}},C=!i&&!e((function(){return 7!=Object.defineProperty(w("div"),"a",{get:function(){return 7}}).a})),x={},S=Object.getOwnPropertyDescriptor;x.f=i?S:function(t,e){if(t=h(t),e=g(e,!0),C)try{return S(t,e)}catch(i){}if(v(t,e))return s(!n.f.call(t,e),t[e])};var k=function(t){if(!p(t))throw TypeError(String(t)+" is not an object");return t},_={},T=Object.defineProperty;_.f=i?T:function(t,e,i){if(k(t),e=g(e,!0),k(i),C)try{return T(t,e,i)}catch(n){}if("get"in i||"set"in i)throw TypeError("Accessors not supported");return"value"in i&&(t[e]=i.value),t};var E=i?function(t,e,i){return _.f(t,e,s(1,i))}:function(t,e,i){return t[e]=i,t},I=function(e,i){try{E(t,e,i)}catch(n){t[e]=i}return i},A=t["__core-js_shared__"]||I("__core-js_shared__",{}),O={},D=Function.toString;"function"!=typeof A.inspectSource&&(A.inspectSource=function(t){return D.call(t)}),O=A.inspectSource;var L,P=t.WeakMap,F="function"==typeof P&&/native code/.test(O(P));(L=function(t,e){return A[t]||(A[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.8.1",mode:"global",copyright:"\xa9 2020 Denis Pushkarev (zloirock.ru)"});var N,M,j,R=0,B=Math.random(),H=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++R+B).toString(36)},U=L("keys"),q=function(t){return U[t]||(U[t]=H(t))},Q={},V=t.WeakMap;if(F){var W=A.state||(A.state=new V),z=W.get,G=W.has,Z=W.set;N=function(t,e){return e.facade=t,Z.call(W,t,e),e},M=function(t){return z.call(W,t)||{}},j=function(t){return G.call(W,t)}}else{var J=q("state");Q[J]=!0,N=function(t,e){return e.facade=t,E(t,J,e),e},M=function(t){return v(t,J)?t[J]:{}},j=function(t){return v(t,J)}}var K,Y={set:N,get:M,enforce:function(t){return j(t)?M(t):N(t,{})},getterFor:function(t){return function(e){var i;if(!p(e)||(i=M(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return i}}},$=Y.get,X=Y.enforce,tt=String(String).split("String");(K=function(e,i,n,o){var r,a=!!o&&!!o.unsafe,s=!!o&&!!o.enumerable,l=!!o&&!!o.noTargetGet;"function"==typeof n&&("string"!=typeof i||v(n,"name")||E(n,"name",i),(r=X(n)).source||(r.source=tt.join("string"==typeof i?i:""))),e!==t?(a?!l&&e[i]&&(s=!0):delete e[i],s?e[i]=n:E(e,i,n)):s?e[i]=n:I(i,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&$(this).source||O(this)}));var et=t,it=function(t){return"function"==typeof t?t:void 0},nt=function(e,i){return arguments.length<2?it(et[e])||it(t[e]):et[e]&&et[e][i]||t[e]&&t[e][i]},ot=Math.ceil,rt=Math.floor,at=function(t){return isNaN(t=+t)?0:(t>0?rt:ot)(t)},st=Math.min,lt=function(t){return t>0?st(at(t),9007199254740991):0},ct=Math.max,ut=Math.min,dt=function(t,e){var i=at(t);return i<0?ct(i+e,0):ut(i,e)},ft=function(t){return function(e,i,n){var o,r=h(e),a=lt(r.length),s=dt(n,a);if(t&&i!=i){for(;a>s;)if((o=r[s++])!=o)return!0}else for(;a>s;s++)if((t||s in r)&&r[s]===i)return t||s||0;return!t&&-1}},ht={includes:ft(!0),indexOf:ft(!1)},pt=ht.indexOf,gt=function(t,e){var i,n=h(t),o=0,r=[];for(i in n)!v(Q,i)&&v(n,i)&&r.push(i);for(;e.length>o;)v(n,i=e[o++])&&(~pt(r,i)||r.push(i));return r},mt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],vt={},yt=mt.concat("length","prototype");vt.f=Object.getOwnPropertyNames||function(t){return gt(t,yt)};var bt={};bt.f=Object.getOwnPropertySymbols;var wt,Ct=nt("Reflect","ownKeys")||function(t){var e=vt.f(k(t)),i=bt.f;return i?e.concat(i(t)):e},xt=function(t,e){for(var i=Ct(e),n=_.f,o=x.f,r=0;r<i.length;r++){var a=i[r];v(t,a)||n(t,a,o(e,a))}},St=/#|\.prototype\./,kt=function(t,i){var n=Tt[_t(t)];return n==It||n!=Et&&("function"==typeof i?e(i):!!i)},_t=kt.normalize=function(t){return String(t).replace(St,".").toLowerCase()},Tt=kt.data={},Et=kt.NATIVE="N",It=kt.POLYFILL="P",At=kt,Ot=x.f,Dt=function(e,i){var n,o,r,a,s,l=e.target,c=e.global,u=e.stat;if(n=c?t:u?t[l]||I(l,{}):(t[l]||{}).prototype)for(o in i){if(a=i[o],r=e.noTargetGet?(s=Ot(n,o))&&s.value:n[o],!At(c?o:l+(u?".":"#")+o,e.forced)&&void 0!==r){if(typeof a==typeof r)continue;xt(a,r)}(e.sham||r&&r.sham)&&E(a,"sham",!0),K(n,o,a,e)}},Lt=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t},Pt=function(t,e,i){if(Lt(t),void 0===e)return t;switch(i){case 0:return function(){return t.call(e)};case 1:return function(i){return t.call(e,i)};case 2:return function(i,n){return t.call(e,i,n)};case 3:return function(i,n,o){return t.call(e,i,n,o)}}return function(){return t.apply(e,arguments)}},Ft=function(t){return Object(f(t))},Nt=Array.isArray||function(t){return"Array"==c(t)},Mt=!!Object.getOwnPropertySymbols&&!e((function(){return!String(Symbol())})),jt=Mt&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Rt=L("wks"),Bt=t.Symbol,Ht=jt?Bt:Bt&&Bt.withoutSetter||H,Ut=function(t){return v(Rt,t)||(Mt&&v(Bt,t)?Rt[t]=Bt[t]:Rt[t]=Ht("Symbol."+t)),Rt[t]},qt=Ut("species"),Qt=function(t,e){var i;return Nt(t)&&("function"!=typeof(i=t.constructor)||i!==Array&&!Nt(i.prototype)?p(i)&&null===(i=i[qt])&&(i=void 0):i=void 0),new(void 0===i?Array:i)(0===e?0:e)},Vt=[].push,Wt=function(t){var e=1==t,i=2==t,n=3==t,o=4==t,r=6==t,a=7==t,s=5==t||r;return function(l,c,u,f){for(var h,p,g=Ft(l),m=d(g),v=Pt(c,u,3),y=lt(m.length),b=0,w=f||Qt,C=e?w(l,y):i||a?w(l,0):void 0;y>b;b++)if((s||b in m)&&(p=v(h=m[b],b,g),t))if(e)C[b]=p;else if(p)switch(t){case 3:return!0;case 5:return h;case 6:return b;case 2:Vt.call(C,h)}else switch(t){case 4:return!1;case 7:Vt.call(C,h)}return r?-1:n||o?o:C}},zt={forEach:Wt(0),map:Wt(1),filter:Wt(2),find:Wt(5)},Gt=Object.keys||function(t){return gt(t,mt)},Zt=i?Object.defineProperties:function(t,e){k(t);for(var i,n=Gt(e),o=n.length,r=0;o>r;)_.f(t,i=n[r++],e[i]);return t},Jt=nt("document","documentElement"),Kt={},Yt=q("IE_PROTO"),$t=function(){},Xt=function(t){return"<script>"+t+"<\/script>"},te=function(){try{wt=document.domain&&new ActiveXObject("htmlfile")}catch(n){}var t,e;te=wt?function(t){t.write(Xt("")),t.close();var e=t.parentWindow.Object;return t=null,e}(wt):((e=w("iframe")).style.display="none",Jt.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(Xt("document.F=Object")),t.close(),t.F);for(var i=mt.length;i--;)delete te.prototype[mt[i]];return te()};Q[Yt]=!0,Kt=Object.create||function(t,e){var i;return null!==t?($t.prototype=k(t),i=new $t,$t.prototype=null,i[Yt]=t):i=te(),void 0===e?i:Zt(i,e)};var ee,ie=Ut("unscopables"),ne=Array.prototype;null==ne[ie]&&_.f(ne,ie,{configurable:!0,value:Kt(null)}),ee=function(t){ne[ie][t]=!0};var oe=Object.defineProperty,re={},ae=function(t){throw t},se=function(t,n){if(v(re,t))return re[t];n||(n={});var o=[][t],r=!!v(n,"ACCESSORS")&&n.ACCESSORS,a=v(n,0)?n[0]:ae,s=v(n,1)?n[1]:void 0;return re[t]=!!o&&!e((function(){if(r&&!i)return!0;var t={length:-1};r?oe(t,1,{enumerable:!0,get:ae}):t[1]=1,o.call(t,a,s)}))},le=zt.find,ce=!0,ue=se("find");"find"in[]&&Array(1).find((function(){ce=!1})),Dt({target:"Array",proto:!0,forced:ce||!ue},{find:function(t){return le(this,t,arguments.length>1?arguments[1]:void 0)}}),ee("find");var de=ht.includes;Dt({target:"Array",proto:!0,forced:!se("indexOf",{ACCESSORS:!0,1:0})},{includes:function(t){return de(this,t,arguments.length>1?arguments[1]:void 0)}}),ee("includes");var fe=function(t,i){var n=[][t];return!!n&&e((function(){n.call(null,i||function(){throw 1},1)}))},he=ht.indexOf,pe=[].indexOf,ge=!!pe&&1/[1].indexOf(1,-0)<0,me=fe("indexOf"),ve=se("indexOf",{ACCESSORS:!0,1:0});Dt({target:"Array",proto:!0,forced:ge||!me||!ve},{indexOf:function(t){return ge?pe.apply(this,arguments)||0:he(this,t,arguments.length>1?arguments[1]:void 0)}});var ye,be,we,Ce=nt("navigator","userAgent")||"",xe=t.process,Se=xe&&xe.versions,ke=Se&&Se.v8;ke?we=(be=ke.split("."))[0]+be[1]:Ce&&(!(be=Ce.match(/Edge\/(\d+)/))||be[1]>=74)&&(be=Ce.match(/Chrome\/(\d+)/))&&(we=be[1]),ye=we&&+we;var _e=Ut("species"),Te=function(t){return ye>=51||!e((function(){var e=[];return(e.constructor={})[_e]=function(){return{foo:1}},1!==e[t](Boolean).foo}))},Ee=zt.map,Ie=Te("map"),Ae=se("map");Dt({target:"Array",proto:!0,forced:!Ie||!Ae},{map:function(t){return Ee(this,t,arguments.length>1?arguments[1]:void 0)}});var Oe=Object.assign,De=Object.defineProperty,Le=!Oe||e((function(){if(i&&1!==Oe({b:1},Oe(De({},"a",{enumerable:!0,get:function(){De(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol();return t[n]=7,"abcdefghijklmnopqrst".split("").forEach((function(t){e[t]=t})),7!=Oe({},t)[n]||"abcdefghijklmnopqrst"!=Gt(Oe({},e)).join("")}))?function(t,e){for(var o=Ft(t),r=arguments.length,a=1,s=bt.f,l=n.f;r>a;)for(var c,u=d(arguments[a++]),f=s?Gt(u).concat(s(u)):Gt(u),h=f.length,p=0;h>p;)c=f[p++],i&&!l.call(u,c)||(o[c]=u[c]);return o}:Oe;Dt({target:"Object",stat:!0,forced:Object.assign!==Le},{assign:Le});var Pe=Ut("match"),Fe=function(t){var e;return p(t)&&(void 0!==(e=t[Pe])?!!e:"RegExp"==c(t))},Ne=function(t){if(Fe(t))throw TypeError("The method doesn't accept regular expressions");return t},Me=Ut("match"),je=function(t){var e=/./;try{"/./"[t](e)}catch(i){try{return e[Me]=!1,"/./"[t](e)}catch(n){}}return!1};Dt({target:"String",proto:!0,forced:!je("includes")},{includes:function(t){return!!~String(f(this)).indexOf(Ne(t),arguments.length>1?arguments[1]:void 0)}});var Re,Be=x.f,He="".startsWith,Ue=Math.min,qe=je("startsWith");Dt({target:"String",proto:!0,forced:!(!qe&&(Re=Be(String.prototype,"startsWith"),Re&&!Re.writable)||qe)},{startsWith:function(t){var e=String(f(this));Ne(t);var i=lt(Ue(arguments.length>1?arguments[1]:void 0,e.length)),n=String(t);return He?He.call(e,n,i):e.slice(i,i+n.length)===n}});var Qe={exports:{}};!function(t,e){"use strict";"function"==typeof define&&define.amd?define(e):Qe.exports?Qe.exports=e():t.log=e()}(this,(function(){"use strict";var t=function(){},e="undefined"!=typeof window&&void 0!==window.navigator&&/Trident\/|MSIE /.test(window.navigator.userAgent),i=["trace","debug","info","warn","error"];function n(t,e){var i=t[e];if("function"==typeof i.bind)return i.bind(t);try{return Function.prototype.bind.call(i,t)}catch(n){return function(){return Function.prototype.apply.apply(i,[t,arguments])}}}function o(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function r(e,n){for(var o=0;o<i.length;o++){var r=i[o];this[r]=o<e?t:this.methodFactory(r,e,n)}this.log=this.debug}function a(i,a,s){return function(i){return"debug"===i&&(i="log"),"undefined"!=typeof console&&("trace"===i&&e?o:void 0!==console[i]?n(console,i):void 0!==console.log?n(console,"log"):t)}(i)||function(t,e,i){return function(){"undefined"!=typeof console&&(r.call(this,e,i),this[t].apply(this,arguments))}}.apply(this,arguments)}function s(t,e,n){var o,s=this,l="loglevel";function c(){var t;if("undefined"!=typeof window&&l){try{t=window.localStorage[l]}catch(n){}if(void 0===t)try{var e=window.document.cookie,i=e.indexOf(encodeURIComponent(l)+"=");-1!==i&&(t=/^([^;]+)/.exec(e.slice(i))[1])}catch(n){}return void 0===s.levels[t]&&(t=void 0),t}}"string"==typeof t?l+=":"+t:"symbol"==typeof t&&(l=void 0),s.name=t,s.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},s.methodFactory=n||a,s.getLevel=function(){return o},s.setLevel=function(e,n){if("string"==typeof e&&void 0!==s.levels[e.toUpperCase()]&&(e=s.levels[e.toUpperCase()]),!("number"==typeof e&&e>=0&&e<=s.levels.SILENT))throw"log.setLevel() called with invalid level: "+e;if(o=e,!1!==n&&function(t){var e=(i[t]||"silent").toUpperCase();if("undefined"!=typeof window&&l){try{return void(window.localStorage[l]=e)}catch(n){}try{window.document.cookie=encodeURIComponent(l)+"="+e+";"}catch(n){}}}(e),r.call(s,e,t),"undefined"==typeof console&&e<s.levels.SILENT)return"No console available for logging"},s.setDefaultLevel=function(t){c()||s.setLevel(t,!1)},s.enableAll=function(t){s.setLevel(s.levels.TRACE,t)},s.disableAll=function(t){s.setLevel(s.levels.SILENT,t)};var u=c();null==u&&(u=null==e?"WARN":e),s.setLevel(u,!1)}var l=new s,c={};l.getLogger=function(t){if("symbol"!=typeof t&&"string"!=typeof t||""===t)throw new TypeError("You must supply a name when creating a logger.");var e=c[t];return e||(e=c[t]=new s(t,l.getLevel(),l.methodFactory)),e};var u="undefined"!=typeof window?window.log:void 0;return l.noConflict=function(){return"undefined"!=typeof window&&window.log===l&&(window.log=u),l},l.getLoggers=function(){return c},l.default=l,l})),Qe=Qe.exports;var Ve={};!function(t){var e;if("function"==typeof define&&define.amd&&(define(t),e=!0),"object"==typeof Ve&&(Ve=t(),e=!0),!e){var i=window.Cookies,n=window.Cookies=t();n.noConflict=function(){return window.Cookies=i,n}}}((function(){function t(){for(var t=0,e={};t<arguments.length;t++){var i=arguments[t];for(var n in i)e[n]=i[n]}return e}function e(t){return t.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function i(n){function o(){}function r(e,i,r){if("undefined"!=typeof document){"number"==typeof(r=t({path:"/"},o.defaults,r)).expires&&(r.expires=new Date(1*new Date+864e5*r.expires)),r.expires=r.expires?r.expires.toUTCString():"";try{var a=JSON.stringify(i);/^[\{\[]/.test(a)&&(i=a)}catch(c){}i=n.write?n.write(i,e):encodeURIComponent(String(i)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=encodeURIComponent(String(e)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var l in r)r[l]&&(s+="; "+l,!0!==r[l]&&(s+="="+r[l].split(";")[0]));return document.cookie=e+"="+i+s}}function a(t,i){if("undefined"!=typeof document){for(var o={},r=document.cookie?document.cookie.split("; "):[],a=0;a<r.length;a++){var s=r[a].split("="),l=s.slice(1).join("=");i||'"'!==l.charAt(0)||(l=l.slice(1,-1));try{var c=e(s[0]);if(l=(n.read||n)(l,c)||e(l),i)try{l=JSON.parse(l)}catch(u){}if(o[c]=l,t===c)break}catch(u){}}return t?o[t]:o}}return o.set=r,o.get=function(t){return a(t,!1)},o.getJSON=function(t){return a(t,!0)},o.remove=function(e,i){r(e,"",t(i,{expires:-1}))},o.defaults={},o.withConverter=i,o}((function(){}))}));var We,ze={exports:{}};We=function(){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=t,i.c=e,i.i=function(t){return t},i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=6)}([function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.css=e.deepExtend=e.animationEndEvents=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.inArray=function(t,e,i){var n=void 0;if(i){for(n in e)if(e.hasOwnProperty(n)&&e[n]===t)return!0}else for(n in e)if(e.hasOwnProperty(n)&&e[n]===t)return!0;return!1},e.stopPropagation=function(t){void 0!==(t=t||window.event).stopPropagation?t.stopPropagation():t.cancelBubble=!0},e.generateID=function(){var t="noty_"+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")+"_";return t+"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))},e.outerHeight=function(t){var e=t.offsetHeight,i=window.getComputedStyle(t);return e+(parseInt(i.marginTop)+parseInt(i.marginBottom))},e.addListener=r,e.hasClass=a,e.addClass=function(t,e){var i=l(t),n=i+e;a(i,e)||(t.className=n.substring(1))},e.removeClass=function(t,e){var i=l(t),n=void 0;a(t,e)&&(n=i.replace(" "+e+" "," "),t.className=n.substring(1,n.length-1))},e.remove=s,e.classList=l,e.visibilityChangeFlow=function(){var t=void 0,e=void 0;function i(){o.PageHidden?setTimeout((function(){Object.keys(o.Store).forEach((function(t){o.Store.hasOwnProperty(t)&&o.Store[t].options.visibilityControl&&o.Store[t].stop()}))}),100):setTimeout((function(){Object.keys(o.Store).forEach((function(t){o.Store.hasOwnProperty(t)&&o.Store[t].options.visibilityControl&&o.Store[t].resume()})),o.queueRenderAll()}),100)}void 0!==document.hidden?(t="hidden",e="visibilitychange"):void 0!==document.msHidden?(t="msHidden",e="msvisibilitychange"):void 0!==document.webkitHidden&&(t="webkitHidden",e="webkitvisibilitychange"),e&&r(document,e,(function(){o.PageHidden=document[t],i()})),r(window,"blur",(function(){o.PageHidden=!0,i()})),r(window,"focus",(function(){o.PageHidden=!1,i()}))},e.createAudioElements=function(t){if(t.hasSound){var e=document.createElement("audio");t.options.sounds.sources.forEach((function(t){var i=document.createElement("source");i.src=t,i.type="audio/"+t.match(/\.([^.]+)$/)[1],e.appendChild(i)})),t.barDom?t.barDom.appendChild(e):document.querySelector("body").appendChild(e),e.volume=t.options.sounds.volume,t.soundPlayed||(e.play(),t.soundPlayed=!0),e.onended=function(){s(e)}}};var o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(i(1));function r(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e=e.split(" ");for(var o=0;o<e.length;o++)document.addEventListener?t.addEventListener(e[o],i,n):document.attachEvent&&t.attachEvent("on"+e[o],i)}function a(t,e){return("string"==typeof t?t:l(t)).indexOf(" "+e+" ")>=0}function s(t){t.parentNode&&t.parentNode.removeChild(t)}function l(t){return(" "+(t&&t.className||"")+" ").replace(/\s+/gi," ")}e.animationEndEvents="webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",e.deepExtend=function t(e){e=e||{};for(var i=1;i<arguments.length;i++){var o=arguments[i];if(o)for(var r in o)o.hasOwnProperty(r)&&(Array.isArray(o[r])?e[r]=o[r]:"object"===n(o[r])&&null!==o[r]?e[r]=t(e[r],o[r]):e[r]=o[r])}return e},e.css=function(){var t=["Webkit","O","Moz","ms"],e={};function i(i,n,o){var r;r=(r=n).replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,(function(t,e){return e.toUpperCase()})),n=e[r]||(e[r]=function(e){var i=document.body.style;if(e in i)return e;for(var n=t.length,o=e.charAt(0).toUpperCase()+e.slice(1),r=void 0;n--;)if((r=t[n]+o)in i)return r;return e}(r)),i.style[n]=o}return function(t,e){var n=arguments,o=void 0,r=void 0;if(2===n.length)for(o in e)e.hasOwnProperty(o)&&void 0!==(r=e[o])&&e.hasOwnProperty(o)&&i(t,o,r);else i(t,n[1],n[2])}}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Defaults=e.Store=e.Queues=e.DefaultMaxVisible=e.docTitle=e.DocModalCount=e.PageHidden=void 0,e.getQueueCounts=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"global",e=0,i=s;return l.hasOwnProperty(t)&&(i=l[t].maxVisible,Object.keys(c).forEach((function(i){c[i].options.queue!==t||c[i].closed||e++}))),{current:e,maxVisible:i}},e.addToQueue=function(t){l.hasOwnProperty(t.options.queue)||(l[t.options.queue]={maxVisible:s,queue:[]}),l[t.options.queue].queue.push(t)},e.removeFromQueue=function(t){if(l.hasOwnProperty(t.options.queue)){var e=[];Object.keys(l[t.options.queue].queue).forEach((function(i){l[t.options.queue].queue[i].id!==t.id&&e.push(l[t.options.queue].queue[i])})),l[t.options.queue].queue=e}},e.queueRender=u,e.queueRenderAll=function(){Object.keys(l).forEach((function(t){u(t)}))},e.ghostFix=function(t){var e=n.generateID("ghost"),i=document.createElement("div");i.setAttribute("id",e),n.css(i,{height:n.outerHeight(t.barDom)+"px"}),t.barDom.insertAdjacentHTML("afterend",i.outerHTML),n.remove(t.barDom),i=document.getElementById(e),n.addClass(i,"noty_fix_effects_height"),n.addListener(i,n.animationEndEvents,(function(){n.remove(i)}))},e.build=function(t){!function(t){if(t.options.container)t.layoutDom=document.querySelector(t.options.container);else{var e="noty_layout__"+t.options.layout;t.layoutDom=document.querySelector("div#"+e),t.layoutDom||(t.layoutDom=document.createElement("div"),t.layoutDom.setAttribute("id",e),t.layoutDom.setAttribute("role","alert"),t.layoutDom.setAttribute("aria-live","polite"),n.addClass(t.layoutDom,"noty_layout"),document.querySelector("body").appendChild(t.layoutDom))}}(t);var e='<div class="noty_body">'+t.options.text+"</div>"+function(t){if(d(t)){var e=document.createElement("div");return n.addClass(e,"noty_buttons"),Object.keys(t.options.buttons).forEach((function(i){e.appendChild(t.options.buttons[i].dom)})),t.options.buttons.forEach((function(t){e.appendChild(t.dom)})),e.outerHTML}return""}(t)+'<div class="noty_progressbar"></div>';t.barDom=document.createElement("div"),t.barDom.setAttribute("id",t.id),n.addClass(t.barDom,"noty_bar noty_type__"+t.options.type+" noty_theme__"+t.options.theme),t.barDom.innerHTML=e,p(t,"onTemplate")},e.hasButtons=d,e.handleModal=function(t){var i,r;t.options.modal&&(0===o&&(i=document.querySelector("body"),r=document.createElement("div"),n.addClass(r,"noty_modal"),i.insertBefore(r,i.firstChild),n.addClass(r,"noty_modal_open"),n.addListener(r,n.animationEndEvents,(function(){n.removeClass(r,"noty_modal_open")}))),e.DocModalCount=o+=1)},e.handleModalClose=function(t){if(t.options.modal&&o>0&&(e.DocModalCount=o-=1,o<=0)){var i=document.querySelector(".noty_modal");i&&(n.removeClass(i,"noty_modal_open"),n.addClass(i,"noty_modal_close"),n.addListener(i,n.animationEndEvents,(function(){n.remove(i)})))}},e.queueClose=f,e.dequeueClose=h,e.fire=p,e.openFlow=function(t){p(t,"afterShow"),f(t),n.addListener(t.barDom,"mouseenter",(function(){h(t)})),n.addListener(t.barDom,"mouseleave",(function(){f(t)}))},e.closeFlow=function(t){delete c[t.id],t.closing=!1,p(t,"afterClose"),n.remove(t.barDom),0!==t.layoutDom.querySelectorAll(".noty_bar").length||t.options.container||n.remove(t.layoutDom),(n.inArray("docVisible",t.options.titleCount.conditions)||n.inArray("docHidden",t.options.titleCount.conditions))&&a.decrement(),u(t.options.queue)};var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(i(0));e.PageHidden=!1;var o=e.DocModalCount=0,r={originalTitle:null,count:0,changed:!1,timer:-1},a=e.docTitle={increment:function(){r.count++,a._update()},decrement:function(){r.count--,r.count<=0?a._clear():a._update()},_update:function(){var t=document.title;r.changed?document.title="("+r.count+") "+r.originalTitle:(r.originalTitle=t,document.title="("+r.count+") "+t,r.changed=!0)},_clear:function(){r.changed&&(r.count=0,document.title=r.originalTitle,r.changed=!1)}},s=e.DefaultMaxVisible=5,l=e.Queues={global:{maxVisible:s,queue:[]}},c=e.Store={};function u(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"global";if(l.hasOwnProperty(t)){var e=l[t].queue.shift();e&&e.show()}}function d(t){return!(!t.options.buttons||!Object.keys(t.options.buttons).length)}function f(t){t.options.timeout&&(t.options.progressBar&&t.progressDom&&n.css(t.progressDom,{transition:"width "+t.options.timeout+"ms linear",width:"0%"}),clearTimeout(t.closeTimer),t.closeTimer=setTimeout((function(){t.close()}),t.options.timeout))}function h(t){t.options.timeout&&t.closeTimer&&(clearTimeout(t.closeTimer),t.closeTimer=-1,t.options.progressBar&&t.progressDom&&n.css(t.progressDom,{transition:"width 0ms linear",width:"100%"}))}function p(t,e){t.listeners.hasOwnProperty(e)&&t.listeners[e].forEach((function(e){"function"==typeof e&&e.apply(t)}))}e.Defaults={type:"alert",layout:"topRight",theme:"mint",text:"",timeout:!1,progressBar:!0,closeWith:["click"],animation:{open:"noty_effects_open",close:"noty_effects_close"},id:!1,force:!1,killer:!1,queue:"global",container:!1,buttons:[],callbacks:{beforeShow:null,onShow:null,afterShow:null,onClose:null,afterClose:null,onClick:null,onHover:null,onTemplate:null},sounds:{sources:[],volume:1,conditions:[]},titleCount:{conditions:[]},modal:!1,visibilityControl:!1}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NotyButton=void 0;var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(i(0));e.NotyButton=function t(e,i,o){var r=this,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.dom=document.createElement("button"),this.dom.innerHTML=e,this.id=a.id=a.id||n.generateID("button"),this.cb=o,Object.keys(a).forEach((function(t){r.dom.setAttribute(t,a[t])})),n.addClass(this.dom,i||"noty_btn"),this}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();e.Push=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/service-worker.js";return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.subData={},this.workerPath=e,this.listeners={onPermissionGranted:[],onPermissionDenied:[],onSubscriptionSuccess:[],onSubscriptionCancel:[],onWorkerError:[],onWorkerSuccess:[],onWorkerNotSupported:[]},this}return n(t,[{key:"on",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return"function"==typeof e&&this.listeners.hasOwnProperty(t)&&this.listeners[t].push(e),this}},{key:"fire",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.listeners.hasOwnProperty(t)&&this.listeners[t].forEach((function(t){"function"==typeof t&&t.apply(e,i)}))}},{key:"create",value:function(){console.log("NOT IMPLEMENTED YET")}},{key:"isSupported",value:function(){var t=!1;try{t=window.Notification||window.webkitNotifications||navigator.mozNotification||window.external&&void 0!==window.external.msIsSiteMode()}catch(e){}return t}},{key:"getPermissionStatus",value:function(){var t="default";if(window.Notification&&window.Notification.permissionLevel)t=window.Notification.permissionLevel;else if(window.webkitNotifications&&window.webkitNotifications.checkPermission)switch(window.webkitNotifications.checkPermission()){case 1:t="default";break;case 0:t="granted";break;default:t="denied"}else window.Notification&&window.Notification.permission?t=window.Notification.permission:navigator.mozNotification?t="granted":window.external&&void 0!==window.external.msIsSiteMode()&&(t=window.external.msIsSiteMode()?"granted":"default");return t.toString().toLowerCase()}},{key:"getEndpoint",value:function(t){var e=t.endpoint,i=t.subscriptionId;return i&&-1===e.indexOf(i)&&(e+="/"+i),e}},{key:"isSWRegistered",value:function(){try{return"activated"===navigator.serviceWorker.controller.state}catch(t){return!1}}},{key:"unregisterWorker",value:function(){var t=this;"serviceWorker"in navigator&&navigator.serviceWorker.getRegistrations().then((function(e){var i=!0,n=!1,o=void 0;try{for(var r,a=e[Symbol.iterator]();!(i=(r=a.next()).done);i=!0)r.value.unregister(),t.fire("onSubscriptionCancel")}catch(s){n=!0,o=s}finally{try{!i&&a.return&&a.return()}finally{if(n)throw o}}}))}},{key:"requestSubscription",value:function(){var t=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],i=this,n=this.getPermissionStatus(),o=function(n){"granted"===n?(t.fire("onPermissionGranted"),"serviceWorker"in navigator?navigator.serviceWorker.register(t.workerPath).then((function(){navigator.serviceWorker.ready.then((function(t){i.fire("onWorkerSuccess"),t.pushManager.subscribe({userVisibleOnly:e}).then((function(t){var e=t.getKey("p256dh"),n=t.getKey("auth");i.subData={endpoint:i.getEndpoint(t),p256dh:e?window.btoa(String.fromCharCode.apply(null,new Uint8Array(e))):null,auth:n?window.btoa(String.fromCharCode.apply(null,new Uint8Array(n))):null},i.fire("onSubscriptionSuccess",[i.subData])})).catch((function(t){i.fire("onWorkerError",[t])}))}))})):i.fire("onWorkerNotSupported")):"denied"===n&&(t.fire("onPermissionDenied"),t.unregisterWorker())};"default"===n?window.Notification&&window.Notification.requestPermission?window.Notification.requestPermission(o):window.webkitNotifications&&window.webkitNotifications.checkPermission&&window.webkitNotifications.requestPermission(o):o(n)}}]),t}()},function(t,e,i){(function(e,n){var o;o=function(){"use strict";function t(t){return"function"==typeof t}var o=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},r=0,a=void 0,s=void 0,l=function(t,e){g[r]=t,g[r+1]=e,2===(r+=2)&&(s?s(m):C())},c="undefined"!=typeof window?window:void 0,u=c||{},d=u.MutationObserver||u.WebKitMutationObserver,f="undefined"==typeof self&&void 0!==e&&"[object process]"==={}.toString.call(e),h="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function p(){var t=setTimeout;return function(){return t(m,1)}}var g=new Array(1e3);function m(){for(var t=0;t<r;t+=2)(0,g[t])(g[t+1]),g[t]=void 0,g[t+1]=void 0;r=0}var v,y,b,w,C=void 0;function x(t,e){var i=arguments,n=this,o=new this.constructor(_);void 0===o[k]&&B(o);var r,a=n._state;return a?(r=i[a-1],l((function(){return j(a,o,r,n._result)}))):P(n,o,t,e),o}function S(t){if(t&&"object"==typeof t&&t.constructor===this)return t;var e=new this(_);return A(e,t),e}f?C=function(){return e.nextTick(m)}:d?(y=0,b=new d(m),w=document.createTextNode(""),b.observe(w,{characterData:!0}),C=function(){w.data=y=++y%2}):h?((v=new MessageChannel).port1.onmessage=m,C=function(){return v.port2.postMessage(0)}):C=void 0===c?function(){try{var t=i(9);return void 0!==(a=t.runOnLoop||t.runOnContext)?function(){a(m)}:p()}catch(e){return p()}}():p();var k=Math.random().toString(36).substring(16);function _(){}var T=new N;function E(t){try{return t.then}catch(e){return T.error=e,T}}function I(e,i,n){i.constructor===e.constructor&&n===x&&i.constructor.resolve===S?function(t,e){1===e._state?D(t,e._result):2===e._state?L(t,e._result):P(e,void 0,(function(e){return A(t,e)}),(function(e){return L(t,e)}))}(e,i):n===T?(L(e,T.error),T.error=null):void 0===n?D(e,i):t(n)?function(t,e,i){l((function(t){var n=!1,o=function(i,o,r,a){try{i.call(o,(function(i){n||(n=!0,e!==i?A(t,i):D(t,i))}),(function(e){n||(n=!0,L(t,e))}))}catch(s){return s}}(i,e,0,0,t._label);!n&&o&&(n=!0,L(t,o))}),t)}(e,i,n):D(e,i)}function A(t,e){var i,n;t===e?L(t,new TypeError("You cannot resolve a promise with itself")):(n=typeof(i=e),null===i||"object"!==n&&"function"!==n?D(t,e):I(t,e,E(e)))}function O(t){t._onerror&&t._onerror(t._result),F(t)}function D(t,e){void 0===t._state&&(t._result=e,t._state=1,0!==t._subscribers.length&&l(F,t))}function L(t,e){void 0===t._state&&(t._state=2,t._result=e,l(O,t))}function P(t,e,i,n){var o=t._subscribers,r=o.length;t._onerror=null,o[r]=e,o[r+1]=i,o[r+2]=n,0===r&&t._state&&l(F,t)}function F(t){var e=t._subscribers,i=t._state;if(0!==e.length){for(var n=void 0,o=void 0,r=t._result,a=0;a<e.length;a+=3)n=e[a],o=e[a+i],n?j(i,n,o,r):o(r);t._subscribers.length=0}}function N(){this.error=null}var M=new N;function j(e,i,n,o){var r=t(n),a=void 0,s=void 0,l=void 0,c=void 0;if(r){if((a=function(t,e){try{return t(e)}catch(i){return M.error=i,M}}(n,o))===M?(c=!0,s=a.error,a.error=null):l=!0,i===a)return void L(i,new TypeError("A promises callback cannot return that same promise."))}else a=o,l=!0;void 0!==i._state||(r&&l?A(i,a):c?L(i,s):1===e?D(i,a):2===e&&L(i,a))}var R=0;function B(t){t[k]=R++,t._state=void 0,t._result=void 0,t._subscribers=[]}function H(t,e){this._instanceConstructor=t,this.promise=new t(_),this.promise[k]||B(this.promise),o(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?D(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&D(this.promise,this._result))):L(this.promise,new Error("Array Methods must be provided an Array"))}function U(t){this[k]=R++,this._result=this._state=void 0,this._subscribers=[],_!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof U?function(t,e){try{e((function(e){A(t,e)}),(function(e){L(t,e)}))}catch(i){L(t,i)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return H.prototype._enumerate=function(t){for(var e=0;void 0===this._state&&e<t.length;e++)this._eachEntry(t[e],e)},H.prototype._eachEntry=function(t,e){var i=this._instanceConstructor,n=i.resolve;if(n===S){var o=E(t);if(o===x&&void 0!==t._state)this._settledAt(t._state,e,t._result);else if("function"!=typeof o)this._remaining--,this._result[e]=t;else if(i===U){var r=new i(_);I(r,t,o),this._willSettleAt(r,e)}else this._willSettleAt(new i((function(e){return e(t)})),e)}else this._willSettleAt(n(t),e)},H.prototype._settledAt=function(t,e,i){var n=this.promise;void 0===n._state&&(this._remaining--,2===t?L(n,i):this._result[e]=i),0===this._remaining&&D(n,this._result)},H.prototype._willSettleAt=function(t,e){var i=this;P(t,void 0,(function(t){return i._settledAt(1,e,t)}),(function(t){return i._settledAt(2,e,t)}))},U.all=function(t){return new H(this,t).promise},U.race=function(t){var e=this;return o(t)?new e((function(i,n){for(var o=t.length,r=0;r<o;r++)e.resolve(t[r]).then(i,n)})):new e((function(t,e){return e(new TypeError("You must pass an array to race."))}))},U.resolve=S,U.reject=function(t){var e=new this(_);return L(e,t),e},U._setScheduler=function(t){s=t},U._setAsap=function(t){l=t},U._asap=l,U.prototype={constructor:U,then:x,catch:function(t){return this.then(null,t)}},U.polyfill=function(){var t=void 0;if(void 0!==n)t=n;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(o){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var i=null;try{i=Object.prototype.toString.call(e.resolve())}catch(o){}if("[object Promise]"===i&&!e.cast)return}t.Promise=U},U.Promise=U,U},t.exports=o()}).call(e,i(7),i(8))},function(t,e){},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();i(5);var o,r=(o=i(4))&&o.__esModule?o:{default:o},a=u(i(0)),s=u(i(1)),l=i(2),c=i(3);function u(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}var d=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.options=a.deepExtend({},s.Defaults,e),this.id=this.options.id||a.generateID("bar"),this.closeTimer=-1,this.barDom=null,this.layoutDom=null,this.progressDom=null,this.showing=!1,this.shown=!1,this.closed=!1,this.closing=!1,this.killable=this.options.timeout||this.options.closeWith.length>0,this.hasSound=this.options.sounds.sources.length>0,this.soundPlayed=!1,this.listeners={beforeShow:[],onShow:[],afterShow:[],onClose:[],afterClose:[],onClick:[],onHover:[],onTemplate:[]},this.promises={show:null,close:null},this.on("beforeShow",this.options.callbacks.beforeShow),this.on("onShow",this.options.callbacks.onShow),this.on("afterShow",this.options.callbacks.afterShow),this.on("onClose",this.options.callbacks.onClose),this.on("afterClose",this.options.callbacks.afterClose),this.on("onClick",this.options.callbacks.onClick),this.on("onHover",this.options.callbacks.onHover),this.on("onTemplate",this.options.callbacks.onTemplate),this}return n(t,[{key:"on",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return"function"==typeof e&&this.listeners.hasOwnProperty(t)&&this.listeners[t].push(e),this}},{key:"show",value:function(){var e=this;!0===this.options.killer?t.closeAll():"string"==typeof this.options.killer&&t.closeAll(this.options.killer);var i=s.getQueueCounts(this.options.queue);if(i.current>=i.maxVisible||s.PageHidden&&this.options.visibilityControl)return s.addToQueue(this),s.PageHidden&&this.hasSound&&a.inArray("docHidden",this.options.sounds.conditions)&&a.createAudioElements(this),s.PageHidden&&a.inArray("docHidden",this.options.titleCount.conditions)&&s.docTitle.increment(),this;if(s.Store[this.id]=this,s.fire(this,"beforeShow"),this.showing=!0,this.closing)return this.showing=!1,this;if(s.build(this),s.handleModal(this),this.options.force?this.layoutDom.insertBefore(this.barDom,this.layoutDom.firstChild):this.layoutDom.appendChild(this.barDom),this.hasSound&&!this.soundPlayed&&a.inArray("docVisible",this.options.sounds.conditions)&&a.createAudioElements(this),a.inArray("docVisible",this.options.titleCount.conditions)&&s.docTitle.increment(),this.shown=!0,this.closed=!1,s.hasButtons(this)&&Object.keys(this.options.buttons).forEach((function(t){var i=e.barDom.querySelector("#"+e.options.buttons[t].id);a.addListener(i,"click",(function(i){a.stopPropagation(i),e.options.buttons[t].cb()}))})),this.progressDom=this.barDom.querySelector(".noty_progressbar"),a.inArray("click",this.options.closeWith)&&(a.addClass(this.barDom,"noty_close_with_click"),a.addListener(this.barDom,"click",(function(t){a.stopPropagation(t),s.fire(e,"onClick"),e.close()}),!1)),a.addListener(this.barDom,"mouseenter",(function(){s.fire(e,"onHover")}),!1),this.options.timeout&&a.addClass(this.barDom,"noty_has_timeout"),this.options.progressBar&&a.addClass(this.barDom,"noty_has_progressbar"),a.inArray("button",this.options.closeWith)){a.addClass(this.barDom,"noty_close_with_button");var n=document.createElement("div");a.addClass(n,"noty_close_button"),n.innerHTML="\xd7",this.barDom.appendChild(n),a.addListener(n,"click",(function(t){a.stopPropagation(t),e.close()}),!1)}return s.fire(this,"onShow"),null===this.options.animation.open?this.promises.show=new r.default((function(t){t()})):"function"==typeof this.options.animation.open?this.promises.show=new r.default(this.options.animation.open.bind(this)):(a.addClass(this.barDom,this.options.animation.open),this.promises.show=new r.default((function(t){a.addListener(e.barDom,a.animationEndEvents,(function(){a.removeClass(e.barDom,e.options.animation.open),t()}))}))),this.promises.show.then((function(){var t=e;setTimeout((function(){s.openFlow(t)}),100)})),this}},{key:"stop",value:function(){return s.dequeueClose(this),this}},{key:"resume",value:function(){return s.queueClose(this),this}},{key:"setTimeout",value:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){if(this.stop(),this.options.timeout=t,this.barDom){this.options.timeout?a.addClass(this.barDom,"noty_has_timeout"):a.removeClass(this.barDom,"noty_has_timeout");var e=this;setTimeout((function(){e.resume()}),100)}return this}))},{key:"setText",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.barDom&&(this.barDom.querySelector(".noty_body").innerHTML=t),e&&(this.options.text=t),this}},{key:"setType",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.barDom&&(a.classList(this.barDom).split(" ").forEach((function(t){"noty_type__"===t.substring(0,11)&&a.removeClass(e.barDom,t)})),a.addClass(this.barDom,"noty_type__"+t)),i&&(this.options.type=t),this}},{key:"setTheme",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.barDom&&(a.classList(this.barDom).split(" ").forEach((function(t){"noty_theme__"===t.substring(0,12)&&a.removeClass(e.barDom,t)})),a.addClass(this.barDom,"noty_theme__"+t)),i&&(this.options.theme=t),this}},{key:"close",value:function(){var t=this;return this.closed?this:this.shown?(s.fire(this,"onClose"),this.closing=!0,null===this.options.animation.close?this.promises.close=new r.default((function(t){t()})):"function"==typeof this.options.animation.close?this.promises.close=new r.default(this.options.animation.close.bind(this)):(a.addClass(this.barDom,this.options.animation.close),this.promises.close=new r.default((function(e){a.addListener(t.barDom,a.animationEndEvents,(function(){t.options.force?a.remove(t.barDom):s.ghostFix(t),e()}))}))),this.promises.close.then((function(){s.closeFlow(t),s.handleModalClose(t)})),this.closed=!0,this):(s.removeFromQueue(this),this)}}],[{key:"closeAll",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Object.keys(s.Store).forEach((function(e){t?s.Store[e].options.queue===t&&s.Store[e].killable&&s.Store[e].close():s.Store[e].killable&&s.Store[e].close()})),this}},{key:"overrideDefaults",value:function(t){return s.Defaults=a.deepExtend({},s.Defaults,t),this}},{key:"setMaxVisible",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.DefaultMaxVisible,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"global";return s.Queues.hasOwnProperty(e)||(s.Queues[e]={maxVisible:t,queue:[]}),s.Queues[e].maxVisible=t,this}},{key:"button",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new l.NotyButton(t,e,i,n)}},{key:"version",value:function(){return"3.1.4"}},{key:"Push",value:function(t){return new c.Push(t)}}]),t}();e.default=d,a.visibilityChangeFlow(),t.exports=e.default},function(t,e){var i,n,o=t.exports={};function r(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(i===setTimeout)return setTimeout(t,0);if((i===r||!i)&&setTimeout)return i=setTimeout,setTimeout(t,0);try{return i(t,0)}catch(e){try{return i.call(null,t,0)}catch(e){return i.call(this,t,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:r}catch(t){i=r}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(t){n=a}}();var l,c=[],u=!1,d=-1;function f(){u&&l&&(u=!1,l.length?c=l.concat(c):d=-1,c.length&&h())}function h(){if(!u){var t=s(f);u=!0;for(var e=c.length;e;){for(l=c,c=[];++d<e;)l&&l[d].run();d=-1,e=c.length}l=null,u=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function g(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];c.push(new p(t,e)),1!==c.length||u||s(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(n){"object"==typeof window&&(i=window)}t.exports=i},function(t,e){}])},"object"==typeof ze.exports?ze.exports=We():"function"==typeof define&&define.amd?define("Noty",[],We):"object"==typeof ze.exports?ze.exports.Noty=We():this.Noty=We(),ze=ze.exports;var Ge,Ze={Notification:void 0},Je=(Ge=ze)&&Ge.__esModule?Ge:{default:Ge},Ke={options:{layout:"center",theme:"uswdsTheme",animation:{open:"animated fade-in-down",close:"animated fade-out-up"},callbacks:{onShow:function(){this.layoutDom.classList.add("notification"),this.layoutDom.setAttribute("role","alert"),this.layoutDom.setAttribute("aria-live","assertive"),this.barDom.classList.add("uswdsTheme")}},timeout:5e3},notify:function(t,e){new Je.default(Object.assign({text:t,type:e},Ke.options)).show()},info:function(t){return Ke.notify(t,"information")},warning:function(t){return Ke.notify(t,"warning")},error:function(t){return Ke.notify(t,"error")}};Ze.Notification=Ke;var Ye=zt.forEach,$e=fe("forEach"),Xe=se("forEach"),ti=$e&&Xe?[].forEach:function(t){return Ye(this,t,arguments.length>1?arguments[1]:void 0)};Dt({target:"Array",proto:!0,forced:[].forEach!=ti},{forEach:ti});var ei=function(t,e,i){var n=g(e);n in t?_.f(t,n,s(0,i)):t[n]=i},ii=Te("splice"),ni=se("splice",{ACCESSORS:!0,0:0,1:2}),oi=Math.max,ri=Math.min;Dt({target:"Array",proto:!0,forced:!ii||!ni},{splice:function(t,e){var i,n,o,r,a,s,l=Ft(this),c=lt(l.length),u=dt(t,c),d=arguments.length;if(0===d?i=n=0:1===d?(i=0,n=c-u):(i=d-2,n=ri(oi(at(e),0),c-u)),c+i-n>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(o=Qt(l,n),r=0;r<n;r++)(a=u+r)in l&&ei(o,r,l[a]);if(o.length=n,i<n){for(r=u;r<c-n;r++)s=r+i,(a=r+n)in l?l[s]=l[a]:delete l[s];for(r=c;r>c-n+i;r--)delete l[r-1]}else if(i>n)for(r=c-n;r>u;r--)s=r+i-1,(a=r+n-1)in l?l[s]=l[a]:delete l[s];for(r=0;r<i;r++)l[r+u]=arguments[r+2];return l.length=c-n+i,o}});for(var ai in{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}){var si=t[ai],li=si&&si.prototype;if(li&&li.forEach!==ti)try{E(li,"forEach",ti)}catch(ja){li.forEach=ti}}var ci={};(function(t){(function(){"use strict";ci.OverlayBlock=void 0;var e,i=(e="undefined"!=typeof window?window.jQuery:void 0!==t?t.jQuery:null)&&e.__esModule?e:{default:e},n=function(){function t(t){var e=t.container,n=t.cssClass,o=t.triggers;this.overlay=(0,i.default)(e).parent(),this.overlay.addClass(n),this.container=(0,i.default)(e).attr("role","document"),this.triggers=o,this.initTriggers(),this.initAppearance(),this.initCloseButton(),this.trapFocus(this.container)}var e=t.prototype;return e.initTriggers=function(){var t=this;this.triggers&&this.triggers.length&&this.triggers.on("click",(function(e){e.preventDefault(),t.activeTrigger=(0,i.default)(e.target).closest(t.triggers),t.show()}))},e.initAppearance=function(){var t=this;this.overlay.on("click",(function(e){(0,i.default)(e.target).closest(t.container)[0]||t.hide()})),this.overlay.on("click",".close-overlay",(function(e){e.preventDefault(),t.hide()})),this.overlay.on("keypress",(function(e){"escape"===e.key.toLowerCase()&&t.hide()})),(0,i.default)(window).on("resize",(function(){return t.checkContainerHeight()}))},e.initCloseButton=function(){this.overlay.find(".close-overlay").attr("data-pinger-ignore","true")},e.trapFocus=function(t){var e=(0,i.default)(t[0]).find('a:visible, button:visible, textarea, input[type="text"], input[type="radio"], input[type="checkbox"], select'),n=e[0],o=e[e.length-1];(0,i.default)(t[0]).keydown((function(t){"tab"===t.key.toLowerCase()&&(t.shiftKey?document.activeElement===n&&(o.focus(),t.preventDefault()):document.activeElement===o&&(n.focus(),t.preventDefault()))}))},e.checkContainerHeight=function(){this.container.outerHeight()>(0,i.default)(window).height()?this.container.addClass("long"):this.container.removeClass("long")},e.show=function(){this.overlay.scrollTop(0).addClass("active"),this.checkContainerHeight(),t.controller.activate(this),this.container.trigger("overlay-active");var e=this.container.find(".dialog-focus");e.length&&e.focus()},e.hide=function(){this.overlay.removeClass("active"),t.controller.deactivate(this),this.activeTrigger&&(this.activeTrigger.focus(),this.activeTrigger=null),this.overlay.trigger("overlay-hide-called")},t}();ci.OverlayBlock=n,n.controller={activeBlocks:[],startIndex:10,init:function(){var t=this;this.pageContainer=(0,i.default)("body"),this.fakeScrollEl=(0,i.default)('<div class="fake-body-scroll">').appendTo(this.pageContainer),(0,i.default)(window).on("keydown",(function(e){if("escape"===e.key.toLowerCase()){var i=t.activeBlocks.length-1;-1!==i&&t.activeBlocks[i].hide()}}))},activate:function(t){var e=this.activeBlocks.indexOf(t);-1!==e&&(this.activeBlocks.splice(e,1),this.rearrange()),this.activeBlocks.push(t),t.overlay.css("z-index",this.startIndex+this.activeBlocks.length),1===this.activeBlocks.length&&this.disableContainerScroll()},deactivate:function(t){var e=this.activeBlocks.indexOf(t);-1!==e&&(this.activeBlocks.splice(e,1),this.rearrange()),this.activeBlocks.length||this.enableContainerScroll()},rearrange:function(){var t=this;this.activeBlocks.forEach((function(e,i){return e.overlay.css("z-index",t.startIndex+i+1)}))},enableContainerScroll:function(){this.pageContainer.removeClass("no-scroll")},disableContainerScroll:function(){this.pageContainer.addClass("no-scroll")}},n.controller.init()}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var ui,di={};di[Ut("toStringTag")]="z",ui="[object z]"===String(di);var fi=Ut("toStringTag"),hi="Arguments"==c(function(){return arguments}()),pi=ui?c:function(t){var e,i,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=function(t,e){try{return t[e]}catch(ja){}}(e=Object(t),fi))?i:hi?c(e):"Object"==(n=c(e))&&"function"==typeof e.callee?"Arguments":n},gi=ui?{}.toString:function(){return"[object "+pi(this)+"]"};ui||K(Object.prototype,"toString",gi,{unsafe:!0});var mi=function(){var t=k(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e},vi=RegExp.prototype,yi=vi.toString,bi=e((function(){return"/a/b"!=yi.call({source:"a",flags:"b"})})),wi="toString"!=yi.name;(bi||wi)&&K(RegExp.prototype,"toString",(function(){var t=k(this),e=String(t.source),i=t.flags;return"/"+e+"/"+String(void 0===i&&t instanceof RegExp&&!("flags"in vi)?mi.call(t):i)}),{unsafe:!0});var Ci,xi={pingerErrorHandler:function(t,e){Si.default.getLogger(t).error(e),window.ncbi.pinger&&window.ncbi.pinger._handleError&&window.ncbi.pinger._handleError({message:e})}},Si=(Ci=Qe)&&Ci.__esModule?Ci:{default:Ci},ki={};(function(t){(function(){"use strict";ki.DotsLoadingIndicator=void 0;var e,i=(e="undefined"!=typeof window?window.jQuery:void 0!==t?t.jQuery:null)&&e.__esModule?e:{default:e},n=function(){function t(t){var e=t.template,n=t.container,o=t.before,r=t.after,a=t.width,s=t.height,l=t.color,c=t.className,u=t.activeClassName,d=void 0===u?"active":u;if(this.template=e||'<div class="dots-loading-indicator">\n        <div class="dot dot-1"></div>\n        <div class="dot dot-2"></div>\n        <div class="dot dot-3"></div>\n      </div>',n)this.el=(0,i.default)(this.template).appendTo(n);else if(o)this.el=(0,i.default)(this.template).insertBefore(o);else{if(!r)throw new Error('Please, specify "container", "before" or "after" in config');this.el=(0,i.default)(this.template).insertAfter(r)}this.el.width(a).height(s).addClass(c),this.el.children().width(s).height(s).css("background-color",l),this.activeClassName=d}var e=t.prototype;return e.show=function(){this.el.addClass(this.activeClassName)},e.hide=function(){this.el.removeClass(this.activeClassName)},e.destroy=function(){this.el.remove()},t}();ki.DotsLoadingIndicator=n}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var _i={};(function(t){(function(){"use strict";_i.renderMathML=function(t,i){-1!==t.indexOf("<math")&&(window.MathJax?(n.info("Rendering MathML in loaded data"),MathJax.Hub.Queue(["Typeset",MathJax.Hub])):(0,e.default)("head").append((0,e.default)('<script type="text/javascript" src="'+i+'" />')))};var e=i("undefined"!=typeof window?window.jQuery:void 0!==t?t.jQuery:null);function i(t){return t&&t.__esModule?t:{default:t}}var n=i(Qe).default.getLogger("render-mathml")}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Ti=Ut("isConcatSpreadable"),Ei=ye>=51||!e((function(){var t=[];return t[Ti]=!1,t.concat()[0]!==t})),Ii=Te("concat"),Ai=function(t){if(!p(t))return!1;var e=t[Ti];return void 0!==e?!!e:Nt(t)};Dt({target:"Array",proto:!0,forced:!Ei||!Ii},{concat:function(t){var e,i,n,o,r,a=Ft(this),s=Qt(a,0),l=0;for(e=-1,n=arguments.length;e<n;e++)if(Ai(r=-1===e?a:arguments[e])){if(l+(o=lt(r.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(i=0;i<o;i++,l++)i in r&&ei(s,l,r[i])}else{if(l>=9007199254740991)throw TypeError("Maximum allowed index exceeded");ei(s,l++,r)}return s.length=l,s}});var Oi=zt.filter,Di=Te("filter"),Li=se("filter");Dt({target:"Array",proto:!0,forced:!Di||!Li},{filter:function(t){return Oi(this,t,arguments.length>1?arguments[1]:void 0)}});var Pi=[].join,Fi=d!=Object,Ni=fe("join",",");Dt({target:"Array",proto:!0,forced:Fi||!Ni},{join:function(t){return Pi.call(h(this),void 0===t?",":t)}});var Mi={};function ji(t,e){return RegExp(t,e)}Mi.UNSUPPORTED_Y=e((function(){var t=ji("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),Mi.BROKEN_CARET=e((function(){var t=ji("^r","gy");return t.lastIndex=2,null!=t.exec("str")}));var Ri,Bi,Hi={},Ui=RegExp.prototype.exec,qi=String.prototype.replace,Qi=Ui,Vi=(Ri=/a/,Bi=/b*/g,Ui.call(Ri,"a"),Ui.call(Bi,"a"),0!==Ri.lastIndex||0!==Bi.lastIndex),Wi=Mi.UNSUPPORTED_Y||Mi.BROKEN_CARET,zi=void 0!==/()??/.exec("")[1];(Vi||zi||Wi)&&(Qi=function(t){var e,i,n,o,r=this,a=Wi&&r.sticky,s=mi.call(r),l=r.source,c=0,u=t;return a&&(-1===(s=s.replace("y","")).indexOf("g")&&(s+="g"),u=String(t).slice(r.lastIndex),r.lastIndex>0&&(!r.multiline||r.multiline&&"\n"!==t[r.lastIndex-1])&&(l="(?: "+l+")",u=" "+u,c++),i=new RegExp("^(?:"+l+")",s)),zi&&(i=new RegExp("^"+l+"$(?!\\s)",s)),Vi&&(e=r.lastIndex),n=Ui.call(a?i:r,u),a?n?(n.input=n.input.slice(c),n[0]=n[0].slice(c),n.index=r.lastIndex,r.lastIndex+=n[0].length):r.lastIndex=0:Vi&&n&&(r.lastIndex=r.global?n.index+n[0].length:e),zi&&n&&n.length>1&&qi.call(n[0],i,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(n[o]=void 0)})),n}),Dt({target:"RegExp",proto:!0,forced:/./.exec!==(Hi=Qi)},{exec:Hi});var Gi,Zi=Ut("species"),Ji=!e((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),Ki="$0"==="a".replace(/./,"$0"),Yi=Ut("replace"),$i=!!/./[Yi]&&""===/./[Yi]("a","$0"),Xi=!e((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var i="ab".split(t);return 2!==i.length||"a"!==i[0]||"b"!==i[1]})),tn=function(t,i,n,o){var r=Ut(t),a=!e((function(){var e={};return e[r]=function(){return 7},7!=""[t](e)})),s=a&&!e((function(){var e=!1,i=/a/;return"split"===t&&((i={}).constructor={},i.constructor[Zi]=function(){return i},i.flags="",i[r]=/./[r]),i.exec=function(){return e=!0,null},i[r](""),!e}));if(!a||!s||"replace"===t&&(!Ji||!Ki||$i)||"split"===t&&!Xi){var l=/./[r],c=n(r,""[t],(function(t,e,i,n,o){return e.exec===Hi?a&&!o?{done:!0,value:l.call(e,i,n)}:{done:!0,value:t.call(i,e,n)}:{done:!1}}),{REPLACE_KEEPS_$0:Ki,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:$i}),u=c[0],d=c[1];K(String.prototype,t,u),K(RegExp.prototype,r,2==i?function(t,e){return d.call(t,this,e)}:function(t){return d.call(t,this)})}o&&E(RegExp.prototype[r],"sham",!0)},en={charAt:(Gi=!0,function(t,e){var i,n,o=String(f(t)),r=at(e),a=o.length;return r<0||r>=a?Gi?"":void 0:(i=o.charCodeAt(r))<55296||i>56319||r+1===a||(n=o.charCodeAt(r+1))<56320||n>57343?Gi?o.charAt(r):i:Gi?o.slice(r,r+2):n-56320+(i-55296<<10)+65536})},nn=en.charAt,on=function(t,e,i){return e+(i?nn(t,e).length:1)},rn=function(t,e){var i=t.exec;if("function"==typeof i){var n=i.call(t,e);if("object"!=typeof n)throw TypeError("RegExp exec method returned something other than an Object or null");return n}if("RegExp"!==c(t))throw TypeError("RegExp#exec called on incompatible receiver");return Hi.call(t,e)},an=Math.max,sn=Math.min,ln=Math.floor,cn=/\$([$&'`]|\d\d?|<[^>]*>)/g,un=/\$([$&'`]|\d\d?)/g;tn("replace",2,(function(t,e,i,n){var o=n.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,r=n.REPLACE_KEEPS_$0,a=o?"$":"$0";return[function(i,n){var o=f(this),r=null==i?void 0:i[t];return void 0!==r?r.call(i,o,n):e.call(String(o),i,n)},function(t,n){if(!o&&r||"string"==typeof n&&-1===n.indexOf(a)){var l=i(e,t,this,n);if(l.done)return l.value}var c=k(t),u=String(this),d="function"==typeof n;d||(n=String(n));var f=c.global;if(f){var h=c.unicode;c.lastIndex=0}for(var p=[];;){var g=rn(c,u);if(null===g)break;if(p.push(g),!f)break;""===String(g[0])&&(c.lastIndex=on(u,lt(c.lastIndex),h))}for(var m,v="",y=0,b=0;b<p.length;b++){g=p[b];for(var w=String(g[0]),C=an(sn(at(g.index),u.length),0),x=[],S=1;S<g.length;S++)x.push(void 0===(m=g[S])?m:String(m));var _=g.groups;if(d){var T=[w].concat(x,C,u);void 0!==_&&T.push(_);var E=String(n.apply(void 0,T))}else E=s(w,u,C,x,_,n);C>=y&&(v+=u.slice(y,C)+E,y=C+w.length)}return v+u.slice(y)}];function s(t,i,n,o,r,a){var s=n+t.length,l=o.length,c=un;return void 0!==r&&(r=Ft(r),c=cn),e.call(a,c,(function(e,a){var c;switch(a.charAt(0)){case"$":return"$";case"&":return t;case"`":return i.slice(0,n);case"'":return i.slice(s);case"<":c=r[a.slice(1,-1)];break;default:var u=+a;if(0===u)return e;if(u>l){var d=ln(u/10);return 0===d?e:d<=l?void 0===o[d-1]?a.charAt(1):o[d-1]+a.charAt(1):e}c=o[u-1]}return void 0===c?"":c}))}}));var dn=Ut("species"),fn=[].push,hn=Math.min,pn=!e((function(){return!RegExp(4294967295,"y")}));tn("split",2,(function(t,e,i){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,i){var n=String(f(this)),o=void 0===i?4294967295:i>>>0;if(0===o)return[];if(void 0===t)return[n];if(!Fe(t))return e.call(n,t,o);for(var r,a,s,l=[],c=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),u=0,d=new RegExp(t.source,c+"g");(r=Hi.call(d,n))&&!((a=d.lastIndex)>u&&(l.push(n.slice(u,r.index)),r.length>1&&r.index<n.length&&fn.apply(l,r.slice(1)),s=r[0].length,u=a,l.length>=o));)d.lastIndex===r.index&&d.lastIndex++;return u===n.length?!s&&d.test("")||l.push(""):l.push(n.slice(u)),l.length>o?l.slice(0,o):l}:"0".split(void 0,0).length?function(t,i){return void 0===t&&0===i?[]:e.call(this,t,i)}:e,[function(e,i){var o=f(this),r=null==e?void 0:e[t];return void 0!==r?r.call(e,o,i):n.call(String(o),e,i)},function(t,o){var r=i(n,t,this,o,n!==e);if(r.done)return r.value;var a=k(t),s=String(this),l=function(t,e){var i,n=k(t).constructor;return void 0===n||null==(i=k(n)[dn])?e:Lt(i)}(a,RegExp),c=a.unicode,u=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(pn?"y":"g"),d=new l(pn?a:"^(?:"+a.source+")",u),f=void 0===o?4294967295:o>>>0;if(0===f)return[];if(0===s.length)return null===rn(d,s)?[s]:[];for(var h=0,p=0,g=[];p<s.length;){d.lastIndex=pn?p:0;var m,v=rn(d,pn?s:s.slice(p));if(null===v||(m=hn(lt(d.lastIndex+(pn?0:p)),s.length))===h)p=on(s,p,c);else{if(g.push(s.slice(h,p)),g.length===f)return g;for(var y=1;y<=v.length-1;y++)if(g.push(v[y]),g.length===f)return g;p=h=m}}return g.push(s.slice(h)),g}]}),!pn);var gn={QueryDict:void 0},mn=function(){function t(t){void 0===t&&(t=[]),this.paramPairs="string"==typeof t?this.constructor.parseQueryString(t):t}var e=t.prototype;return e.getParam=function(t){var e=this.paramPairs.find((function(e){return e[0]===t}));return e&&this.constructor._decodeUndefined(e[1])},e.setParam=function(t,e){return this.setParamList(t,[e])},e.deleteParam=function(t){return this.paramPairs=this.paramPairs.filter((function(e){return e[0]!==t})),this},e.getParamList=function(t){var e=this;return this.paramPairs.filter((function(e){return e[0]===t})).map((function(t){return e.constructor._decodeUndefined(t[1])}))},e.setParamList=function(t,e){var i=[],n=e.map((function(e){return[t,e]})),o=!1;return this.paramPairs.forEach((function(e){e[0]!==t?i.push(e):o||(i=i.concat(n),o=!0)})),o||(i=i.concat(n)),this.paramPairs=i,this},t._decodeUndefined=function(t){return void 0===t?null:t},t.fromQueryString=function(t){return new this(t)},t.parseQueryString=function(t){return t?t.replace(/^\?/,"").split("&").map((function(t){var e=t.split("=");return 1===(e=e.map((function(t){return decodeURIComponent(t).replace(/\+/g," ")}))).length&&e.push(void 0),e})):[]},e.encodeURI=function(){return this.paramPairs.map((function(t){var e=t[0],i=t[1];return void 0===i?encodeURIComponent(e):encodeURIComponent(e)+"="+encodeURIComponent(i)})).join("&")},e.toString=function(){return this.encodeURI()},e.toObject=function(){var t={};return this.paramPairs.forEach((function(e){var i=e[0],n=e[1];Object.prototype.hasOwnProperty.call(t,i)||(t[i]=[]),t[i].push(n)})),t},e.toDict=function(){var t={};return this.paramPairs.forEach((function(e){var i=e[0],n=e[1];Object.prototype.hasOwnProperty.call(t,i)?t[i]=t[i]+","+n:t[i]=n})),t},t}();gn.QueryDict=mn;var vn={};(function(t){(function(){"use strict";vn.PaginatedList=void 0;var e=i("undefined"!=typeof window?window.jQuery:void 0!==t?t.jQuery:null);function i(t){return t&&t.__esModule?t:{default:t}}function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=i(Qe).default.getLogger("paginated-list"),r=function(){function t(t){var e=t.listContainer,i=t.url,n=t.pageParamName,r=void 0===n?"page":n,a=t.timestampParamName,s=void 0===a?"timestamp":a,l=t.nextPage,c=t.nextPageHeaderName,u=void 0===c?"X-Next-Page":c,d=t.showMoreTrigger,f=t.loadingIndicator,h=t.mathJaxUrl,p=t.errorMessage,g=void 0===p?"Can't load next page":p;if(!e)throw new Error("`listContainer` constructor param is required!");if(!i)throw new Error("`url` constructor param is required!");this.logger=o,this.pageParamName=r,this.timestampParamName=s,this.nextPage=l,this.nextPageHeaderName=u,this.listContainer=e,this.showMoreTrigger=d,this.loadingIndicator=f,this.errorMessage=g,this.mathJaxUrl=h,this.ajaxMethod="GET",this.initUrl(i),this.initShowMoreTrigger()}var i,r,a=t.prototype;return a.initUrl=function(t){var e=t.indexOf("?");-1!==e?(this.query=new gn.QueryDict(t.substr(e)),this.baseUrl=t.substr(0,e)):(this.query=new gn.QueryDict,this.baseUrl=t),void 0===this.nextPage&&(this.nextPage=this.query.getParam(this.pageParamName))},a.initShowMoreTrigger=function(){var t=this;null!==this.showMoreTrigger&&(void 0===this.loadingIndicator&&(this.loadingIndicator=new ki.DotsLoadingIndicator({after:this.showMoreTrigger})),this.showMoreTrigger.on("click",(function(e){e.preventDefault(),t.loadPage(t.nextPage)})))},a.loadPage=function(t){var i=this;this.listContainer.trigger("before-page-loading",[t]),void 0===t?this.query.deleteParam(this.pageParamName):this.query.setParam(this.pageParamName,t),this.query.setParam(this.timestampParamName,(new Date).getTime()),this.setLoadingState(),this.listContainer.trigger("page-loading",[this.url,this.query]),o.debug("Loading next page at "+this.url,this),e.default.ajax(this.baseUrl,{data:this.query.toString(),method:this.ajaxMethod}).done((function(t,e,n){i.onLoadSuccess.bind(i)(t,e,n),(0,_i.renderMathML)(t,i.mathJaxUrl)})).fail(this.onLoadError.bind(this)).always(this.onAfterLoad.bind(this))},a.onLoadSuccess=function(t,i,n){var o=(0,e.default)(t).appendTo(this.listContainer),r=this.getNextPage(n);null!==r?(this.nextPage=r,this.listContainer.trigger("next-page-loaded",[t,n])):(delete this.nextPage,this.listContainer.trigger("last-page-loaded",[t,n])),this.listContainer.trigger("new-html-loaded",[o])},a.onLoadError=function(t){this.listContainer.trigger("page-loading-error"),Ze.Notification.error(this.errorMessage),(0,xi.pingerErrorHandler)("paginated-list",t.responseText)},a.onAfterLoad=function(){void 0===this.nextPage?this.setFinishedState():this.setActiveState(),this.listContainer.trigger("after-page-loading")},a.getNextPage=function(t){return t.getResponseHeader(this.nextPageHeaderName)},a.setLoadingState=function(){void 0!==this.showMoreTrigger&&this.showMoreTrigger.prop("disabled",!0).addClass("disabled"),void 0!==this.loadingIndicator&&this.loadingIndicator.show()},a.setActiveState=function(){void 0!==this.showMoreTrigger&&this.showMoreTrigger.prop("disabled",!1).removeClass("disabled hidden"),void 0!==this.loadingIndicator&&this.loadingIndicator.hide()},a.setFinishedState=function(){void 0!==this.showMoreTrigger&&this.showMoreTrigger.prop("disabled",!1).addClass("hidden"),void 0!==this.loadingIndicator&&this.loadingIndicator.hide()},i=t,(r=[{key:"url",get:function(){return this.baseUrl+"?"+this.query}}])&&n(i.prototype,r),t}();vn.PaginatedList=r}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var yn,bn=n.f,wn={entries:(yn=!0,function(t){for(var e,n=h(t),o=Gt(n),r=o.length,a=0,s=[];r>a;)e=o[a++],i&&!bn.call(n,e)||s.push(yn?[e,n[e]]:n[e]);return s})}.entries;Dt({target:"Object",stat:!0},{entries:function(t){return wn(t)}});var Cn=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e};tn("search",1,(function(t,e,i){return[function(e){var i=f(this),n=null==e?void 0:e[t];return void 0!==n?n.call(e,i):new RegExp(e)[t](String(i))},function(t){var n=i(e,t,this);if(n.done)return n.value;var o=k(t),r=String(this),a=o.lastIndex;Cn(a,0)||(o.lastIndex=0);var s=rn(o,r);return Cn(o.lastIndex,a)||(o.lastIndex=a),null===s?-1:s.index}]}));var xn,Sn={removeUrlQuery:function(){if(window.history&&window.history.replaceState){var t=window.location.search;t&&window.history.replaceState(null,window.title,window.location.href.replace(t,""))}else kn.warn(_n)}},kn=((xn=Qe)&&xn.__esModule?xn:{default:xn}).default.getLogger("paginated-list"),_n="Can't update location URL: your browser doesn't support History API";Dt({target:"Object",stat:!0,forced:e((function(){Gt(1)}))},{keys:function(t){return Gt(Ft(t))}});var Tn,En={};En.AdjNavStorage=void 0;var In=((Tn=Qe)&&Tn.__esModule?Tn:{default:Tn}).default.getLogger("adj-nav-storage"),An=function(){function t(t){var e=t.maxAdjNavRecords,i=void 0===e?2e4:e,n=t.maxRecordLifetime,o=void 0===n?864e6:n,r=t.cleanupFrequency,a=void 0===r?864e5:r;this.maxAdjNavRecords=i,this.maxRecordLifetime=o,this.cleanupFrequency=a,this.storage=window.localStorage}var e=t.prototype;return e.getArticleAdjNavData=function(t,e,i){var n=this.storage.getItem("adjNavData");if(n)try{var o=(n=JSON.parse(n))[t+":"+e];if(!o)return;var r=o.url;return i||this.addToAdjNavData(t,e,r),r}catch(ja){In.error("Cant get adjnavdata "+ja)}},e.removeAdjNavData=function(){this.storage.removeItem("adjNavData"),this.storage.removeItem("adjNavDataLastCleanUpTime")},e.expireAdjNavData=function(){var t=this.storage.getItem("adjNavData");if(t){var e=Date.now(),i=this.storage.getItem("adjNavDataLastCleanUpTime");!i||e-i>this.cleanupFrequency||Object.keys(t).length>=this.maxAdjNavRecords?this.cleanUpAdjNavRecords(t,e):In.info("Skipping adjacent nav data clean up as not yet expired")}else In.info("No adjacent nav data to clean up")},e.paramValueValid=function(t){return 0==t||Boolean(t)},e.addToAdjNavData=function(t,e,i){this.expireAdjNavData();var n=this.storage.getItem("adjNavData");n=n?JSON.parse(n):{},this.paramValueValid(t)&&this.paramValueValid(e)&&this.paramValueValid(i)?(n[t+":"+e]={url:i,timestamp:Date.now()},this.storage.setItem("adjNavData",JSON.stringify(n))):In.warn("Cant add adj nav data as not all required params specified")},e.cleanUpAdjNavRecords=function(t,e){for(var i=JSON.parse(t),n=[],o=[],r=0,a=Object.entries(i);r<a.length;r++){var s=a[r],l=s[0],c=s[1],u=c.timestamp;e-c.timestamp>this.maxRecordLifetime?n.push(l):o.push(u)}if(n.forEach((function(t){return delete i[t]})),o.length>this.maxAdjNavRecords){o.sort();for(var d=o.length-1,f=o[d-Math.floor(3*d/4)],h=[],p=0,g=Object.entries(i);p<g.length;p++){var m=g[p],v=m[0];m[1].timestamp<f&&h.push(v)}h.forEach((function(t){return delete i[t]}))}this.storage.setItem("adjNavDataLastCleanUpTime",e),this.storage.setItem("adjNavData",JSON.stringify(i)),In.info("Cleaned up adjacent nav data "+n.length+" entries")},t}();En.AdjNavStorage=An;var On,Dn={setSecureCookieIfPossible:function(t,e,i){var n=i||{};"https:"===window.location.protocol&&(n.secure=!0),n.expires||(n.expires=365),Ln.default.set(t,e,n)}},Ln=(On=Ve)&&On.__esModule?On:{default:On},Pn={};(function(t){(function(){"use strict";Pn.clearSearchCookie=function(t,i){e.default.remove(t,{domain:i})},Pn.setSubmittedSearchCookie=function(t,e){(0,Dn.setSecureCookieIfPossible)(t,"",{domain:e})},Pn.setBackToSearchCookie=function(t,e){(0,Dn.setSecureCookieIfPossible)(t,"",{domain:e})};var e=i(Ve);i("undefined"!=typeof window?window.jQuery:void 0!==t?t.jQuery:null);function i(t){return t&&t.__esModule?t:{default:t}}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Fn=function(t,e,i,n){try{return n?e(k(i)[0],i[1]):e(i)}catch(ja){throw function(t){var e=t.return;if(void 0!==e)k(e.call(t)).value}(t),ja}},Nn={},Mn=Ut("iterator"),jn=Array.prototype,Rn=function(t){return void 0!==t&&(Nn.Array===t||jn[Mn]===t)},Bn=Ut("iterator"),Hn=function(t){if(null!=t)return t[Bn]||t["@@iterator"]||Nn[pi(t)]},Un=Ut("iterator"),qn=!1;try{var Qn=0,Vn={next:function(){return{done:!!Qn++}},return:function(){qn=!0}};Vn[Un]=function(){return this},Array.from(Vn,(function(){throw 2}))}catch(ja){}Dt({target:"Array",stat:!0,forced:!function(t,e){if(!e&&!qn)return!1;var i=!1;try{var n={};n[Un]=function(){return{next:function(){return{done:i=!0}}}},t(n)}catch(ja){}return i}((function(t){Array.from(t)}))},{from:function(t){var e,i,n,o,r,a,s=Ft(t),l="function"==typeof this?this:Array,c=arguments.length,u=c>1?arguments[1]:void 0,d=void 0!==u,f=Hn(s),h=0;if(d&&(u=Pt(u,c>2?arguments[2]:void 0,2)),null==f||l==Array&&Rn(f))for(i=new l(e=lt(s.length));e>h;h++)a=d?u(s[h],h):s[h],ei(i,h,a);else for(r=(o=f.call(s)).next,i=new l;!(n=r.call(o)).done;h++)a=d?Fn(o,u,[n.value,h],!0):n.value,ei(i,h,a);return i.length=h,i}});var Wn=_.f,zn=Function.prototype,Gn=zn.toString,Zn=/^\s*function ([^ (]*)/;!i||"name"in zn||Wn(zn,"name",{configurable:!0,get:function(){try{return Gn.call(this).match(Zn)[1]}catch(ja){return""}}});var Jn,Kn,Yn,$n,Xn=!e((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),to=q("IE_PROTO"),eo=Object.prototype,io=Xn?Object.getPrototypeOf:function(t){return t=Ft(t),v(t,to)?t[to]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?eo:null},no=Ut("iterator"),oo=!1;[].keys&&("next"in($n=[].keys())?(Yn=io(io($n)))!==Object.prototype&&(Kn=Yn):oo=!0),null==Kn&&(Kn={}),v(Kn,no)||E(Kn,no,(function(){return this})),Jn={IteratorPrototype:Kn,BUGGY_SAFARI_ITERATORS:oo};var ro=_.f,ao=Ut("toStringTag"),so=function(t,e,i){t&&!v(t=i?t:t.prototype,ao)&&ro(t,ao,{configurable:!0,value:e})},lo=Jn.IteratorPrototype,co=function(){return this},uo=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,i={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(i,[]),e=i instanceof Array}catch(ja){}return function(i,n){return k(i),function(t){if(!p(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}(n),e?t.call(i,n):i.__proto__=n,i}}():void 0),fo=Jn.IteratorPrototype,ho=Jn.BUGGY_SAFARI_ITERATORS,po=Ut("iterator"),go=function(){return this},mo=en.charAt,vo=Y.set,yo=Y.getterFor("String Iterator");!function(t,e,i,n,o,r,a){!function(t,e,i){var n=e+" Iterator";t.prototype=Kt(lo,{next:s(1,i)}),so(t,n,!1),Nn[n]=co}(i,e,n);var l,c,u,d=function(t){if(t===o&&m)return m;if(!ho&&t in p)return p[t];switch(t){case"keys":case"values":case"entries":return function(){return new i(this,t)}}return function(){return new i(this)}},f=e+" Iterator",h=!1,p=t.prototype,g=p[po]||p["@@iterator"]||o&&p[o],m=!ho&&g||d(o),v="Array"==e&&p.entries||g;if(v&&(l=io(v.call(new t)),fo!==Object.prototype&&l.next&&(io(l)===fo||(uo?uo(l,fo):"function"!=typeof l[po]&&E(l,po,go)),so(l,f,!0))),"values"==o&&g&&"values"!==g.name&&(h=!0,m=function(){return g.call(this)}),p[po]===m||E(p,po,m),Nn[e]=m,o)if(c={values:d("values"),keys:r?m:d("keys"),entries:d("entries")},a)for(u in c)!ho&&!h&&u in p||K(p,u,c[u]);else Dt({target:e,proto:!0,forced:ho||h},c)}(String,"String",(function(t){vo(this,{type:"String Iterator",string:String(t),index:0})}),(function(){var t,e=yo(this),i=e.string,n=e.index;return n>=i.length?{value:void 0,done:!0}:(t=mo(i,n),e.index+=t.length,{value:t,done:!1})}));var bo={};(function(t){(function(){"use strict";Object.defineProperty(bo,"__esModule",{value:!0}),bo.default=void 0;var e,i=(e="undefined"!=typeof window?window.jQuery:void 0!==t?t.jQuery:null)&&e.__esModule?e:{default:e};function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o={hint:!1,limit:5,unpack:!1},r=function(){function t(e){var n=e.apiUrl,r=e.target,a=e.cssClass,s=void 0===a?"ncbi-autocomplete":a,l=e.filterSuggestions,c=void 0===l||l,u=e.options;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.apiUrl=n,this.target=(0,i.default)(r),this.cssClass=s,this._cache={},this.options=i.default.extend({},o,u),this.options.limit=+this.options.limit||o.limit,this.filterSuggestions=c,this.initAutocomplete()}var e,r;return e=t,(r=[{key:"initAutocomplete",value:function(){var t=this;this.suggestionsSource=this.constructSuggestionsSource(),this.typeahead=this.target.typeahead(this.options,{source:this.suggestionsSource,limit:this.options.limit,templates:{pending:function(){},notFound:function(){return""}}}),this.target.parent().addClass(this.cssClass),this.typeahead.data("tt-typeahead").input.off("enterKeyed"),this.typeahead.parent().removeAttr("style"),this.typeahead.bind("typeahead:select",(function(e,i){t.target.typeahead("val",i),t.target.trigger("suggestion-selected")}))}},{key:"constructSuggestionsSource",value:function(){var t=this;return function(e,n,o){e=(e=e.toLowerCase()).replace(/[<>=&"//]/g," ").replace(/\s+/g," ").trim(),t._rebuildCache(e),e in t._cache?setTimeout((function(){return o(t.unpack(t._cache[e].suggestions))}),0):e.length<100&&i.default.get(t.apiUrl,{term:e}).done((function(i){var n=e;i.term&&(n=i.term),t._cache[n]={isCompleteList:Boolean(i.code),suggestions:i.suggestions},t._rebuildCache(e);var r=e in t._cache?t.unpack(t._cache[e].suggestions):[];o(r)})).fail((function(){return o([])}))}}},{key:"_rebuildCache",value:function(t){if(!this._cache[t]){for(var e,i,n,o=1,r=t.length;o<=10&&o<r&&(i=t.substring(0,t.length-o),!(e=this._cache[i]));o++);e&&!0===e.isCompleteList&&(n=this.filterSuggestions?e.suggestions.filter((function(e){return e.toLowerCase().includes(t)})):e.suggestions.slice(),this._cache[t]={isCompleteList:!0,suggestions:n})}}},{key:"unpack",value:function(t){return!0===this.options.unpack?t.map((function(t){return t.split("@")[0]})):t}}])&&n(e.prototype,r),t}();bo.default=r}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var wo={};(function(t){(function(){"use strict";wo.reportEvent=function(t,e,i){return void 0===i&&(i="PubMed Events"),n("send","event",i,t,e)};var e,i=(e="undefined"!=typeof window?window.jQuery:void 0!==t?t.jQuery:null)&&e.__esModule?e:{default:e};function n(){var t=i.default.Deferred();if("function"!=typeof ncbi_global_ga)return t.resolve(),t.promise();for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];try{setTimeout(t.resolve,2e3),ncbi_global_ga.apply(void 0,n.concat([{hitCallback:t.resolve}]))}catch(a){var r="GA call failed. Arguments: "+n.join(", ");(0,xi.pingerErrorHandler)("stats-reporter",r),t.resolve()}return t.promise()}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Co,xo={isMediumLayout:function(){return window.innerWidth>=So},isLargeDesktop:function(){return window.innerWidth>=ko}},So=700,ko=1280,_o={left:(Co=!1,function(t,e,i,n){Lt(e);var o=Ft(t),r=d(o),a=lt(o.length),s=Co?a-1:0,l=Co?-1:1;if(i<2)for(;;){if(s in r){n=r[s],s+=l;break}if(s+=l,Co?s<0:a<=s)throw TypeError("Reduce of empty array with no initial value")}for(;Co?s>=0:a>s;s+=l)s in r&&(n=e(n,r[s],s,o));return n})},To="process"==c(t.process),Eo=_o.left,Io=fe("reduce"),Ao=se("reduce",{1:0});Dt({target:"Array",proto:!0,forced:!Io||!Ao||!To&&ye>79&&ye<83},{reduce:function(t){return Eo(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}});var Oo={};function Do(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function Lo(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}Oo.BasePersistentFiltersStorage=void 0;var Po=function(){function t(t){this.storage=window.localStorage,this.filtersStorageKey=t}var e,i,n=t.prototype;return n.setFiltersData=function(t,e){void 0===e&&(e=!0),t&&t.length?(e&&this.convertFilterKeysToNew(t),this.storage.setItem(this.filtersStorageKey,JSON.stringify(t))):this.storage.removeItem(this.filtersStorageKey)},n.removeFiltersData=function(){this.storage.removeItem(this.filtersStorageKey)},n.convertFilterKeysToNew=function(t){var e=!1;if(!t||!t.length)return e;for(var i,n=[],o=[],r=function(t,e){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=function(t,e){if(t){if("string"==typeof t)return Do(t,void 0);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Do(t,void 0):void 0}}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(i=t[Symbol.iterator]()).next.bind(i)}(t);!(i=r()).done;){var a=i.value;if(a&&a.value){var s=a.value.replace("ds1.","datesearch.").replace("species.","hum_ani.").replace("language.","lang.");s!==a.value&&(e=!0,a.value=s),-1===n.indexOf(s)&&(n.push(s),o.push(a))}}return t.splice(0,t.length),t.splice.apply(t,[0,0].concat(o)),e},e=t,(i=[{key:"filtersData",get:function(){var t=this.storage.getItem(this.filtersStorageKey);if(t){var e=JSON.parse(t);return this.convertFilterKeysToNew(e)&&this.setFiltersData(e,!1),e}return[]}},{key:"filtersTitlesLine",get:function(){var t=this.filtersData;return t&&t.length?t.map((function(t){return t.title})).reduce((function(t,e){return t+", "+e})):null}},{key:"filterSearchParamValues",get:function(){var t=this.filtersData;return t&&t.length?t.map((function(t){return"&filter="+t.value})).reduce((function(t,e){return""+t+e})):null}}])&&Lo(e.prototype,i),t}();Oo.BasePersistentFiltersStorage=Po;var Fo={PersistentFiltersStorage:void 0},No=function(t){var e,i;function n(){return t.call(this,"pm-filters-by")||this}return i=t,(e=n).prototype=Object.create(i.prototype),e.prototype.constructor=e,e.__proto__=i,n}(Oo.BasePersistentFiltersStorage);Fo.PersistentFiltersStorage=No;var Mo={moveCursorToEndOfInput:function(t){var e=t[0];t.focus(),e.selectionStart=e.selectionEnd=e.value.length}},jo={};function Ro(t,e){t.toggleClass("active",Boolean(e.val()))}jo.selectItemOnEnterKey=function(t,e){if(13===t.which){var i=e.target.parent().find(".tt-menu .tt-suggestion.tt-cursor");1===i.length&&(i.trigger("click"),t.preventDefault())}},jo.initSearchInputCleaner=function(t,e){t.on("click",(function(i){i.preventDefault(),e.val(""),Ro(t,e),e.typeahead("val","").focus()})),e.on("keyup paste change",(function(){Ro(t,e)})),Ro(t,e)};var Bo={isElementVisible:function(t){void 0===t&&(t={});var e=t.getBoundingClientRect(),i=Math.max(document.documentElement.clientHeight,window.innerHeight);return!(e.bottom<0||e.top-i>=0)}},Ho={};(function(t){(function(){var e=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,n=/^0b[01]+$/i,o=/^0o[0-7]+$/i,r=parseInt,a="object"==typeof t&&t&&t.Object===Object&&t,s="object"==typeof self&&self&&self.Object===Object&&self,l=a||s||Function("return this")(),c=Object.prototype.toString,u=Math.max,d=Math.min,f=function(){return l.Date.now()};function h(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function p(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&"[object Symbol]"==c.call(t)}(t))return NaN;if(h(t)){var a="function"==typeof t.valueOf?t.valueOf():t;t=h(a)?a+"":a}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(e,"");var s=n.test(t);return s||o.test(t)?r(t.slice(2),s?2:8):i.test(t)?NaN:+t}Ho=function(t,e,i){var n,o,r,a,s,l,c=0,g=!1,m=!1,v=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function y(e){var i=n,r=o;return n=o=void 0,c=e,a=t.apply(r,i)}function b(t){var i=t-l;return void 0===l||i>=e||i<0||m&&t-c>=r}function w(){var t=f();if(b(t))return C(t);s=setTimeout(w,function(t){var i=e-(t-l);return m?d(i,r-(t-c)):i}(t))}function C(t){return s=void 0,v&&n?y(t):(n=o=void 0,a)}function x(){var t=f(),i=b(t);if(n=arguments,o=this,l=t,i){if(void 0===s)return function(t){return c=t,s=setTimeout(w,e),g?y(t):a}(l);if(m)return s=setTimeout(w,e),y(l)}return void 0===s&&(s=setTimeout(w,e)),a}return e=p(e)||0,h(i)&&(g=!!i.leading,r=(m="maxWait"in i)?u(p(i.maxWait)||0,e):r,v="trailing"in i?!!i.trailing:v),x.cancel=function(){void 0!==s&&clearTimeout(s),c=0,n=l=o=s=void 0},x.flush=function(){return void 0===s?a:C(f())},x}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Uo={};(function(t){(function(){"use strict";Uo.SearchFormBase=void 0;var e=r("undefined"!=typeof window?window.jQuery:void 0!==t?t.jQuery:null),i=r(Qe),n=r(bo),o=r(Ho);function r(t){return t&&t.__esModule?t:{default:t}}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var s=i.default.getLogger("search-form-base"),l=function(){function t(t){var i=this,n=t.form,o=t.baseSuggestionsUrl,r=t.searchIdCookieName,a=t.adjNavSearchIdCookieName,l=t.searchFormSubmittedCookieName,c=t.jsCookieDomain,u=t.skipQueryInputFocus,d=void 0!==u&&u,f=t.filterSuggestions,h=void 0===f||f,p=t.eventCategory,g=void 0===p?"search":p;this.logger=s,this.body=(0,e.default)("body"),this.form=n,this.searchInputTrigger=this.form.find(".search-input-trigger"),this.searchInputContainer=this.form.find(".search-input"),this.searchInputCleaner=this.searchInputContainer.find(".clear-btn"),this.queryField=this.searchInputContainer.find('[type="search"]'),this.searchButton=this.searchInputContainer.find(".search-btn"),this.initialQuery=this.queryField.val(),this.windowScrollElement=(0,e.default)("html, body"),this.windowElement=(0,e.default)(window),this.searchUrlMaximumLength=2e3,this.searchIdCookieName=r,this.adjNavSearchIdCookieName=a,this.jsCookieDomain=c,this.searchFormSubmittedCookieName=l,this.filtersStorage=new Fo.PersistentFiltersStorage,this.skipQueryInputFocus=d,this.filterSuggestions=h,this.eventCategory=g,this.isIE=window.document.documentMode,this.initFormSubmit(),o&&this.initAutocomplete(o),this.initSearchInput(),this.initSearchInputTrigger(),(0,jo.initSearchInputCleaner)(this.searchInputCleaner,this.queryField),this.initSearchFormOnSubmitData(),this.searchButton.click((function(){(0,Pn.clearSearchCookie)(i.searchIdCookieName,i.jsCookieDomain),(0,Pn.clearSearchCookie)(i.adjNavSearchIdCookieName,i.jsCookieDomain)})),this.isIE&&this.initTermInputPasteHandler()}var i=t.prototype;return i.initFormSubmit=function(){var t=this;this.form.on("submit",(function(e){return t.onFormSubmit(e)}))},i.onFormSubmit=function(t){this.form.trigger("submit-data",[this.form]),this.form.reported||this.gaReport()},i.gaReport=function(){var t=this;(0,wo.reportEvent)("search_button","",this.eventCategory).done((function(){t.form.reported=!0}))},i.initAutocomplete=function(t,e){var i,o=this;i=void 0!==e?e:this.filterSuggestions,this.autocomplete=new n.default({apiUrl:t,target:this.queryField,filterSuggestions:i}),this.autocomplete.target.on("suggestion-selected",(function(){(0,Pn.clearSearchCookie)(o.searchIdCookieName,o.jsCookieDomain),(0,Pn.clearSearchCookie)(o.adjNavSearchIdCookieName,o.jsCookieDomain),(0,wo.reportEvent)("autosuggest",o.queryField.val(),o.eventCategory).done((function(){o.form.submit()}))})),this.autocomplete.target.on("keydown",(function(t){(0,jo.selectItemOnEnterKey)(t,o.autocomplete)}))},i.initSearchInput=function(){var t=this;(0,e.default)(document).ready((function(){return t.initFocusInInput()})),this.queryField.on("focus",(function(){1===(0,e.default)(".article-page").length&&t.queryField.typeahead("close"),(0,xo.isMediumLayout)()||t.windowScrollElement.stop(!0,!1).animate({scrollTop:t.queryField.offset().top-17},300)})),this.queryField.on("populate-search-input",(function(i,n,o,r){var a=t.queryField.typeahead("val"),s=n;!r&&a&&(s="("+a+") AND "+n),t.queryField.typeahead("val",s).focus(),t.queryField.change(),!((0,e.default)(window).width()<=1019)||t.searchInputTrigger.hasClass("active")||o||t.searchInputTrigger.click(),t.queryField.typeahead("close")}))},i.initSearchInputTrigger=function(){var t=this;this.searchInputTrigger.on("click",(function(e){e.preventDefault();var i=t.searchInputTrigger.prop("title"),n=t.searchInputTrigger.data("alt-title");t.searchInputTrigger.toggleClass("active").prop("title",n).data("alt-title",i),t.searchInputContainer.toggleClass("active"),t.searchInputContainer.hasClass("active")&&(0,Mo.moveCursorToEndOfInput)(t.queryField)})),this.setSearchInputTriggerAttrs(),this.windowElement.on("resize",(0,o.default)((function(){t.setSearchInputTriggerAttrs()}),200))},i.setSearchInputTriggerAttrs=function(){this.searchInputTrigger.is(":visible")?(this.searchInputTrigger.attr("aria-hidden",!1),this.searchInputTrigger.attr("tabIndex",0)):(this.searchInputTrigger.attr("aria-hidden",!0),this.searchInputTrigger.attr("tabIndex",-1))},i.initSearchFormOnSubmitData=function(){var t=this;this.form.on("submit-data",(function(i,n){for(var o,r=t.filtersStorage.filtersData,s=Array.from(n[0].elements),l=function(){var t=o.value;s.filter((function(e){return e.name===t.name&&e.value===t.value})).length||(0,e.default)("<input />",{type:"hidden",name:t.name,value:t.value}).appendTo(n)},c=function(t,e){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=function(t,e){if(t){if("string"==typeof t)return a(t,void 0);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?a(t,void 0):void 0}}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(i=t[Symbol.iterator]()).next.bind(i)}(r);!(o=c()).done;)l();t.csrftoken=t.getCsrfTokenData(t.body),n.serialize().length>t.searchUrlMaximumLength?(0===t.getCsrfTokenData(n).length&&t.csrftoken.appendTo(n),n.attr("method","post")):"post"===n.attr("method").toLowerCase()&&(n.attr("method","get"),(0,e.default)(t.getCsrfTokenData(n)).remove()),(0,Pn.setSubmittedSearchCookie)(t.searchFormSubmittedCookieName,t.jsCookieDomain)}))},i.getCsrfTokenData=function(t){return t.find('[name="csrfmiddlewaretoken"]').first()},i.getFormData=function(){var t=this.form.serialize();return new gn.QueryDict(t)},i.initFocusInInput=function(){var t=this;if(this.enableAutoComplete=!1,this.searchButton.prop("disabled",!1),(0,xo.isMediumLayout)()&&-1==window.location.href.indexOf("#")&&!this.skipQueryInputFocus){(0,Mo.moveCursorToEndOfInput)(this.queryField);var i=window.document.documentMode,n="True"!==this.queryField.data("skip-ie-scroll-to-top");i&&(0,e.default)(document).one("scroll",(function(){n&&!(0,Bo.isElementVisible)(t.queryField[0])&&(0,e.default)(document).scrollTop(0)})),(0,e.default)(document).on("typeahead:rendered typeahead:open",(function(){t.enableAutoComplete||t.queryField.typeahead("close")})),this.queryField.keypress((function(){t.enableAutoComplete=!0})),this.queryField.keydown((function(e){40===e.which&&(t.enableAutoComplete=!0,t.queryField.typeahead("open")),34===e.which&&setTimeout((function(){(0,o.default)((function(){t.queryField.blur(),window.scrollBy(0,window.innerHeight)}),100)}),100),33===e.which&&setTimeout((function(){(0,o.default)((function(){t.queryField.blur(),window.scrollBy(0,-window.innerHeight)}),100)}),100)})),this.queryField.on("click",(function(){t.enableAutoComplete=!0,t.queryField.typeahead("open")}))}},i.initTermInputPasteHandler=function(){this.searchInputContainer.on("paste",(function(t){t.preventDefault();var e="";t.clipboardData||t.originalEvent.clipboardData?e=(t.originalEvent||t).clipboardData.getData("text/plain"):window.clipboardData&&(e=window.clipboardData.getData("Text")),e=e.replace(/\r?\n|\r/g,""),document.queryCommandSupported("insertText")?document.execCommand("insertText",!1,e):document.execCommand("paste",!1,e)}))},t}();Uo.SearchFormBase=l}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var qo={exports:{}};(function(t){(function(){!function(t,e){"object"==typeof qo.exports?qo.exports=e():"function"==typeof define&&define.amd?define(e):t.ResizeObserver=e()}(this,(function(){"use strict";var e=function(){if("undefined"!=typeof Map)return Map;function t(t,e){var i=-1;return t.some((function(t,n){return t[0]===e&&(i=n,!0)})),i}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var i=t(this.__entries__,e),n=this.__entries__[i];return n&&n[1]},e.prototype.set=function(e,i){var n=t(this.__entries__,e);~n?this.__entries__[n][1]=i:this.__entries__.push([e,i])},e.prototype.delete=function(e){var i=this.__entries__,n=t(i,e);~n&&i.splice(n,1)},e.prototype.has=function(e){return!!~t(this.__entries__,e)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var i=0,n=this.__entries__;i<n.length;i++){var o=n[i];t.call(e,o[1],o[0])}},e}()}(),i="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,n=void 0!==t&&t.Math===Math?t:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),o="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(n):function(t){return setTimeout((function(){return t(Date.now())}),1e3/60)},r=["top","right","bottom","left","width","height","size","weight"],a="undefined"!=typeof MutationObserver,s=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(t,e){var i=!1,n=!1,r=0;function a(){i&&(i=!1,t()),n&&l()}function s(){o(a)}function l(){var t=Date.now();if(i){if(t-r<2)return;n=!0}else i=!0,n=!1,setTimeout(s,20);r=t}return l}(this.refresh.bind(this))}return t.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},t.prototype.removeObserver=function(t){var e=this.observers_,i=e.indexOf(t);~i&&e.splice(i,1),!e.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},t.prototype.updateObservers_=function(){var t=this.observers_.filter((function(t){return t.gatherActive(),t.hasActive()}));return t.forEach((function(t){return t.broadcastActive()})),t.length>0},t.prototype.connect_=function(){i&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),a?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){i&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(t){var e=t.propertyName,i=void 0===e?"":e;r.some((function(t){return!!~i.indexOf(t)}))&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),l=function(t,e){for(var i=0,n=Object.keys(e);i<n.length;i++){var o=n[i];Object.defineProperty(t,o,{value:e[o],enumerable:!1,writable:!1,configurable:!0})}return t},c=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||n},u=g(0,0,0,0);function d(t){return parseFloat(t)||0}function f(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];return e.reduce((function(e,i){return e+d(t["border-"+i+"-width"])}),0)}var h="undefined"!=typeof SVGGraphicsElement?function(t){return t instanceof c(t).SVGGraphicsElement}:function(t){return t instanceof c(t).SVGElement&&"function"==typeof t.getBBox};function p(t){return i?h(t)?function(t){var e=t.getBBox();return g(0,0,e.width,e.height)}(t):function(t){var e=t.clientWidth,i=t.clientHeight;if(!e&&!i)return u;var n=c(t).getComputedStyle(t),o=function(t){for(var e={},i=0,n=["top","right","bottom","left"];i<n.length;i++){var o=n[i],r=t["padding-"+o];e[o]=d(r)}return e}(n),r=o.left+o.right,a=o.top+o.bottom,s=d(n.width),l=d(n.height);if("border-box"===n.boxSizing&&(Math.round(s+r)!==e&&(s-=f(n,"left","right")+r),Math.round(l+a)!==i&&(l-=f(n,"top","bottom")+a)),!function(t){return t===c(t).document.documentElement}(t)){var h=Math.round(s+r)-e,p=Math.round(l+a)-i;1!==Math.abs(h)&&(s-=h),1!==Math.abs(p)&&(l-=p)}return g(o.left,o.top,s,l)}(t):u}function g(t,e,i,n){return{x:t,y:e,width:i,height:n}}var m=function(){function t(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=g(0,0,0,0),this.target=t}return t.prototype.isActive=function(){var t=p(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},t}(),v=function(t,e){var i,n,o,r,a,s,c,u=(n=(i=e).x,o=i.y,r=i.width,a=i.height,s="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,c=Object.create(s.prototype),l(c,{x:n,y:o,width:r,height:a,top:o,right:n+r,bottom:a+o,left:n}),c);l(this,{target:t,contentRect:u})},y=function(){function t(t,i,n){if(this.activeObservations_=[],this.observations_=new e,"function"!=typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=i,this.callbackCtx_=n}return t.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof c(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new m(t)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof c(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach((function(e){e.isActive()&&t.activeObservations_.push(e)}))},t.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map((function(t){return new v(t.target,t.broadcastRect())}));this.callback_.call(t,e,t),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),b="undefined"!=typeof WeakMap?new WeakMap:new e,w=function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var i=s.getInstance(),n=new y(e,i,this);b.set(this,n)};return["observe","unobserve","disconnect"].forEach((function(t){w.prototype[t]=function(){var e;return(e=b.get(this))[t].apply(e,arguments)}})),void 0!==n.ResizeObserver?n.ResizeObserver:w}))}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{}),qo=qo.exports;var Qo={};(function(t){(function(){"use strict";Qo.MobileStickinessController=Qo.DesktopStickinessController=void 0;var e=r("undefined"!=typeof window?window.jQuery:void 0!==t?t.jQuery:null),i=r(Ho),n=r(Qe),o=r(qo);function r(t){return t&&t.__esModule?t:{default:t}}function a(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var s=n.default.getLogger("page-stickiness-controller"),l=function(){function t(t,n,r,a,l){var c=this;void 0===r&&(r=void 0),void 0===a&&(a=1),void 0===l&&(l=100),this.logger=s,this.className=this.constructor.name,this.windowElement=(0,e.default)(window),this.container=t,this.pageContainer=n,this.pageHeader=r,this._debouncedUpdateStickiness=(0,i.default)((function(){return c.updateStickiness()}),a,{maxWait:a,leading:!0}),this._reInitStickiness=(0,i.default)((function(){s.debug("Container size changed, re-initializing ("+c.className+") ..."),c.initStickiness()}),l),this.initStickiness(),this.windowElement.on("resize",this._reInitStickiness),this.resizeObserver=new o.default(this._reInitStickiness),this.resizeObserver.observe(n.get(0)),this.notImplementedMethodError="Not implemented method"}var n=t.prototype;return n.initStickiness=function(){if(s.debug("Initializing stickiness ("+this.className+") ..."),this.enabled=this.getEnabled(),this.windowElement.off("scroll",this._debouncedUpdateStickiness),!this.enabled)return this.isActive&&this.container.outerHeight()>=this.windowElement.height()&&(this.resetStickiness(),this.isActive=!1),void s.debug("Stickiness disabled ("+this.className+")");this.resetStickiness(),this.initVariables(),this.updateStickiness(),this.windowElement.on("scroll",this._debouncedUpdateStickiness),s.debug("Stickiness enabled ("+this.className+")")},n.getEnabled=function(){throw new Error(this.notImplementedMethodError)},n.resetStickiness=function(){throw new Error(this.notImplementedMethodError)},n.initVariables=function(){throw new Error(this.notImplementedMethodError)},n.updateStickiness=function(){},t}(),c=function(t){function e(){return t.apply(this,arguments)||this}a(e,t);var i=e.prototype;return i.initStickiness=function(){this.visibilityCheckEl=this.visibilityCheckEl||this.container.find(".page-navigator .full-view"),this.containerHeight=this.container.outerHeight(),t.prototype.initStickiness.call(this)},i.getEnabled=function(){return this.visibilityCheckEl.is(":visible")&&this.containerHeight<this.windowElement.height()&&this.containerHeight<this.pageContainer.height()},i.resetStickiness=function(){this.container.removeClass("sticky bottom").css("left","").css("bottom","")},i.initVariables=function(){this.pageContainerPaddingBottom=parseInt(this.pageContainer.css("padding-bottom"),10),this.pageContainerOffsetBottom=this.pageContainer.offset().top+this.pageContainer.outerHeight()-this.pageContainerPaddingBottom;var t=this.container.offset();this.containerOffsetTop=t.top,this.containerOffsetLeft=t.left},i.getTopOffset=function(){return this.pageHeader.height()+this.pageHeader.offset().top},i.updateStickiness=function(){if(this.enabled){var t=this.windowElement.scrollTop(),e=t>this.getTopOffset(),i=e&&t+this.containerHeight>this.pageContainerOffsetBottom;e===this.container.hasClass("sticky")&&i===this.container.hasClass("bottom")||(this.container[e?"addClass":"removeClass"]("sticky"),this.container[i?"addClass":"removeClass"]("bottom"),this.container.css("left",e&&!i?this.containerOffsetLeft:""),this.container.css("bottom",i?this.pageContainerPaddingBottom:""),e&&(this.isActive=!0),s.debug((e?i?"Stick to bottom":"Stick to top":"Don't stick")+" ("+this.className+")"))}},e}(l);Qo.DesktopStickinessController=c;var u=function(t){function e(){return t.apply(this,arguments)||this}a(e,t);var i=e.prototype;return i.initStickiness=function(){this.visibilityCheckEl=this.visibilityCheckEl||this.container.find(".page-navigator .short-view"),t.prototype.initStickiness.call(this)},i.getEnabled=function(){return this.visibilityCheckEl.is(":visible")},i.resetStickiness=function(){this.container.removeClass("sticky bottom").css("left","").css("bottom","")},i.initVariables=function(){this.visibilityOffset=this.pageContainer.offset().top+parseInt(this.pageContainer.css("padding-top"),10)},i.updateStickiness=function(){if(this.enabled){var t=this.windowElement.scrollTop()>this.visibilityOffset;t!==this.container.hasClass("sticky")&&(t&&(this.isActive=!0),this.container[t?"addClass":"removeClass"]("sticky"),s.debug((t?"Stick to top":"Don't stick")+" ("+this.className+")"))}},e}(l);Qo.MobileStickinessController=u}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Vo,Wo,zo="[\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff]",Go=RegExp("^"+zo+zo+"*"),Zo=RegExp(zo+zo+"*$"),Jo={trim:(Vo=3,function(t){var e=String(f(t));return 1&Vo&&(e=e.replace(Go,"")),2&Vo&&(e=e.replace(Zo,"")),e})}.trim;Dt({target:"String",proto:!0,forced:(Wo="trim",e((function(){return!!"\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"[Wo]()||"\u200b\x85\u180e"!="\u200b\x85\u180e"[Wo]()||"\t\n\v\f\r \xa0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"[Wo].name!==Wo})))},{trim:function(){return Jo(this)}});var Ko={};(function(t){(function(){"use strict";Ko.MobileNavigator=Ko.DesktopNavigator=void 0;var e=r("undefined"!=typeof window?window.jQuery:void 0!==t?t.jQuery:null),i=r(Ho),n=r(Qe),o=r(qo);function r(t){return t&&t.__esModule?t:{default:t}}function a(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var s=n.default.getLogger("page-navigator"),l=function(){function t(t,n,r,a,l,c){var u=this;void 0===r&&(r=0),void 0===a&&(a=0),void 0===l&&(l=20),void 0===c&&(c=100),this.logger=s,this.className=this.constructor.name,this.windowElement=(0,e.default)(window),this.windowScrollElement=(0,e.default)("html, body"),this.container=t,this.pageContainer=n,this.extraNavigationOffset=r,this.extraTrackingOffset=a,this._debouncedUpdateCurrentNavigationItem=(0,i.default)((function(){return u.updateCurrentNavigationItem()}),l,{maxWait:l}),this._reInitCurrentNavigationItemTracking=(0,i.default)((function(){s.debug("Container size changed, re-initing ("+u.className+") ..."),u.initCurrentNavigationItemTracking()}),c),this.initNavigationItemSelection(),this.initCurrentNavigationItemTracking(),this.windowElement.on("resize",this._reInitCurrentNavigationItemTracking),this.resizeObserver=new o.default(this._reInitCurrentNavigationItemTracking),this.resizeObserver.observe(n.get(0)),this.notImplementedMethodError="Not implemented method"}var n=t.prototype;return n.initCurrentNavigationItemTracking=function(){s.debug("Initializing navigator tracking ... ("+this.className+")"),this.enabled=this.container.is(":visible"),this.windowElement.off("scroll",this._debouncedUpdateCurrentNavigationItem),this.enabled?(this.initNavigationItemsIndex(),this.updateCurrentNavigationItem(),this.windowElement.on("scroll",this._debouncedUpdateCurrentNavigationItem),s.debug("Navigation enabled ("+this.className+")")):s.debug("Navigation disabled ("+this.className+")")},n.initNavigationItemsIndex=function(){var t=this;s.debug("Creating page sections index ... ("+this.className+")"),this.pageSectionsIndex=[],this.pageSectionsIndex.hash={},this.createNavigationItemsIndex().forEach((function(i){var n=(0,e.default)(i.hash);if(n[0])i.target=n,i.top=n.offset().top,t.pageSectionsIndex.push(i),t.pageSectionsIndex.hash[i.hash]=i;else{var o='Skip indexing " + \n        indexRecord.hash + \n        ": element not found ('+t.className+")";(0,xi.pingerErrorHandler)("page-navigator",o)}}))},n.navigateToSection=function(t){var e=this.pageSectionsIndex.hash[t];if(e)s.debug("Navigate to: "+e.title+" ("+this.className+")"),this.windowScrollElement.stop(!0,!1).animate({scrollTop:e.top-this.extraNavigationOffset},300);else{var i="Can't scroll: no element for "+t+" URL ("+this.className+")";(0,xi.pingerErrorHandler)("page-navigator",i)}},n.updateCurrentNavigationItem=function(){var t=this;if(this.enabled)if(this.windowScrollElement.is(":animated"))s.debug("Not updating current item: program scrolling ("+this.className+")");else{var e=this.windowElement.scrollTop(),i=this.pageSectionsIndex[0];i?(this.pageSectionsIndex.forEach((function(n){n.top-t.extraTrackingOffset<=e&&(i=n)})),i!==this._currentRecord&&(this._currentRecord=i,s.debug("Current item: "+i.title+" ("+this.className+")"),this.updateSelectedNavigationItem(i))):s.warn("Nothing to track: page sections index is empty ("+this.className+")")}},n.initNavigationItemSelection=function(){throw new Error(this.notImplementedMethodError)},n.createNavigationItemsIndex=function(){throw new Error(this.notImplementedMethodError)},n.updateSelectedNavigationItem=function(t){throw new Error(this.notImplementedMethodError)},t}(),c=function(t){function i(e,i){return t.call(this,e,i,20,40)||this}a(i,t);var n=i.prototype;return n.initNavigationItemSelection=function(){var t=this;this.links=this.container.find("a"),this.links.on("click",(function(i){i.preventDefault(),(0,e.default)(this).parent().addClass("current").siblings().removeClass("current"),t.navigateToSection(this.hash)}))},n.createNavigationItemsIndex=function(){return this.links.map((function(t,i){var n=(0,e.default)(i);return{hash:i.hash,title:n.text().trim(),menuItem:n.parent()}})).get()},n.updateSelectedNavigationItem=function(t){t.menuItem.addClass("current").siblings().removeClass("current")},i}(l);Ko.DesktopNavigator=c;var u=function(t){function e(e,i){return t.call(this,e,i,75,100)||this}a(e,t);var i=e.prototype;return i.initNavigationItemSelection=function(){var t=this;this.select=this.container,this.options=this.select.find("option"),this.select.on("change",(function(){var e=t.select.val();t.navigateToSection("#"+e),(0,wo.reportEvent)(e,"","page_nav")}))},i.createNavigationItemsIndex=function(){return this.options.map((function(t,e){return{hash:"#"+e.value,title:e.label,option:e}})).get()},i.updateSelectedNavigationItem=function(t){t.option.selected=!0},e}(l);Ko.MobileNavigator=u}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Yo={PageSidebar:void 0},$o=function(){function t(t,e,i){this.container=t,this.pageContainer=e,this.pageHeader=i,this.initStickiness(),this.initNavigator()}var e=t.prototype;return e.initStickiness=function(){this.desktopStickinessController=new Qo.DesktopStickinessController(this.container,this.pageContainer,this.pageHeader),this.mobileStickinessController=new Qo.MobileStickinessController(this.container,this.pageContainer)},e.initNavigator=function(){var t=this.container.find(".page-navigator");this.desktopNavigator=new Ko.DesktopNavigator(t.find(".full-view"),this.pageContainer),this.mobileNavigator=new Ko.MobileNavigator(t.find(".short-view"),this.pageContainer)},t}();Yo.PageSidebar=$o;var Xo={};(function(t){(function(){"use strict";Xo.DropdownBlock=void 0;var e,i=(e="undefined"!=typeof window?window.jQuery:void 0!==t?t.jQuery:null)&&e.__esModule?e:{default:e},n=function(){function t(t){var e=t.target,n=t.container,o=t.wrapperClassName,r=void 0===o?"dropdown-block":o,a=t.dropdownClassName,s=void 0===a?"dropdown-container":a,l=t.wrap,c=void 0===l||l,u=t.toggleOnHover,d=void 0===u||u,f=t.toggleOnClick,h=void 0===f||f,p=t.flipCloseToViewportEnd,g=void 0!==p&&p,m=t.targetClassName,v=void 0===m?null:m;this.target=(0,i.default)(e),this.container=(0,i.default)(n).addClass(s),this.targetClassName=v,c?(this.wrapper=this.target.wrap("<div>").parent(),this.container.appendTo(this.wrapper)):this.wrapper=null,this.target.parent().addClass(r),this.toggleOnHover=d,this.toggleOnClick=h,this.shouldFlip=g,this.initAppearance()}var e=t.prototype;return e.initAppearance=function(){var t,e=this;this.toggleOnHover&&(this.target.add(this.container).on("mouseenter",(function(){clearTimeout(t),e.show()})),this.target.add(this.container).on("mouseleave",(function(){t=setTimeout((function(){e.container.removeClass("active")}),250)}))),this.toggleOnClick&&(this.target.on("click",(function(t){return e.toggleOnClickHandler(t)})),(0,i.default)("body").on("click",(function(t){var n=(0,i.default)(t.target);n.closest(e.target).length||n.closest(e.container).length||e.hide()}))),this.container.on("keydown",(function(t){var n=(0,i.default)(t.currentTarget).find('a:visible, button:visible, textarea, input[type="text"], input[type="radio"], input[type="checkbox"], select'),o=n[n.length-1];9===t.keyCode&&document.activeElement===o?e.hide():"escape"===t.key.toLowerCase()&&e.target.focus()})),(0,i.default)(window).on("keydown",(function(t){"escape"===t.key.toLowerCase()&&e.hide()}))},e.toggleOnClickHandler=function(t){if(t.preventDefault(),this.isDisplayed(t))this.hide();else{if(this.shouldFlip){var e=this.container.height();window.innerHeight-t.currentTarget.getBoundingClientRect().bottom<e+30?this.container.addClass("flipped"):this.container.removeClass("flipped")}this.show()}},e.isDisplayed=function(t){return!(!this.container.hasClass("active")||this.targetClassName&&(0,i.default)(t.currentTarget).hasClass(this.targetClassName))},e.show=function(){this.target.addClass("active"),this.target.attr("aria-expanded","true"),this.container.addClass("active"),this.container.trigger("dropdown-active"),this.container.attr("aria-hidden","false")},e.hide=function(){this.target.removeClass("active"),this.target.attr("aria-expanded","false"),this.container.removeClass("active"),this.container.trigger("dropdown-not-active"),this.container.attr("aria-hidden","true")},t}();Xo.DropdownBlock=n}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var tr,er={CopyButton:void 0},ir=((tr=Qe)&&tr.__esModule?tr:{default:tr}).default.getLogger("copy-button"),nr=function(){function t(t){var e=t.trigger,i=t.target,n=t.message;this.trigger=e,this.target=i,this.message=n,this.initCopyButton()}var e=t.prototype;return e.initCopyButton=function(){var t=this;this.trigger.on("click",(function(){return t.tryCopy()}))},e.tryCopy=function(){var t=!1;try{this.selectTargetValue(),t=document.execCommand("copy"),window.getSelection().removeAllRanges()}catch(e){(0,xi.pingerErrorHandler)("copy-button","Failed to copy text.")}t?(ir.info("Copied to clipboard"),Ze.Notification.info(this.message)):((0,xi.pingerErrorHandler)("copy-button","Can't copy citation to clipboard."),Ze.Notification.error("Can't copy citation. Please select text and press Ctrl+C."))},e.selectTargetValue=function(){if("DIV"===this.target[0].nodeName){var t=document.createRange();t.selectNodeContents(this.target[0]);var e=window.getSelection();e.removeAllRanges(),e.addRange(t)}else"INPUT"===this.target[0].nodeName&&this.target.focus().select()},e.disable=function(t){this.trigger.prop("disabled",t).toggleClass("disabled",t)},t}();er.CopyButton=nr;var or={EasySelectText:void 0},rr=function(){function t(t){this.target=t,this.initSelectOnClick()}return t.prototype.initSelectOnClick=function(){var t=this;this.target.on("mouseup",(function(e){t.target.prop("selectionStart")===t.target.prop("selectionEnd")&&(e.preventDefault(),t.target.select())}))},t}();or.EasySelectText=rr;var ar={PermalinkDropdown:void 0},sr=function(){function t(t){this.permalinkContainer=t,this.permalinkDropdownTrigger=this.permalinkContainer.children(".trigger"),this.permalinkDropdownContainer=this.permalinkContainer.children(".dropdown"),this.initPermalink()}return t.prototype.initPermalink=function(){var t=this;if(this.permalinkContainer[0]){var e=this.permalinkDropdownContainer.removeAttr("hidden");this.permalinkDropdown=new Xo.DropdownBlock({target:this.permalinkDropdownTrigger,container:e,toggleOnHover:!1,wrap:!1}),this.permalinkTextNode=e.find(".permalink-text"),this.permalinkCopyButton=new er.CopyButton({trigger:e.find(".permalink-copy-button"),target:this.permalinkTextNode,message:"Permalink successfully copied."}),this.easySelectPermalink=new or.EasySelectText(this.permalinkTextNode),e.on("dropdown-active",(function(){return t.permalinkTextNode.select()}))}else this.permalinkDropdown=null},t}();ar.PermalinkDropdown=sr;var lr={sharePopupWindowClickHandler:function(t){var e=t.getAttribute("href"),i=(screen.width-613)/2,n="width=613, height=745, top="+(screen.height-745)/2+", left="+i+", directories=no, location=no, menubar=no, resizable=yes, scrollbars=yes, status=no, toolbar=no",o=window.open(e,"Pubmed-Social-Media-Share-Popup",n);return o&&(o.opener=null),window.focus&&o.focus(),!1}},cr={ArticlePageSidebar:void 0},ur=function(t){var e,i;function n(e,i,n){var o;return(o=t.call(this,e,i,n)||this).sharePopupWindowClickHandler=lr.sharePopupWindowClickHandler,o.initPermalink(),o.initFavoritesButton(),(0,xo.isMediumLayout)()&&o.initSocialLinks(),o}i=t,(e=n).prototype=Object.create(i.prototype),e.prototype.constructor=e,e.__proto__=i;var o=n.prototype;return o.initSocialLinks=function(){var t=this;this.container.find(".share-link-facebook").on("click",(function(e){e.preventDefault(),t.sharePopupWindowClickHandler(e.target)})),this.container.find(".share-link-twitter").on("click",(function(e){e.preventDefault(),t.sharePopupWindowClickHandler(e.target)}))},o.initPermalink=function(){this.permalinkDropdown=new ar.PermalinkDropdown(this.container.find(".share-permalink"))},o.initFavoritesButton=function(){this.favButtonContainer=this.container.find(".favorites-button-container"),this.favButtonContainer.on("favorites-event",(function(t,e,i,n){(0,wo.reportEvent)("favorite",i,"save_share"),Ze.Notification.notify(n,e),"error"===e&&(0,xi.pingerErrorHandler)("favorites-button","Failed to modify Favorites.")}))},n}(Yo.PageSidebar);cr.ArticlePageSidebar=ur;var dr={};(function(t){(function(){"use strict";dr.CitationTextBlock=void 0;var e,i=(e="undefined"!=typeof window?window.jQuery:void 0!==t?t.jQuery:null)&&e.__esModule?e:{default:e},n=function(){function t(t,e){this.container=t,this.citeFormatPreferenceCookieName=e,this.selector=this.container.find(".citation-style-selector"),this.citationTextNode=this.container.find(".citation-text"),this.selectedStyle=null,this.copyButton=new er.CopyButton({trigger:this.container.find(".copy-button"),target:this.citationTextNode,message:"Citation successfully copied."}),this.loadingIndicator=new ki.DotsLoadingIndicator({container:this.container,className:"citation-loading-indicator"}),this.initCitationFormatSelector()}var e=t.prototype;return e.initCitationTextNode=function(t){this.allCitationsUrl=(0,i.default)(t).data("all-citations-url");var e=(0,i.default)(t).data("citation-style");this.container.find(".citation-actions form").attr("action",(0,i.default)(t).data("pubmed-format-link"));var n=this.selectedStyle?this.selectedStyle:e;this.selector.val(n.toUpperCase()),this.loadCitation(n)},e.initCitationFormatSelector=function(){var t=this;this.selector.on("change",(function(){t.selectedStyle=t.selector.find("option:selected").data("style-url-name"),t.citationTextNode.data("citation-style",t.selectedStyle),t.loadCitation(t.selectedStyle),(0,wo.reportEvent)("cite",t.selectedStyle,"save_share"),(0,Dn.setSecureCookieIfPossible)(t.citeFormatPreferenceCookieName,t.selectedStyle,{expires:1825})}))},e.loadCitation=function(e){var i=this;this.container.addClass("loading"),this.loadingIndicator.show(),t.dataController.getCitationText(e,this.allCitationsUrl).done((function(t){return i.updateCitationTextNode(t)})).fail((function(t){(0,xi.pingerErrorHandler)("citation-text-block","Citation text block failed to load"),Ze.Notification.error(t),(0,wo.reportEvent)("citation-not-loaded",t,"save_share"),i.updateCitationTextNode(t,!0)}))},e.updateCitationTextNode=function(t,e){void 0===e&&(e=!1),this.container.removeClass("loading"),this.loadingIndicator.hide(),this.citationTextNode.html(t.format),this.copyButton.disable(e)},t}();dr.CitationTextBlock=n,n.dataController={citationsLoaded:{},citations:{},getCitationText:function(t,e){var n=this,o=i.default.Deferred();return this.citationsLoaded[e]?o.resolve(this.getStyle(this.citations[e],t)).promise():(i.default.get(e).done((function(i){n.citations[e]=i,n.citationsLoaded[e]=!0,o.resolve(n.getStyle(i,t)).promise()})).fail((function(){var t="Loading of citation failed.";(0,xi.pingerErrorHandler)("citation-text-block",t),o.reject(t)})),o.promise())},getStyle:function(t,e){return t[e.toLowerCase()]}}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{}),tn("match",1,(function(t,e,i){return[function(e){var i=f(this),n=null==e?void 0:e[t];return void 0!==n?n.call(e,i):new RegExp(e)[t](String(i))},function(t){var n=i(e,t,this);if(n.done)return n.value;var o=k(t),r=String(this);if(!o.global)return rn(o,r);var a=o.unicode;o.lastIndex=0;for(var s,l=[],c=0;null!==(s=rn(o,r));){var u=String(s[0]);l[c]=u,""===u&&(o.lastIndex=on(r,lt(o.lastIndex),a)),c++}return 0===c?null:l}]}));var fr=Te("slice"),hr=se("slice",{ACCESSORS:!0,0:0,1:2}),pr=Ut("species"),gr=[].slice,mr=Math.max;Dt({target:"Array",proto:!0,forced:!fr||!hr},{slice:function(t,e){var i,n,o,r=h(this),a=lt(r.length),s=dt(t,a),l=dt(void 0===e?a:e,a);if(Nt(r)&&("function"!=typeof(i=r.constructor)||i!==Array&&!Nt(i.prototype)?p(i)&&null===(i=i[pr])&&(i=void 0):i=void 0,i===Array||void 0===i))return gr.call(r,s,l);for(n=new(void 0===i?Array:i)(mr(l-s,0)),o=0;s<l;s++,o++)s in r&&ei(n,o,r[s]);return n.length=o,n}});var vr=Ut("species"),yr=_.f,br=vt.f,wr=Y.set,Cr=Ut("match"),xr=t.RegExp,Sr=xr.prototype,kr=/a/g,_r=/a/g,Tr=new xr(kr)!==kr,Er=Mi.UNSUPPORTED_Y;if(i&&At("RegExp",!Tr||Er||e((function(){return _r[Cr]=!1,xr(kr)!=kr||xr(_r)==_r||"/a/i"!=xr(kr,"i")})))){for(var Ir=function(t,e){var i,n=this instanceof Ir,o=Fe(t),r=void 0===e;if(!n&&o&&t.constructor===Ir&&r)return t;Tr?o&&!r&&(t=t.source):t instanceof Ir&&(r&&(e=mi.call(t)),t=t.source),Er&&(i=!!e&&e.indexOf("y")>-1)&&(e=e.replace(/y/g,""));var a,s,l,c,u,d=(a=Tr?new xr(t,e):xr(t,e),s=n?this:Sr,l=Ir,uo&&"function"==typeof(c=s.constructor)&&c!==l&&p(u=c.prototype)&&u!==l.prototype&&uo(a,u),a);return Er&&i&&wr(d,{sticky:i}),d},Ar=function(t){t in Ir||yr(Ir,t,{configurable:!0,get:function(){return xr[t]},set:function(e){xr[t]=e}})},Or=br(xr),Dr=0;Or.length>Dr;)Ar(Or[Dr++]);Sr.constructor=Ir,Ir.prototype=Sr,K(t,"RegExp",Ir)}!function(t){var e=nt(t),n=_.f;i&&e&&!e[vr]&&n(e,vr,{configurable:!0,get:function(){return this}})}("RegExp");var Lr,Pr={};Lr=function(){return function(t,e,i,n){var o={features:null,bind:function(t,e,i,n){var o=(n?"remove":"add")+"EventListener";e=e.split(" ");for(var r=0;r<e.length;r++)e[r]&&t[o](e[r],i,!1)},isArray:function(t){return t instanceof Array},createEl:function(t,e){var i=document.createElement(e||"div");return t&&(i.className=t),i},getScrollY:function(){var t=window.pageYOffset;return void 0!==t?t:document.documentElement.scrollTop},unbind:function(t,e,i){o.bind(t,e,i,!0)},removeClass:function(t,e){var i=new RegExp("(\\s|^)"+e+"(\\s|$)");t.className=t.className.replace(i," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(t,e){o.hasClass(t,e)||(t.className+=(t.className?" ":"")+e)},hasClass:function(t,e){return t.className&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(t.className)},getChildByClass:function(t,e){for(var i=t.firstChild;i;){if(o.hasClass(i,e))return i;i=i.nextSibling}},arraySearch:function(t,e,i){for(var n=t.length;n--;)if(t[n][i]===e)return n;return-1},extend:function(t,e,i){for(var n in e)if(e.hasOwnProperty(n)){if(i&&t.hasOwnProperty(n))continue;t[n]=e[n]}},easing:{sine:{out:function(t){return Math.sin(t*(Math.PI/2))},inOut:function(t){return-(Math.cos(Math.PI*t)-1)/2}},cubic:{out:function(t){return--t*t*t+1}}},detectFeatures:function(){if(o.features)return o.features;var t=o.createEl().style,e="",i={};if(i.oldIE=document.all&&!document.addEventListener,i.touch="ontouchstart"in window,window.requestAnimationFrame&&(i.raf=window.requestAnimationFrame,i.caf=window.cancelAnimationFrame),i.pointerEvent=!!window.PointerEvent||navigator.msPointerEnabled,!i.pointerEvent){var n=navigator.userAgent;if(/iP(hone|od)/.test(navigator.platform)){var r=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);r&&r.length>0&&(r=parseInt(r[1],10))>=1&&r<8&&(i.isOldIOSPhone=!0)}var a=n.match(/Android\s([0-9\.]*)/),s=a?a[1]:0;(s=parseFloat(s))>=1&&(s<4.4&&(i.isOldAndroid=!0),i.androidVersion=s),i.isMobileOpera=/opera mini|opera mobi/i.test(n)}for(var l,c,u=["transform","perspective","animationName"],d=["","webkit","Moz","ms","O"],f=0;f<4;f++){e=d[f];for(var h=0;h<3;h++)l=u[h],c=e+(e?l.charAt(0).toUpperCase()+l.slice(1):l),!i[l]&&c in t&&(i[l]=c);e&&!i.raf&&(e=e.toLowerCase(),i.raf=window[e+"RequestAnimationFrame"],i.raf&&(i.caf=window[e+"CancelAnimationFrame"]||window[e+"CancelRequestAnimationFrame"]))}if(!i.raf){var p=0;i.raf=function(t){var e=(new Date).getTime(),i=Math.max(0,16-(e-p)),n=window.setTimeout((function(){t(e+i)}),i);return p=e+i,n},i.caf=function(t){clearTimeout(t)}}return i.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,o.features=i,i}};o.detectFeatures(),o.features.oldIE&&(o.bind=function(t,e,i,n){e=e.split(" ");for(var o,r=(n?"detach":"attach")+"Event",a=function(){i.handleEvent.call(i)},s=0;s<e.length;s++)if(o=e[s])if("object"==typeof i&&i.handleEvent){if(n){if(!i["oldIE"+o])return!1}else i["oldIE"+o]=a;t[r]("on"+o,i["oldIE"+o])}else t[r]("on"+o,i)});var r=this,a={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:333,showAnimationDuration:333,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(t){return"A"===t.tagName},getDoubleTapZoom:function(t,e){return t||e.initialZoomLevel<.7?1:1.33},maxSpreadZoom:1.33,modal:!0,scaleMode:"fit"};o.extend(a,n);var s,l,c,u,d,f,h,p,g,m,v,y,b,w,C,x,S,k,_,T,E,I,A,O,D,L,P,F,N,M,j,R,B,H,U,q,Q,V,W,z,G,Z,J,K,Y,$,X,tt,et,it,nt,ot,rt,at,st,lt,ct={x:0,y:0},ut={x:0,y:0},dt={x:0,y:0},ft={},ht=0,pt={},gt={x:0,y:0},mt=0,vt=!0,yt=[],bt={},wt=!1,Ct=function(t,e){o.extend(r,e.publicMethods),yt.push(t)},xt=function(t){var e=Be();return t>e-1?t-e:t<0?e+t:t},St={},kt=function(t,e){return St[t]||(St[t]=[]),St[t].push(e)},_t=function(t){var e=St[t];if(e){var i=Array.prototype.slice.call(arguments);i.shift();for(var n=0;n<e.length;n++)e[n].apply(r,i)}},Tt=function(){return(new Date).getTime()},Et=function(t){at=t,r.bg.style.opacity=t*a.bgOpacity},It=function(t,e,i,n,o){(!wt||o&&o!==r.currItem)&&(n/=o?o.fitRatio:r.currItem.fitRatio),t[I]=y+e+"px, "+i+"px"+b+" scale("+n+")"},At=function(t){et&&(t&&(m>r.currItem.fitRatio?wt||(Ze(r.currItem,!1,!0),wt=!0):wt&&(Ze(r.currItem),wt=!1)),It(et,dt.x,dt.y,m))},Ot=function(t){t.container&&It(t.container.style,t.initialPosition.x,t.initialPosition.y,t.initialZoomLevel,t)},Dt=function(t,e){e[I]=y+t+"px, 0px"+b},Lt=function(t,e){if(!a.loop&&e){var i=u+(gt.x*ht-t)/gt.x,n=Math.round(t-ue.x);(i<0&&n>0||i>=Be()-1&&n<0)&&(t=ue.x+n*a.mainScrollEndFriction)}ue.x=t,Dt(t,d)},Pt=function(t,e){var i=de[t]-pt[t];return ut[t]+ct[t]+i-i*(e/v)},Ft=function(t,e){t.x=e.x,t.y=e.y,e.id&&(t.id=e.id)},Nt=function(t){t.x=Math.round(t.x),t.y=Math.round(t.y)},Mt=null,jt=function e(){Mt&&(o.unbind(document,"mousemove",e),o.addClass(t,"pswp--has_mouse"),a.mouseUsed=!0,_t("mouseUsed")),Mt=setTimeout((function(){Mt=null}),100)},Rt=function(t,e){var i=Ve(r.currItem,ft,t);return e&&(tt=i),i},Bt=function(t){return t||(t=r.currItem),t.initialZoomLevel},Ht=function(t){return t||(t=r.currItem),t.w>0?a.maxSpreadZoom:1},Ut=function(t,e,i,n){return n===r.currItem.initialZoomLevel?(i[t]=r.currItem.initialPosition[t],!0):(i[t]=Pt(t,n),i[t]>e.min[t]?(i[t]=e.min[t],!0):i[t]<e.max[t]&&(i[t]=e.max[t],!0))},qt=function(t){var e="";a.escKey&&27===t.keyCode?e="close":a.arrowKeys&&(37===t.keyCode?e="prev":39===t.keyCode&&(e="next")),e&&(t.ctrlKey||t.altKey||t.shiftKey||t.metaKey||(t.preventDefault?t.preventDefault():t.returnValue=!1,r[e]()))},Qt=function(t){t&&(Z||G||it||Q)&&(t.preventDefault(),t.stopPropagation())},Vt=function(){r.setScrollOffset(0,o.getScrollY())},Wt={},zt=0,Gt=function(t){Wt[t]&&(Wt[t].raf&&L(Wt[t].raf),zt--,delete Wt[t])},Zt=function(t){Wt[t]&&Gt(t),Wt[t]||(zt++,Wt[t]={})},Jt=function(){for(var t in Wt)Wt.hasOwnProperty(t)&&Gt(t)},Kt=function(t,e,i,n,o,r,a){var s,l=Tt();Zt(t),function c(){if(Wt[t]){if((s=Tt()-l)>=n)return Gt(t),r(i),void(a&&a());r((i-e)*o(s/n)+e),Wt[t].raf=D(c)}}()},Yt={shout:_t,listen:kt,viewportSize:ft,options:a,isMainScrollAnimating:function(){return it},getZoomLevel:function(){return m},getCurrentIndex:function(){return u},isDragging:function(){return W},isZooming:function(){return $},setScrollOffset:function(t,e){pt.x=t,M=pt.y=e,_t("updateScrollOffset",pt)},applyZoomPan:function(t,e,i,n){dt.x=e,dt.y=i,m=t,At(n)},init:function(){if(!s&&!l){var i;r.framework=o,r.template=t,r.bg=o.getChildByClass(t,"pswp__bg"),P=t.className,s=!0,j=o.detectFeatures(),D=j.raf,L=j.caf,I=j.transform,N=j.oldIE,r.scrollWrap=o.getChildByClass(t,"pswp__scroll-wrap"),r.container=o.getChildByClass(r.scrollWrap,"pswp__container"),d=r.container.style,r.itemHolders=x=[{el:r.container.children[0],wrap:0,index:-1},{el:r.container.children[1],wrap:0,index:-1},{el:r.container.children[2],wrap:0,index:-1}],x[0].el.style.display=x[2].el.style.display="none",function(){if(I){var e=j.perspective&&!O;return y="translate"+(e?"3d(":"("),void(b=j.perspective?", 0px)":")")}I="left",o.addClass(t,"pswp--ie"),Dt=function(t,e){e.left=t+"px"},Ot=function(t){var e=t.fitRatio>1?1:t.fitRatio,i=t.container.style,n=e*t.w,o=e*t.h;i.width=n+"px",i.height=o+"px",i.left=t.initialPosition.x+"px",i.top=t.initialPosition.y+"px"},At=function(){if(et){var t=et,e=r.currItem,i=e.fitRatio>1?1:e.fitRatio,n=i*e.w,o=i*e.h;t.width=n+"px",t.height=o+"px",t.left=dt.x+"px",t.top=dt.y+"px"}}}(),g={resize:r.updateSize,orientationchange:function(){clearTimeout(R),R=setTimeout((function(){ft.x!==r.scrollWrap.clientWidth&&r.updateSize()}),500)},scroll:Vt,keydown:qt,click:Qt};var n=j.isOldIOSPhone||j.isOldAndroid||j.isMobileOpera;for(j.animationName&&j.transform&&!n||(a.showAnimationDuration=a.hideAnimationDuration=0),i=0;i<yt.length;i++)r["init"+yt[i]]();e&&(r.ui=new e(r,o)).init(),_t("firstUpdate"),u=u||a.index||0,(isNaN(u)||u<0||u>=Be())&&(u=0),r.currItem=Re(u),(j.isOldIOSPhone||j.isOldAndroid)&&(vt=!1),t.setAttribute("aria-hidden","false"),a.modal&&(vt?t.style.position="fixed":(t.style.position="absolute",t.style.top=o.getScrollY()+"px")),void 0===M&&(_t("initialLayout"),M=F=o.getScrollY());var c="pswp--open ";for(a.mainClass&&(c+=a.mainClass+" "),a.showHideOpacity&&(c+="pswp--animate_opacity "),c+=O?"pswp--touch":"pswp--notouch",c+=j.animationName?" pswp--css_animation":"",c+=j.svg?" pswp--svg":"",o.addClass(t,c),r.updateSize(),f=-1,mt=null,i=0;i<3;i++)Dt((i+f)*gt.x,x[i].el.style);N||o.bind(r.scrollWrap,p,r),kt("initialZoomInEnd",(function(){r.setContent(x[0],u-1),r.setContent(x[2],u+1),x[0].el.style.display=x[2].el.style.display="block",a.focus&&t.focus(),o.bind(document,"keydown",r),j.transform&&o.bind(r.scrollWrap,"click",r),a.mouseUsed||o.bind(document,"mousemove",jt),o.bind(window,"resize scroll orientationchange",r),_t("bindEvents")})),r.setContent(x[1],u),r.updateCurrItem(),_t("afterInit"),vt||(w=setInterval((function(){zt||W||$||m!==r.currItem.initialZoomLevel||r.updateSize()}),1e3)),o.addClass(t,"pswp--visible")}},close:function(){s&&(s=!1,l=!0,_t("close"),o.unbind(window,"resize scroll orientationchange",r),o.unbind(window,"scroll",g.scroll),o.unbind(document,"keydown",r),o.unbind(document,"mousemove",jt),j.transform&&o.unbind(r.scrollWrap,"click",r),W&&o.unbind(window,h,r),clearTimeout(R),_t("unbindEvents"),He(r.currItem,null,!0,r.destroy))},destroy:function(){_t("destroy"),Fe&&clearTimeout(Fe),t.setAttribute("aria-hidden","true"),t.className=P,w&&clearInterval(w),o.unbind(r.scrollWrap,p,r),o.unbind(window,"scroll",r),pe(),Jt(),St=null},panTo:function(t,e,i){i||(t>tt.min.x?t=tt.min.x:t<tt.max.x&&(t=tt.max.x),e>tt.min.y?e=tt.min.y:e<tt.max.y&&(e=tt.max.y)),dt.x=t,dt.y=e,At()},handleEvent:function(t){t=t||window.event,g[t.type]&&g[t.type](t)},goTo:function(t){var e=(t=xt(t))-u;mt=e,u=t,r.currItem=Re(u),ht-=e,Lt(gt.x*ht),Jt(),it=!1,r.updateCurrItem()},next:function(){r.goTo(u+1)},prev:function(){r.goTo(u-1)},updateCurrZoomItem:function(t){if(t&&_t("beforeChange",0),x[1].el.children.length){var e=x[1].el.children[0];et=o.hasClass(e,"pswp__zoom-wrap")?e.style:null}else et=null;tt=r.currItem.bounds,v=m=r.currItem.initialZoomLevel,dt.x=tt.center.x,dt.y=tt.center.y,t&&_t("afterChange")},invalidateCurrItems:function(){C=!0;for(var t=0;t<3;t++)x[t].item&&(x[t].item.needsUpdate=!0)},updateCurrItem:function(t){if(0!==mt){var e,i=Math.abs(mt);if(!(t&&i<2)){r.currItem=Re(u),wt=!1,_t("beforeChange",mt),i>=3&&(f+=mt+(mt>0?-3:3),i=3);for(var n=0;n<i;n++)mt>0?(e=x.shift(),x[2]=e,Dt((2+ ++f)*gt.x,e.el.style),r.setContent(e,u-i+n+1+1)):(e=x.pop(),x.unshift(e),Dt(--f*gt.x,e.el.style),r.setContent(e,u+i-n-1-1));if(et&&1===Math.abs(mt)){var o=Re(S);o.initialZoomLevel!==m&&(Ve(o,ft),Ze(o),Ot(o))}mt=0,r.updateCurrZoomItem(),S=u,_t("afterChange")}}},updateSize:function(e){if(!vt&&a.modal){var i=o.getScrollY();if(M!==i&&(t.style.top=i+"px",M=i),!e&&bt.x===window.innerWidth&&bt.y===window.innerHeight)return;bt.x=window.innerWidth,bt.y=window.innerHeight,t.style.height=bt.y+"px"}if(ft.x=r.scrollWrap.clientWidth,ft.y=r.scrollWrap.clientHeight,Vt(),gt.x=ft.x+Math.round(ft.x*a.spacing),gt.y=ft.y,Lt(gt.x*ht),_t("beforeResize"),void 0!==f){for(var n,s,l,c=0;c<3;c++)n=x[c],Dt((c+f)*gt.x,n.el.style),l=u+c-1,a.loop&&Be()>2&&(l=xt(l)),(s=Re(l))&&(C||s.needsUpdate||!s.bounds)?(r.cleanSlide(s),r.setContent(n,l),1===c&&(r.currItem=s,r.updateCurrZoomItem(!0)),s.needsUpdate=!1):-1===n.index&&l>=0&&r.setContent(n,l),s&&s.container&&(Ve(s,ft),Ze(s),Ot(s));C=!1}v=m=r.currItem.initialZoomLevel,(tt=r.currItem.bounds)&&(dt.x=tt.center.x,dt.y=tt.center.y,At(!0)),_t("resize")},zoomTo:function(t,e,i,n,r){e&&(v=m,de.x=Math.abs(e.x)-dt.x,de.y=Math.abs(e.y)-dt.y,Ft(ut,dt));var a=Rt(t,!1),s={};Ut("x",a,s,t),Ut("y",a,s,t);var l=m,c=dt.x,u=dt.y;Nt(s);var d=function(e){1===e?(m=t,dt.x=s.x,dt.y=s.y):(m=(t-l)*e+l,dt.x=(s.x-c)*e+c,dt.y=(s.y-u)*e+u),r&&r(e),At(1===e)};i?Kt("customZoomTo",0,1,i,n||o.easing.sine.inOut,d):d(1)}},$t={},Xt={},te={},ee={},ie={},ne=[],oe={},re=[],ae={},se=0,le={x:0,y:0},ce=0,ue={x:0,y:0},de={x:0,y:0},fe={x:0,y:0},he=function(t,e){return ae.x=Math.abs(t.x-e.x),ae.y=Math.abs(t.y-e.y),Math.sqrt(ae.x*ae.x+ae.y*ae.y)},pe=function(){J&&(L(J),J=null)},ge={},me=function(t,e){return ge.prevent=!function t(e,i){return!(!e||e===document)&&!(e.getAttribute("class")&&e.getAttribute("class").indexOf("pswp__scroll-wrap")>-1)&&(i(e)?e:t(e.parentNode,i))}(t.target,a.isClickableElement),_t("preventDragEvent",t,e,ge),ge.prevent},ve=function(t,e){return e.x=t.pageX,e.y=t.pageY,e.id=t.identifier,e},ye=function(t,e,i){i.x=.5*(t.x+e.x),i.y=.5*(t.y+e.y)},be=function(){var t=dt.y-r.currItem.initialPosition.y;return 1-Math.abs(t/(ft.y/2))},we={},Ce={},xe=[],Se=function(t){for(;xe.length>0;)xe.pop();return A?(lt=0,ne.forEach((function(t){0===lt?xe[0]=t:1===lt&&(xe[1]=t),lt++}))):t.type.indexOf("touch")>-1?t.touches&&t.touches.length>0&&(xe[0]=ve(t.touches[0],we),t.touches.length>1&&(xe[1]=ve(t.touches[1],Ce))):(we.x=t.pageX,we.y=t.pageY,we.id="",xe[0]=we),xe},ke=function(t,e){var i,n,o,s,l=dt[t]+e[t],c=e[t]>0,u=ue.x+e.x,d=ue.x-oe.x;if(i=l>tt.min[t]||l<tt.max[t]?a.panEndFriction:1,l=dt[t]+e[t]*i,(a.allowPanToNext||m===r.currItem.initialZoomLevel)&&(et?"h"!==nt||"x"!==t||G||(c?(l>tt.min[t]&&(i=a.panEndFriction,tt.min[t],n=tt.min[t]-ut[t]),(n<=0||d<0)&&Be()>1?(s=u,d<0&&u>oe.x&&(s=oe.x)):tt.min.x!==tt.max.x&&(o=l)):(l<tt.max[t]&&(i=a.panEndFriction,tt.max[t],n=ut[t]-tt.max[t]),(n<=0||d>0)&&Be()>1?(s=u,d>0&&u<oe.x&&(s=oe.x)):tt.min.x!==tt.max.x&&(o=l))):s=u,"x"===t))return void 0!==s&&(Lt(s,!0),K=s!==oe.x),tt.min.x!==tt.max.x&&(void 0!==o?dt.x=o:K||(dt.x+=e.x*i)),void 0!==s;it||K||m>r.currItem.fitRatio&&(dt[t]+=e[t]*i)},_e=function(t){if(!("mousedown"===t.type&&t.button>0))if(je)t.preventDefault();else if(!V||"mousedown"!==t.type){if(me(t,!0)&&t.preventDefault(),_t("pointerDown"),A){var e=o.arraySearch(ne,t.pointerId,"id");e<0&&(e=ne.length),ne[e]={x:t.pageX,y:t.pageY,id:t.pointerId}}var i=Se(t),n=i.length;Y=null,Jt(),W&&1!==n||(W=ot=!0,o.bind(window,h,r),q=st=rt=Q=K=Z=z=G=!1,nt=null,_t("firstTouchStart",i),Ft(ut,dt),ct.x=ct.y=0,Ft(ee,i[0]),Ft(ie,ee),oe.x=gt.x*ht,re=[{x:ee.x,y:ee.y}],H=B=Tt(),Rt(m,!0),pe(),function t(){W&&(J=D(t),Ee())}()),!$&&n>1&&!it&&!K&&(v=m,G=!1,$=z=!0,ct.y=ct.x=0,Ft(ut,dt),Ft($t,i[0]),Ft(Xt,i[1]),ye($t,Xt,fe),de.x=Math.abs(fe.x)-dt.x,de.y=Math.abs(fe.y)-dt.y,X=he($t,Xt))}},Te=function(t){if(t.preventDefault(),A){var e=o.arraySearch(ne,t.pointerId,"id");if(e>-1){var i=ne[e];i.x=t.pageX,i.y=t.pageY}}if(W){var n=Se(t);if(nt||Z||$)Y=n;else if(ue.x!==gt.x*ht)nt="h";else{var r=Math.abs(n[0].x-ee.x)-Math.abs(n[0].y-ee.y);Math.abs(r)>=10&&(nt=r>0?"h":"v",Y=n)}}},Ee=function(){if(Y){var t=Y.length;if(0!==t)if(Ft($t,Y[0]),te.x=$t.x-ee.x,te.y=$t.y-ee.y,$&&t>1){if(ee.x=$t.x,ee.y=$t.y,!te.x&&!te.y&&function(t,e){return t.x===e.x&&t.y===e.y}(Y[1],Xt))return;Ft(Xt,Y[1]),G||(G=!0,_t("zoomGestureStarted"));var e=he($t,Xt),i=Le(e);i>r.currItem.initialZoomLevel+r.currItem.initialZoomLevel/15&&(st=!0);var n=1,o=Bt(),s=Ht();if(i<o)if(a.pinchToClose&&!st&&v<=r.currItem.initialZoomLevel){var l=1-(o-i)/(o/1.2);Et(l),_t("onPinchClose",l),rt=!0}else(n=(o-i)/o)>1&&(n=1),i=o-n*(o/3);else i>s&&((n=(i-s)/(6*o))>1&&(n=1),i=s+n*o);n<0&&(n=0),ye($t,Xt,le),ct.x+=le.x-fe.x,ct.y+=le.y-fe.y,Ft(fe,le),dt.x=Pt("x",i),dt.y=Pt("y",i),q=i>m,m=i,At()}else{if(!nt)return;if(ot&&(ot=!1,Math.abs(te.x)>=10&&(te.x-=Y[0].x-ie.x),Math.abs(te.y)>=10&&(te.y-=Y[0].y-ie.y)),ee.x=$t.x,ee.y=$t.y,0===te.x&&0===te.y)return;if("v"===nt&&a.closeOnVerticalDrag&&"fit"===a.scaleMode&&m===r.currItem.initialZoomLevel){ct.y+=te.y,dt.y+=te.y;var c=be();return Q=!0,_t("onVerticalDrag",c),Et(c),void At()}!function(t,e,i){if(t-H>50){var n=re.length>2?re.shift():{};n.x=e,n.y=i,re.push(n),H=t}}(Tt(),$t.x,$t.y),Z=!0,tt=r.currItem.bounds,ke("x",te)||(ke("y",te),Nt(dt),At())}}},Ie=function(t){if(j.isOldAndroid){if(V&&"mouseup"===t.type)return;t.type.indexOf("touch")>-1&&(clearTimeout(V),V=setTimeout((function(){V=0}),600))}var e;if(_t("pointerUp"),me(t,!1)&&t.preventDefault(),A){var i=o.arraySearch(ne,t.pointerId,"id");i>-1&&(e=ne.splice(i,1)[0],navigator.msPointerEnabled?(e.type={4:"mouse",2:"touch",3:"pen"}[t.pointerType],e.type||(e.type=t.pointerType||"mouse")):e.type=t.pointerType||"mouse")}var n,s=Se(t),l=s.length;if("mouseup"===t.type&&(l=0),2===l)return Y=null,!0;1===l&&Ft(ie,s[0]),0!==l||nt||it||(e||("mouseup"===t.type?e={x:t.pageX,y:t.pageY,type:"mouse"}:t.changedTouches&&t.changedTouches[0]&&(e={x:t.changedTouches[0].pageX,y:t.changedTouches[0].pageY,type:"touch"})),_t("touchRelease",t,e));var c=-1;if(0===l&&(W=!1,o.unbind(window,h,r),pe(),$?c=0:-1!==ce&&(c=Tt()-ce)),ce=1===l?Tt():-1,n=-1!==c&&c<150?"zoom":"swipe",$&&l<2&&($=!1,1===l&&(n="zoomPointerUp"),_t("zoomGestureEnded")),Y=null,Z||G||it||Q)if(Jt(),U||(U=Ae()),U.calculateSwipeSpeed("x"),Q)if(be()<a.verticalDragRange)r.close();else{var u=dt.y,d=at;Kt("verticalDrag",0,1,300,o.easing.cubic.out,(function(t){dt.y=(r.currItem.initialPosition.y-u)*t+u,Et((1-d)*t+d),At()})),_t("onVerticalDrag",1)}else{if((K||it)&&0===l){if(De(n,U))return;n="zoomPointerUp"}it||("swipe"===n?!K&&m>r.currItem.fitRatio&&Oe(U):Pe())}},Ae=function(){var t,e,i={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(n){re.length>1?(t=Tt()-H+50,e=re[re.length-2][n]):(t=Tt()-B,e=ie[n]),i.lastFlickOffset[n]=ee[n]-e,i.lastFlickDist[n]=Math.abs(i.lastFlickOffset[n]),i.lastFlickDist[n]>20?i.lastFlickSpeed[n]=i.lastFlickOffset[n]/t:i.lastFlickSpeed[n]=0,Math.abs(i.lastFlickSpeed[n])<.1&&(i.lastFlickSpeed[n]=0),i.slowDownRatio[n]=.95,i.slowDownRatioReverse[n]=1-i.slowDownRatio[n],i.speedDecelerationRatio[n]=1},calculateOverBoundsAnimOffset:function(t,e){i.backAnimStarted[t]||(dt[t]>tt.min[t]?i.backAnimDestination[t]=tt.min[t]:dt[t]<tt.max[t]&&(i.backAnimDestination[t]=tt.max[t]),void 0!==i.backAnimDestination[t]&&(i.slowDownRatio[t]=.7,i.slowDownRatioReverse[t]=1-i.slowDownRatio[t],i.speedDecelerationRatioAbs[t]<.05&&(i.lastFlickSpeed[t]=0,i.backAnimStarted[t]=!0,Kt("bounceZoomPan"+t,dt[t],i.backAnimDestination[t],e||300,o.easing.sine.out,(function(e){dt[t]=e,At()})))))},calculateAnimOffset:function(t){i.backAnimStarted[t]||(i.speedDecelerationRatio[t]=i.speedDecelerationRatio[t]*(i.slowDownRatio[t]+i.slowDownRatioReverse[t]-i.slowDownRatioReverse[t]*i.timeDiff/10),i.speedDecelerationRatioAbs[t]=Math.abs(i.lastFlickSpeed[t]*i.speedDecelerationRatio[t]),i.distanceOffset[t]=i.lastFlickSpeed[t]*i.speedDecelerationRatio[t]*i.timeDiff,dt[t]+=i.distanceOffset[t])},panAnimLoop:function(){if(Wt.zoomPan&&(Wt.zoomPan.raf=D(i.panAnimLoop),i.now=Tt(),i.timeDiff=i.now-i.lastNow,i.lastNow=i.now,i.calculateAnimOffset("x"),i.calculateAnimOffset("y"),At(),i.calculateOverBoundsAnimOffset("x"),i.calculateOverBoundsAnimOffset("y"),i.speedDecelerationRatioAbs.x<.05&&i.speedDecelerationRatioAbs.y<.05))return dt.x=Math.round(dt.x),dt.y=Math.round(dt.y),At(),void Gt("zoomPan")}};return i},Oe=function(t){if(t.calculateSwipeSpeed("y"),tt=r.currItem.bounds,t.backAnimDestination={},t.backAnimStarted={},Math.abs(t.lastFlickSpeed.x)<=.05&&Math.abs(t.lastFlickSpeed.y)<=.05)return t.speedDecelerationRatioAbs.x=t.speedDecelerationRatioAbs.y=0,t.calculateOverBoundsAnimOffset("x"),t.calculateOverBoundsAnimOffset("y"),!0;Zt("zoomPan"),t.lastNow=Tt(),t.panAnimLoop()},De=function(t,e){var i,n,s;if(it||(se=u),"swipe"===t){var l=ee.x-ie.x,c=e.lastFlickDist.x<10;l>30&&(c||e.lastFlickOffset.x>20)?n=-1:l<-30&&(c||e.lastFlickOffset.x<-20)&&(n=1)}n&&((u+=n)<0?(u=a.loop?Be()-1:0,s=!0):u>=Be()&&(u=a.loop?0:Be()-1,s=!0),s&&!a.loop||(mt+=n,ht-=n,i=!0));var d,f=gt.x*ht,h=Math.abs(f-ue.x);return i||f>ue.x==e.lastFlickSpeed.x>0?(d=Math.abs(e.lastFlickSpeed.x)>0?h/Math.abs(e.lastFlickSpeed.x):333,d=Math.min(d,400),d=Math.max(d,250)):d=333,se===u&&(i=!1),it=!0,_t("mainScrollAnimStart"),Kt("mainScroll",ue.x,f,d,o.easing.cubic.out,Lt,(function(){Jt(),it=!1,se=-1,(i||se!==u)&&r.updateCurrItem(),_t("mainScrollAnimComplete")})),i&&r.updateCurrItem(!0),i},Le=function(t){return 1/X*t*v},Pe=function(){var t=m,e=Bt(),i=Ht();m<e?t=e:m>i&&(t=i);var n,a=at;return rt&&!q&&!st&&m<e?(r.close(),!0):(rt&&(n=function(t){Et((1-a)*t+a)}),r.zoomTo(t,0,200,o.easing.cubic.out,n),!0)};Ct("Gestures",{publicMethods:{initGestures:function(){var t=function(t,e,i,n,o){k=t+e,_=t+i,T=t+n,E=o?t+o:""};(A=j.pointerEvent)&&j.touch&&(j.touch=!1),A?navigator.msPointerEnabled?t("MSPointer","Down","Move","Up","Cancel"):t("pointer","down","move","up","cancel"):j.touch?(t("touch","start","move","end","cancel"),O=!0):t("mouse","down","move","up"),h=_+" "+T+" "+E,p=k,A&&!O&&(O=navigator.maxTouchPoints>1||navigator.msMaxTouchPoints>1),r.likelyTouchDevice=O,g[k]=_e,g[_]=Te,g[T]=Ie,E&&(g[E]=g[T]),j.touch&&(p+=" mousedown",h+=" mousemove mouseup",g.mousedown=g[k],g.mousemove=g[_],g.mouseup=g[T]),O||(a.allowPanToNext=!1)}}});var Fe,Ne,Me,je,Re,Be,He=function(e,i,n,s){var l;Fe&&clearTimeout(Fe),je=!0,Me=!0,e.initialLayout?(l=e.initialLayout,e.initialLayout=null):l=a.getThumbBoundsFn&&a.getThumbBoundsFn(u);var d,f,h=n?a.hideAnimationDuration:a.showAnimationDuration,p=function(){Gt("initialZoom"),n?(r.template.removeAttribute("style"),r.bg.removeAttribute("style")):(Et(1),i&&(i.style.display="block"),o.addClass(t,"pswp--animated-in"),_t("initialZoom"+(n?"OutEnd":"InEnd"))),s&&s(),je=!1};if(!h||!l||void 0===l.x)return _t("initialZoom"+(n?"Out":"In")),m=e.initialZoomLevel,Ft(dt,e.initialPosition),At(),t.style.opacity=n?0:1,Et(1),void(h?setTimeout((function(){p()}),h):p());d=c,f=!r.currItem.src||r.currItem.loadError||a.showHideOpacity,e.miniImg&&(e.miniImg.style.webkitBackfaceVisibility="hidden"),n||(m=l.w/e.w,dt.x=l.x,dt.y=l.y-F,r[f?"template":"bg"].style.opacity=.001,At()),Zt("initialZoom"),n&&!d&&o.removeClass(t,"pswp--animated-in"),f&&(n?o[(d?"remove":"add")+"Class"](t,"pswp--animate_opacity"):setTimeout((function(){o.addClass(t,"pswp--animate_opacity")}),30)),Fe=setTimeout((function(){if(_t("initialZoom"+(n?"Out":"In")),n){var i=l.w/e.w,r={x:dt.x,y:dt.y},a=m,s=at,c=function(e){1===e?(m=i,dt.x=l.x,dt.y=l.y-M):(m=(i-a)*e+a,dt.x=(l.x-r.x)*e+r.x,dt.y=(l.y-M-r.y)*e+r.y),At(),f?t.style.opacity=1-e:Et(s-e*s)};d?Kt("initialZoom",0,1,h,o.easing.cubic.out,c,p):(c(1),Fe=setTimeout(p,h+20))}else m=e.initialZoomLevel,Ft(dt,e.initialPosition),At(),Et(1),f?t.style.opacity=1:Et(1),Fe=setTimeout(p,h+20)}),n?25:90)},Ue={},qe=[],Qe={index:0,errorMsg:'<div class="pswp__error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return Ne.length}},Ve=function(t,e,i){if(t.src&&!t.loadError){var n=!i;if(n&&(t.vGap||(t.vGap={top:0,bottom:0}),_t("parseVerticalMargin",t)),Ue.x=e.x,Ue.y=e.y-t.vGap.top-t.vGap.bottom,n){var o=Ue.x/t.w,r=Ue.y/t.h;t.fitRatio=o<r?o:r;var s=a.scaleMode;"orig"===s?i=1:"fit"===s&&(i=t.fitRatio),i>1&&(i=1),t.initialZoomLevel=i,t.bounds||(t.bounds={center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}})}if(!i)return;return function(t,e,i){var n=t.bounds;n.center.x=Math.round((Ue.x-e)/2),n.center.y=Math.round((Ue.y-i)/2)+t.vGap.top,n.max.x=e>Ue.x?Math.round(Ue.x-e):n.center.x,n.max.y=i>Ue.y?Math.round(Ue.y-i)+t.vGap.top:n.center.y,n.min.x=e>Ue.x?0:n.center.x,n.min.y=i>Ue.y?t.vGap.top:n.center.y}(t,t.w*i,t.h*i),n&&i===t.initialZoomLevel&&(t.initialPosition=t.bounds.center),t.bounds}return t.w=t.h=0,t.initialZoomLevel=t.fitRatio=1,t.bounds={center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}},t.initialPosition=t.bounds.center,t.bounds},We=function(t,e,i,n,o,a){e.loadError||n&&(e.imageAppended=!0,Ze(e,n,e===r.currItem&&wt),i.appendChild(n),a&&setTimeout((function(){e&&e.loaded&&e.placeholder&&(e.placeholder.style.display="none",e.placeholder=null)}),500))},ze=function(t){t.loading=!0,t.loaded=!1;var e=t.img=o.createEl("pswp__img","img"),i=function(){t.loading=!1,t.loaded=!0,t.loadComplete?t.loadComplete(t):t.img=null,e.onload=e.onerror=null,e=null};return e.onload=i,e.onerror=function(){t.loadError=!0,i()},e.src=t.src,e},Ge=function(t,e){if(t.src&&t.loadError&&t.container)return e&&(t.container.innerHTML=""),t.container.innerHTML=a.errorMsg.replace("%url%",t.src),!0},Ze=function(t,e,i){if(t.src){e||(e=t.container.lastChild);var n=i?t.w:Math.round(t.w*t.fitRatio),o=i?t.h:Math.round(t.h*t.fitRatio);t.placeholder&&!t.loaded&&(t.placeholder.style.width=n+"px",t.placeholder.style.height=o+"px"),e.style.width=n+"px",e.style.height=o+"px"}},Je=function(){if(qe.length){for(var t,e=0;e<qe.length;e++)(t=qe[e]).holder.index===t.index&&We(t.index,t.item,t.baseDiv,t.img,0,t.clearPlaceholder);qe=[]}};Ct("Controller",{publicMethods:{lazyLoadItem:function(t){t=xt(t);var e=Re(t);e&&(!e.loaded&&!e.loading||C)&&(_t("gettingData",t,e),e.src&&ze(e))},initController:function(){o.extend(a,Qe,!0),r.items=Ne=i,Re=r.getItemAt,Be=a.getNumItemsFn,a.loop,Be()<3&&(a.loop=!1),kt("beforeChange",(function(t){var e,i=a.preload,n=null===t||t>=0,o=Math.min(i[0],Be()),s=Math.min(i[1],Be());for(e=1;e<=(n?s:o);e++)r.lazyLoadItem(u+e);for(e=1;e<=(n?o:s);e++)r.lazyLoadItem(u-e)})),kt("initialLayout",(function(){r.currItem.initialLayout=a.getThumbBoundsFn&&a.getThumbBoundsFn(u)})),kt("mainScrollAnimComplete",Je),kt("initialZoomInEnd",Je),kt("destroy",(function(){for(var t,e=0;e<Ne.length;e++)(t=Ne[e]).container&&(t.container=null),t.placeholder&&(t.placeholder=null),t.img&&(t.img=null),t.preloader&&(t.preloader=null),t.loadError&&(t.loaded=t.loadError=!1);qe=null}))},getItemAt:function(t){return t>=0&&void 0!==Ne[t]&&Ne[t]},allowProgressiveImg:function(){return a.forceProgressiveLoading||!O||a.mouseUsed||screen.width>1200},setContent:function(t,e){a.loop&&(e=xt(e));var i=r.getItemAt(t.index);i&&(i.container=null);var n,l=r.getItemAt(e);if(l){_t("gettingData",e,l),t.index=e,t.item=l;var c=l.container=o.createEl("pswp__zoom-wrap");if(!l.src&&l.html&&(l.html.tagName?c.appendChild(l.html):c.innerHTML=l.html),Ge(l),Ve(l,ft),!l.src||l.loadError||l.loaded)l.src&&!l.loadError&&((n=o.createEl("pswp__img","img")).style.opacity=1,n.src=l.src,Ze(l,n),We(0,l,c,n));else{if(l.loadComplete=function(i){if(s){if(t&&t.index===e){if(Ge(i,!0))return i.loadComplete=i.img=null,Ve(i,ft),Ot(i),void(t.index===u&&r.updateCurrZoomItem());i.imageAppended?!je&&i.placeholder&&(i.placeholder.style.display="none",i.placeholder=null):j.transform&&(it||je)?qe.push({item:i,baseDiv:c,img:i.img,index:e,holder:t,clearPlaceholder:!0}):We(0,i,c,i.img,0,!0)}i.loadComplete=null,i.img=null,_t("imageLoadComplete",e,i)}},o.features.transform){var d="pswp__img pswp__img--placeholder";d+=l.msrc?"":" pswp__img--placeholder--blank";var f=o.createEl(d,l.msrc?"img":"");l.msrc&&(f.src=l.msrc),Ze(l,f),c.appendChild(f),l.placeholder=f}l.loading||ze(l),r.allowProgressiveImg()&&(!Me&&j.transform?qe.push({item:l,baseDiv:c,img:l.img,index:e,holder:t}):We(0,l,c,l.img,0,!0))}Me||e!==u?Ot(l):(et=c.style,He(l,n||l.img)),t.el.innerHTML="",t.el.appendChild(c)}else t.el.innerHTML=""},cleanSlide:function(t){t.img&&(t.img.onload=t.img.onerror=null),t.loaded=t.loading=t.img=t.imageAppended=!1}}});var Ke,Ye,$e={},Xe=function(t,e,i){var n=document.createEvent("CustomEvent"),o={origEvent:t,target:t.target,releasePoint:e,pointerType:i||"touch"};n.initCustomEvent("pswpTap",!0,!0,o),t.target.dispatchEvent(n)};Ct("Tap",{publicMethods:{initTap:function(){kt("firstTouchStart",r.onTapStart),kt("touchRelease",r.onTapRelease),kt("destroy",(function(){$e={},Ke=null}))},onTapStart:function(t){t.length>1&&(clearTimeout(Ke),Ke=null)},onTapRelease:function(t,e){var i,n;if(e&&!Z&&!z&&!zt){var r=e;if(Ke&&(clearTimeout(Ke),Ke=null,i=r,n=$e,Math.abs(i.x-n.x)<25&&Math.abs(i.y-n.y)<25))return void _t("doubleTap",r);if("mouse"===e.type)return void Xe(t,e,"mouse");if("BUTTON"===t.target.tagName.toUpperCase()||o.hasClass(t.target,"pswp__single-tap"))return void Xe(t,e);Ft($e,r),Ke=setTimeout((function(){Xe(t,e),Ke=null}),300)}}}}),Ct("DesktopZoom",{publicMethods:{initDesktopZoom:function(){N||(O?kt("mouseUsed",(function(){r.setupDesktopZoom()})):r.setupDesktopZoom(!0))},setupDesktopZoom:function(e){Ye={};var i="wheel mousewheel DOMMouseScroll";kt("bindEvents",(function(){o.bind(t,i,r.handleMouseWheel)})),kt("unbindEvents",(function(){Ye&&o.unbind(t,i,r.handleMouseWheel)})),r.mouseZoomedIn=!1;var n,a=function(){r.mouseZoomedIn&&(o.removeClass(t,"pswp--zoomed-in"),r.mouseZoomedIn=!1),m<1?o.addClass(t,"pswp--zoom-allowed"):o.removeClass(t,"pswp--zoom-allowed"),s()},s=function(){n&&(o.removeClass(t,"pswp--dragging"),n=!1)};kt("resize",a),kt("afterChange",a),kt("pointerDown",(function(){r.mouseZoomedIn&&(n=!0,o.addClass(t,"pswp--dragging"))})),kt("pointerUp",s),e||a()},handleMouseWheel:function(t){if(m<=r.currItem.fitRatio)return a.modal&&(!a.closeOnScroll||zt||W?t.preventDefault():I&&Math.abs(t.deltaY)>2&&(c=!0,r.close())),!0;if(t.stopPropagation(),Ye.x=0,"deltaX"in t)1===t.deltaMode?(Ye.x=18*t.deltaX,Ye.y=18*t.deltaY):(Ye.x=t.deltaX,Ye.y=t.deltaY);else if("wheelDelta"in t)t.wheelDeltaX&&(Ye.x=-.16*t.wheelDeltaX),t.wheelDeltaY?Ye.y=-.16*t.wheelDeltaY:Ye.y=-.16*t.wheelDelta;else{if(!("detail"in t))return;Ye.y=t.detail}Rt(m,!0);var e=dt.x-Ye.x,i=dt.y-Ye.y;(a.modal||e<=tt.min.x&&e>=tt.max.x&&i<=tt.min.y&&i>=tt.max.y)&&t.preventDefault(),r.panTo(e,i)},toggleDesktopZoom:function(e){e=e||{x:ft.x/2+pt.x,y:ft.y/2+pt.y};var i=a.getDoubleTapZoom(!0,r.currItem),n=m===i;r.mouseZoomedIn=!n,r.zoomTo(n?r.currItem.initialZoomLevel:i,e,333),o[(n?"remove":"add")+"Class"](t,"pswp--zoomed-in")}}});var ti,ei,ii,ni,oi,ri,ai,si,li,ci,ui,di,fi={history:!0,galleryUID:1},hi=function(){return ui.hash.substring(1)},pi=function(){ti&&clearTimeout(ti),ii&&clearTimeout(ii)},gi=function(){var t=hi(),e={};if(t.length<5)return e;var i,n=t.split("&");for(i=0;i<n.length;i++)if(n[i]){var o=n[i].split("=");o.length<2||(e[o[0]]=o[1])}if(a.galleryPIDs){var r=e.pid;for(e.pid=0,i=0;i<Ne.length;i++)if(Ne[i].pid===r){e.pid=i;break}}else e.pid=parseInt(e.pid,10)-1;return e.pid<0&&(e.pid=0),e},mi=function t(){if(ii&&clearTimeout(ii),zt||W)ii=setTimeout(t,500);else{ni?clearTimeout(ei):ni=!0;var e=u+1,i=Re(u);i.hasOwnProperty("pid")&&(e=i.pid);var n=ai+"&gid="+a.galleryUID+"&pid="+e;si||-1===ui.hash.indexOf(n)&&(ci=!0);var o=ui.href.split("#")[0]+"#"+n;di?"#"+n!==window.location.hash&&history[si?"replaceState":"pushState"]("",document.title,o):si?ui.replace(o):ui.hash=n,si=!0,ei=setTimeout((function(){ni=!1}),60)}};Ct("History",{publicMethods:{initHistory:function(){if(o.extend(a,fi,!0),a.history){ui=window.location,ci=!1,li=!1,si=!1,ai=hi(),di="pushState"in history,ai.indexOf("gid=")>-1&&(ai=(ai=ai.split("&gid=")[0]).split("?gid=")[0]),kt("afterChange",r.updateURL),kt("unbindEvents",(function(){o.unbind(window,"hashchange",r.onHashChange)}));var t=function(){ri=!0,li||(ci?history.back():ai?ui.hash=ai:di?history.pushState("",document.title,ui.pathname+ui.search):ui.hash=""),pi()};kt("unbindEvents",(function(){c&&t()})),kt("destroy",(function(){ri||t()})),kt("firstUpdate",(function(){u=gi().pid}));var e=ai.indexOf("pid=");e>-1&&"&"===(ai=ai.substring(0,e)).slice(-1)&&(ai=ai.slice(0,-1)),setTimeout((function(){s&&o.bind(window,"hashchange",r.onHashChange)}),40)}},onHashChange:function(){if(hi()===ai)return li=!0,void r.close();ni||(oi=!0,r.goTo(gi().pid),oi=!1)},updateURL:function(){pi(),oi||(si?ti=setTimeout(mi,800):mi())}}}),o.extend(r,Yt)}},"function"==typeof define&&define.amd?define(Lr):"object"==typeof Pr?Pr=Lr():(void 0).PhotoSwipe=Lr();var Fr,Nr={};Fr=function(){return function(t,e){var i,n,o,r,a,s,l,c,u,d,f,h,p,g,m,v,y,b,w=this,C=!1,x=!0,S=!0,k={barsSize:{top:44,bottom:"auto"},closeElClasses:["item","caption","zoom-wrap","ui","top-bar"],timeToIdle:4e3,timeToIdleOutside:1e3,loadingIndicatorDelay:1e3,addCaptionHTMLFn:function(t,e){return t.title?(e.children[0].innerHTML=t.title,!0):(e.children[0].innerHTML="",!1)},closeEl:!0,captionEl:!0,fullscreenEl:!0,zoomEl:!0,shareEl:!0,counterEl:!0,arrowEl:!0,preloaderEl:!0,tapToClose:!1,tapToToggleControls:!0,clickToCloseNonZoomable:!0,shareButtons:[{id:"facebook",label:"Share on Facebook",url:"https://www.facebook.com/sharer/sharer.php?u={{url}}"},{id:"twitter",label:"Tweet",url:"https://twitter.com/intent/tweet?text={{text}}&url={{url}}"},{id:"pinterest",label:"Pin it",url:"http://www.pinterest.com/pin/create/button/?url={{url}}&media={{image_url}}&description={{text}}"},{id:"download",label:"Download image",url:"{{raw_image_url}}",download:!0}],getImageURLForShare:function(){return t.currItem.src||""},getPageURLForShare:function(){return window.location.href},getTextForShare:function(){return t.currItem.title||""},indexIndicatorSep:" / ",fitControlsWidth:1200},_=function(t){if(v)return!0;t=t||window.event,m.timeToIdle&&m.mouseUsed&&!u&&F();for(var i,n,o=(t.target||t.srcElement).getAttribute("class")||"",r=0;r<R.length;r++)(i=R[r]).onTap&&o.indexOf("pswp__"+i.name)>-1&&(i.onTap(),n=!0);if(n){t.stopPropagation&&t.stopPropagation(),v=!0;var a=e.features.isOldAndroid?600:30;setTimeout((function(){v=!1}),a)}},T=function(t,i,n){e[(n?"add":"remove")+"Class"](t,"pswp__"+i)},E=function(){var t=1===m.getNumItemsFn();t!==g&&(T(n,"ui--one-slide",t),g=t)},I=function(){T(l,"share-modal--hidden",S)},A=function(){return(S=!S)?(e.removeClass(l,"pswp__share-modal--fade-in"),setTimeout((function(){S&&I()}),300)):(I(),setTimeout((function(){S||e.addClass(l,"pswp__share-modal--fade-in")}),30)),S||D(),!1},O=function(e){var i=(e=e||window.event).target||e.srcElement;return t.shout("shareLinkClick",e,i),!(!i.href||!i.hasAttribute("download")&&(window.open(i.href,"pswp_share","scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=550,height=420,top=100,left="+(window.screen?Math.round(screen.width/2-275):100)),S||A(),1))},D=function(){for(var t,e,i,n,o="",r=0;r<m.shareButtons.length;r++)t=m.shareButtons[r],e=m.getImageURLForShare(t),i=m.getPageURLForShare(t),n=m.getTextForShare(t),o+='<a href="'+t.url.replace("{{url}}",encodeURIComponent(i)).replace("{{image_url}}",encodeURIComponent(e)).replace("{{raw_image_url}}",e).replace("{{text}}",encodeURIComponent(n))+'" target="_blank" class="pswp__share--'+t.id+'"'+(t.download?"download":"")+">"+t.label+"</a>",m.parseShareButtonOut&&(o=m.parseShareButtonOut(t,o));l.children[0].innerHTML=o,l.children[0].onclick=O},L=function(t){for(var i=0;i<m.closeElClasses.length;i++)if(e.hasClass(t,"pswp__"+m.closeElClasses[i]))return!0},P=0,F=function(){clearTimeout(b),P=0,u&&w.setIdle(!1)},N=function(t){var e=(t=t||window.event).relatedTarget||t.toElement;e&&"HTML"!==e.nodeName||(clearTimeout(b),b=setTimeout((function(){w.setIdle(!0)}),m.timeToIdleOutside))},M=function(t){h!==t&&(T(f,"preloader--active",!t),h=t)},j=function(i){var a=i.vGap;if(!t.likelyTouchDevice||m.mouseUsed||screen.width>m.fitControlsWidth){var s=m.barsSize;if(m.captionEl&&"auto"===s.bottom)if(r||((r=e.createEl("pswp__caption pswp__caption--fake")).appendChild(e.createEl("pswp__caption__center")),n.insertBefore(r,o),e.addClass(n,"pswp__ui--fit")),m.addCaptionHTMLFn(i,r,!0)){var l=r.clientHeight;a.bottom=parseInt(l,10)||44}else a.bottom=s.top;else a.bottom="auto"===s.bottom?0:s.bottom;a.top=s.top}else a.top=a.bottom=0},R=[{name:"caption",option:"captionEl",onInit:function(t){o=t}},{name:"share-modal",option:"shareEl",onInit:function(t){l=t},onTap:function(){A()}},{name:"button--share",option:"shareEl",onInit:function(t){s=t},onTap:function(){A()}},{name:"button--zoom",option:"zoomEl",onTap:t.toggleDesktopZoom},{name:"counter",option:"counterEl",onInit:function(t){a=t}},{name:"button--close",option:"closeEl",onTap:t.close},{name:"button--arrow--left",option:"arrowEl",onTap:t.prev},{name:"button--arrow--right",option:"arrowEl",onTap:t.next},{name:"button--fs",option:"fullscreenEl",onTap:function(){i.isFullscreen()?i.exit():i.enter()}},{name:"preloader",option:"preloaderEl",onInit:function(t){f=t}}];w.init=function(){var a;e.extend(t.options,k,!0),m=t.options,n=e.getChildByClass(t.scrollWrap,"pswp__ui"),(d=t.listen)("onVerticalDrag",(function(t){x&&t<.95?w.hideControls():!x&&t>=.95&&w.showControls()})),d("onPinchClose",(function(t){x&&t<.9?(w.hideControls(),a=!0):a&&!x&&t>.9&&w.showControls()})),d("zoomGestureEnded",(function(){(a=!1)&&!x&&w.showControls()})),d("beforeChange",w.update),d("doubleTap",(function(e){var i=t.currItem.initialZoomLevel;t.getZoomLevel()!==i?t.zoomTo(i,e,333):t.zoomTo(m.getDoubleTapZoom(!1,t.currItem),e,333)})),d("preventDragEvent",(function(t,e,i){var n=t.target||t.srcElement;n&&n.getAttribute("class")&&t.type.indexOf("mouse")>-1&&(n.getAttribute("class").indexOf("__caption")>0||/(SMALL|STRONG|EM)/i.test(n.tagName))&&(i.prevent=!1)})),d("bindEvents",(function(){e.bind(n,"pswpTap click",_),e.bind(t.scrollWrap,"pswpTap",w.onGlobalTap),t.likelyTouchDevice||e.bind(t.scrollWrap,"mouseover",w.onMouseOver)})),d("unbindEvents",(function(){S||A(),y&&clearInterval(y),e.unbind(document,"mouseout",N),e.unbind(document,"mousemove",F),e.unbind(n,"pswpTap click",_),e.unbind(t.scrollWrap,"pswpTap",w.onGlobalTap),e.unbind(t.scrollWrap,"mouseover",w.onMouseOver),i&&(e.unbind(document,i.eventK,w.updateFullscreen),i.isFullscreen()&&(m.hideAnimationDuration=0,i.exit()),i=null)})),d("destroy",(function(){m.captionEl&&(r&&n.removeChild(r),e.removeClass(o,"pswp__caption--empty")),l&&(l.children[0].onclick=null),e.removeClass(n,"pswp__ui--over-close"),e.addClass(n,"pswp__ui--hidden"),w.setIdle(!1)})),m.showAnimationDuration||e.removeClass(n,"pswp__ui--hidden"),d("initialZoomIn",(function(){m.showAnimationDuration&&e.removeClass(n,"pswp__ui--hidden")})),d("initialZoomOut",(function(){e.addClass(n,"pswp__ui--hidden")})),d("parseVerticalMargin",j),function(){var t,i,o,r=function(n){if(n)for(var r=n.length,a=0;a<r;a++){t=n[a],i=t.className;for(var s=0;s<R.length;s++)o=R[s],i.indexOf("pswp__"+o.name)>-1&&(m[o.option]?(e.removeClass(t,"pswp__element--disabled"),o.onInit&&o.onInit(t)):e.addClass(t,"pswp__element--disabled"))}};r(n.children);var a=e.getChildByClass(n,"pswp__top-bar");a&&r(a.children)}(),m.shareEl&&s&&l&&(S=!0),E(),m.timeToIdle&&d("mouseUsed",(function(){e.bind(document,"mousemove",F),e.bind(document,"mouseout",N),y=setInterval((function(){2==++P&&w.setIdle(!0)}),m.timeToIdle/2)})),m.fullscreenEl&&!e.features.isOldAndroid&&(i||(i=w.getFullscreenAPI()),i?(e.bind(document,i.eventK,w.updateFullscreen),w.updateFullscreen(),e.addClass(t.template,"pswp--supports-fs")):e.removeClass(t.template,"pswp--supports-fs")),m.preloaderEl&&(M(!0),d("beforeChange",(function(){clearTimeout(p),p=setTimeout((function(){t.currItem&&t.currItem.loading?(!t.allowProgressiveImg()||t.currItem.img&&!t.currItem.img.naturalWidth)&&M(!1):M(!0)}),m.loadingIndicatorDelay)})),d("imageLoadComplete",(function(e,i){t.currItem===i&&M(!0)})))},w.setIdle=function(t){u=t,T(n,"ui--idle",t)},w.update=function(){x&&t.currItem?(w.updateIndexIndicator(),m.captionEl&&(m.addCaptionHTMLFn(t.currItem,o),T(o,"caption--empty",!t.currItem.title)),C=!0):C=!1,S||A(),E()},w.updateFullscreen=function(n){n&&setTimeout((function(){t.setScrollOffset(0,e.getScrollY())}),50),e[(i.isFullscreen()?"add":"remove")+"Class"](t.template,"pswp--fs")},w.updateIndexIndicator=function(){m.counterEl&&(a.innerHTML=t.getCurrentIndex()+1+m.indexIndicatorSep+m.getNumItemsFn())},w.onGlobalTap=function(i){var n=(i=i||window.event).target||i.srcElement;if(!v)if(i.detail&&"mouse"===i.detail.pointerType){if(L(n))return void t.close();e.hasClass(n,"pswp__img")&&(1===t.getZoomLevel()&&t.getZoomLevel()<=t.currItem.fitRatio?m.clickToCloseNonZoomable&&t.close():t.toggleDesktopZoom(i.detail.releasePoint))}else if(m.tapToToggleControls&&(x?w.hideControls():w.showControls()),m.tapToClose&&(e.hasClass(n,"pswp__img")||L(n)))return void t.close()},w.onMouseOver=function(t){var e=(t=t||window.event).target||t.srcElement;T(n,"ui--over-close",L(e))},w.hideControls=function(){e.addClass(n,"pswp__ui--hidden"),x=!1},w.showControls=function(){x=!0,C||w.update(),e.removeClass(n,"pswp__ui--hidden")},w.supportsFullscreen=function(){var t=document;return!!(t.exitFullscreen||t.mozCancelFullScreen||t.webkitExitFullscreen||t.msExitFullscreen)},w.getFullscreenAPI=function(){var e,i=document.documentElement,n="fullscreenchange";return i.requestFullscreen?e={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:n}:i.mozRequestFullScreen?e={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"moz"+n}:i.webkitRequestFullscreen?e={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkit"+n}:i.msRequestFullscreen&&(e={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),e&&(e.enter=function(){if(c=m.closeOnScroll,m.closeOnScroll=!1,"webkitRequestFullscreen"!==this.enterK)return t.template[this.enterK]();t.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT)},e.exit=function(){return m.closeOnScroll=c,document[this.exitK]()},e.isFullscreen=function(){return document[this.elementK]}),e}}},"function"==typeof define&&define.amd?define(Fr):"object"==typeof Nr?Nr=Fr():(void 0).PhotoSwipeUI_Default=Fr();var Mr={};(function(t){(function(){"use strict";Mr.ImageGallery=void 0;var e=o("undefined"!=typeof window?window.jQuery:void 0!==t?t.jQuery:null),i=o(Pr),n=o(Nr);function o(t){return t&&t.__esModule?t:{default:t}}var r=o(Qe).default.getLogger("article-image-gallery"),a=function(){function t(t){this.logger=r,this.windowElement=(0,e.default)(window),this.container=t,this.slidesContainer=t.find("#slides-container"),this.dialogContainer=t.find(".figures-dialog"),this.captionBlockContainer=t.find(".figure-dialog-caption"),this.captionTextContainer=this.captionBlockContainer.find(".figure-caption-center"),this.captionToggleButton=this.captionBlockContainer.find(".figure-caption-toggle-btn"),this.captionToggleArrow=this.captionBlockContainer.find(".arrow-icon"),this.showAllButton=t.find(".see-all"),this.galleryUID=this.dialogContainer.data("image-gallery-uid"),this.captionLink=this.captionBlockContainer.find(".figure-caption-link"),this.expandableCaptionCssClass="expandable",this.expandedCaptionCssClass="expanded",this.transitionalCssClass="transitional",this.expandTitleText=this.captionTextContainer.data("expand-title"),this.collapseTitleText=this.captionTextContainer.data("collapse-title"),this.expandButtonText=this.captionToggleButton.data("expand-text"),this.collapseButtonText=this.captionToggleButton.data("collapse-text"),this.initGallery(),this.initShowAllButton()}var o=t.prototype;return o.initGallery=function(){var t=this;this.initGallerySlides(),this.updateCaptionTextContainerMaxHeight(),this.slidesContainer.find(".figure-item").on("click",(function(i){i.preventDefault();var n=(0,e.default)(i.target).closest(".figure-item").data("slide-index");t.openGallery(n)})),this.captionTextContainer.add(this.captionToggleButton).on("click",(function(e){e.preventDefault(),t.toggleFullCaption()}));var i=gn.QueryDict.fromQueryString(window.location.hash.replace("#","")).getParam("pid");if(i){var n=parseInt(i.match(/[\w-]+-uid-(\d+)/)[1],10)||0;r.debug("Gallery slide ID found in URL hash: "+n),this.openGallery(n)}this.windowElement.on("resize",(function(){t.updateCaptionTextContainerMaxHeight(),t.gallery&&t.gallery.updateSize()}))},o.initShowAllButton=function(){var t=this;this.showAllButton.length&&this.showAllButton.on("click",(function(e){e.preventDefault(),t.showAllButton.hide(),t.slidesContainer.find(".figure-item.tail").slideDown(200).css("display","inline-block").removeClass("tail")}))},o.initGallerySlides=function(){this.slides=this.slidesContainer.children().filter((function(t,e){return"FIGURE"===e.tagName})).map((function(t,i){var n=(0,e.default)(i),o=n.find(".figure-link"),r="";n.find(".figure-caption-full").length&&(r=n.find(".figure-caption-full").html().trim());var a=n.data("label-slug");return{src:o.attr("href"),w:o.data("image-width"),h:o.data("image-height"),fullCaption:r,pid:a+"-uid-"+t,figurePmcId:o.data("pmc-id"),figureId:o.data("figure-id")}})),r.debug("Image gallery slides initialized.")},o.openGallery=function(t){var e=this;this.gallery=new i.default(this.dialogContainer[0],n.default,this.slides,{index:t,galleryUID:this.galleryUID,galleryPIDs:!0,closeOnScroll:!1,closeOnVerticalDrag:!1,tapToToggleControls:!1,closeElClasses:["item","zoom-wrap","ui","top-bar"],addCaptionHTMLFn:this.createFigureCaption.bind(this)}),this.gallery.listen("beforeChange",(function(){r.debug("Gallery slide change (beforeChange)."),e.captionTextContainer.stop(!0,!0),e.captionToggleArrow.removeClass("flipped")})),this.gallery.listen("unbindEvents",(function(){r.debug("Gallery closing (unbindEvents). Cleaning-up caption events and animation."),e.captionBlockContainer.hide().removeData("currentItem"),e.captionTextContainer.stop(!0,!0),delete e.gallery})),this.gallery.init(),r.debug("Gallery opened at index "+t)},o.createFigureCaption=function(t,i,n){if(r.debug("Creating caption for slide "+t.src+", fake: "+n),!this.gallery.currItem.fullCaption)return this.captionBlockContainer.hide(),this.captionTextContainer.empty(),!1;if(this.initCaptionState(t,n),n){(0,e.default)(i).height(this.captionBlockContainer.outerHeight());var o=this.captionBlockContainer.data("currentItem");o&&this.initCaptionState(o)}else this.captionBlockContainer.data("currentItem",t);return!0},o.initCaptionState=function(t,i){if(!t.fullCaption)return this.captionBlockContainer.hide(),void this.captionTextContainer.empty();this.captionBlockContainer.show(),this.captionTextContainer.html(t.fullCaption),this.captionBlockContainer.removeClass(this.expandableCaptionCssClass).removeClass(this.expandedCaptionCssClass),this.captionTextContainer.css("height","").removeAttr("title"),this.captionToggleButton.removeAttr("title").text("");var n=this.getCaptionTextContainerHeight(),o=n.full>n.short,r=!1;if(!i&&t.initialZoomLevel&&t.container){var a=this.windowElement.height(),s=parseInt(this.captionBlockContainer.css("padding-bottom"),10)||0,l=Math.ceil(t.h*t.initialZoomLevel);a-((0,e.default)(t.container).position().top+l+n.full+s)>=.1*a&&(r=!0)}o&&!r?(this.captionBlockContainer.addClass(this.expandableCaptionCssClass),this.captionTextContainer.attr("title",this.expandTitleText),this.captionToggleButton.attr("title",this.expandTitleText).text(this.expandButtonText)):this.captionTextContainer.css("height","auto"),this.updateCaptionTextContainerMaxHeight();var c=parseInt(this.dialogContainer.css("z-index"),10)+1;this.captionBlockContainer.css("z-index",c),this.captionTextContainer.scrollTop(0),(0,_i.renderMathML)(this.captionTextContainer.html(),this.mathJaxUrl),this.container.trigger("figure-opened",[this.captionTextContainer]),this.captionLink.attr("href","https://www.ncbi.nlm.nih.gov/pmc/articles/"+t.figurePmcId+"/figure/"+t.figureId+"/")},o.getCaptionTextContainerHeight=function(){var t=this.captionTextContainer[0].style.height;this.captionTextContainer.css("height","auto");var e=this.captionTextContainer.height();this.captionTextContainer.css("height","");var i=this.captionTextContainer.height();return this.captionTextContainer.css("height",t),{short:i,full:e}},o.updateCaptionTextContainerMaxHeight=function(){this.captionTextContainer.css("max-height",this.windowElement.height()-parseInt(this.captionBlockContainer.css("padding-top"),10)-parseInt(this.captionBlockContainer.css("padding-bottom"),10))},o.toggleFullCaption=function(){var t=this;if(this.gallery&&this.captionBlockContainer.hasClass(this.expandableCaptionCssClass)){this.captionToggleArrow.hasClass("flipped")?this.captionToggleArrow.removeClass("flipped"):this.captionToggleArrow.addClass("flipped"),r.debug("Caption toggle triggered, slide "+this.gallery.getCurrentIndex());var e=this.getCaptionTextContainerHeight();this.captionBlockContainer.hasClass(this.expandedCaptionCssClass)?(this.captionTextContainer.attr("title",this.expandTitleText).addClass(this.transitionalCssClass).stop(!0,!0).animate({height:e.short},300).promise().done((function(){t.captionBlockContainer.removeClass(t.expandedCaptionCssClass),t.captionTextContainer.removeClass(t.transitionalCssClass).animate({scrollTop:0},300)})),this.captionToggleButton.attr("title",this.expandTitleText).text(this.expandButtonText)):(this.captionTextContainer.attr("title",this.collapseTitleText).addClass(this.transitionalCssClass).stop(!0,!0).animate({height:e.full},300).promise().done((function(){t.captionBlockContainer.addClass(t.expandedCaptionCssClass),t.captionTextContainer.removeClass(t.transitionalCssClass)})),this.captionToggleButton.attr("title",this.collapseTitleText).text(this.collapseButtonText))}},t}();Mr.ImageGallery=a}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var jr={};(function(t){(function(){"use strict";jr.CustomSearchTermsHighlight=void 0;var e=i("undefined"!=typeof window?window.jQuery:void 0!==t?t.jQuery:null);function i(t){return t&&t.__esModule?t:{default:t}}function n(t,e){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=function(t,e){if(t){if("string"==typeof t)return o(t,void 0);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?o(t,void 0):void 0}}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(i=t[Symbol.iterator]()).next.bind(i)}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var r=i(Qe).default.getLogger("adj-nav-storage"),a=function(){function t(e){var i=this,n=e.highlightColor,o=e.tokensToHighlightCSV,r=e.headElem,a=e.markJSUrl,s=e.excludeFromHighlight,l=e.blackText,c=void 0!==l&&l;if(this._configured=!0,n&&o){this.markJSUrl=a,this._lazyLoadMarkJSScript();var u=this._addHighlightCss(n,r,c);this.wordHighlightOptions={className:u,exclude:s,separateWordSearch:!0,ignorePunctuation:t.punctuation,diacritics:!0,ignoreJoiners:!0,acrossElements:!0,filter:function(t,e){return i.wordsFilter(e)},accuracy:{value:"exactly",limiters:t.punctuation}},this.noSeparateWordSearchOptions={className:u,exclude:s,separateWordSearch:!1,ignorePunctuation:t.punctuation,diacritics:!0,ignoreJoiners:!0,acrossElements:!0,accuracy:{value:"exactly",limiters:t.punctuation}},this.regexHighlightOptions={className:u,exclude:s,acrossElements:!0,diacritics:!0,ignoreJoiners:!0},this._prepareHighlightTokens(o)}else this._configured=!1}t.setMarkJSDeferred=function(t){this._markJSDeferred=t},t.getMarkJSDeferred=function(){return this._markJSDeferred};var i=t.prototype;return i._prepareHighlightTokens=function(t){var e=t.split("|").filter(Boolean);this.wordTokens=[],this.exactTokens=[],this.regexTokens=[];for(var i,o=n(e);!(i=o()).done;){var r=i.value;-1===r.indexOf("__pmid_range:")?-1===r.indexOf("__exact_match:")?-1===r.indexOf("*")?this.wordTokens.push(r.replace(",","")):this.regexTokens.push(new RegExp(r.replace(/\*/g,"[^\\s.,!?;:()]*"),"gmi")):this.exactTokens.push(r.replace("__exact_match:","").replace(",","")):this._preparePMIDtokens(r)}},i._preparePMIDtokens=function(t){try{for(var e=t.toLowerCase().replace("__pmid_range:","").replace(/PMC/g,"").replace(/NBK/g,"").split(":"),i=e[0],n=e[1],o=parseInt(i,10);o<=parseInt(n,10);o++)this.exactTokens.push(""+o)}catch(ja){r.error("Error while trying to parse PMIDs range for custom highlight")}},i._addHighlightCss=function(t,e,i){var n=i?"#212121":"unset",o=i?"terms-highlight-black-text":"terms-highlight";return 0===t.indexOf("#")?e.append("<style>."+o+" {background-color:"+t+";color: "+n+";}</style>"):"bold"===t&&e.append("<style>."+o+" {font-weight:bold;background:unset;color:unset;}</style>"),o},i._lazyLoadMarkJSScript=function(){t.getMarkJSDeferred()||(t.setMarkJSDeferred(e.default.Deferred()),e.default.getScript(this.markJSUrl,(function(){t.getMarkJSDeferred().resolve()})))},i.performHighlightIn=function(e){var i=this;this._configured&&(this._lazyLoadMarkJSScript(),t.getMarkJSDeferred().promise().done((function(){i.wordTokens&&i.wordTokens.length&&e.mark(i.wordTokens,i.wordHighlightOptions),i.exactTokens&&i.exactTokens.length&&e.mark(i.exactTokens,i.noSeparateWordSearchOptions);for(var t,o=n(i.regexTokens);!(t=o()).done;){var r=t.value;e.markRegExp(r,i.regexHighlightOptions)}})))},i.wordsFilter=function(e){return!(e.length<3)&&-1===t.stopWords.indexOf(e)},t}();jr.CustomSearchTermsHighlight=a,a.punctuation=":;.,--\u2013\u2014\u2012_(){}[]!'\"+=".split(""),a.stopWords=["a","about","again","all","almost","also","although","always","among","an","and","another","any","are","as","at","be","because","been","before","being","between","both","but","by","can","could","did","do","does","done","due","during","each","either","enough","especially","etc","for","found","from","further","had","has","have","having","here","how","however","i","if","in","into","is","it","its","itself","just","kg","km","made","mainly","make","mg","might","ml","mm","most","mostly","must","nearly","neither","no","nor","obtained","of","often","on","our","overall","perhaps","quite","rather","really","regarding","seem","seen","several","should","show","showed","shown","shows","significantly","since","so","some","such","than","that","the","their","theirs","them","then","there","therefore","these","they","this","those","through","thus","to","upon","various","very","was","we","were","what","when","which","while","with","within","without","would"]}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Rr={FiguresCustomHighlight:void 0},Br=function(t){var e,i;function n(e){var i,n=e.targetElem,o=e.highlightColor,r=e.tokensToHighlightCSV,a=e.headElem,s=e.markJSUrl;return(i=t.call(this,{highlightColor:o,tokensToHighlightCSV:r,headElem:a,markJSUrl:s,excludeFromHighlight:[".figure-dialog",".figure-label",".figure-caption-link",".pswp__ui",".pswp__preloader",".pswp__button"],blackText:!0})||this).performHighlightIn(n),i}return i=t,(e=n).prototype=Object.create(i.prototype),e.prototype.constructor=e,e.__proto__=i,n}(jr.CustomSearchTermsHighlight);Rr.FiguresCustomHighlight=Br;var Hr={};(function(t){(function(){"use strict";Hr.ExtendedArticleDetails=void 0;var e=i("undefined"!=typeof window?window.jQuery:void 0!==t?t.jQuery:null);function i(t){return t&&t.__esModule?t:{default:t}}function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var o=i(Qe).default.getLogger("authors-details"),r=function(){function t(t){var e=t.container,i=t.trigger,n=t.fetchedAuthorsPlaceholder,o=t.affiliationLinks,r=t.equalContribLinks,a=t.windowScrollElement,s=t.navigationOffset,l=void 0===s?0:s,c=t.animationDuration,u=void 0===c?300:c,d=t.highlightDuration,f=void 0===d?3e3:d,h=t.updateUrl,p=void 0===h||h,g=t.isDesktop,m=void 0===g||g;this.container=e,this.trigger=i,this.fetchedAuthorsPlaceholder=n,this.windowScrollElement=a,this.navigationOffset=l,this.animationDuration=u,this.highlightDuration=f,this.affiliationIdRegex=/^#.*affiliation-\d+$/,this.updateUrl=p,this.isDesktop=m,this.affiliationLinks=o,this.equalContribLinks=r,this.expandLoadingIndicator=new ki.DotsLoadingIndicator({container:this.trigger.eq(0),className:"loading-indicator"}),this.handleAffiliationInUrl(),this.initToggleAuthors(),this.initAffiliationLinks(),this.initEqualContribLinks()}var i,r,a=t.prototype;return a.initToggleAuthors=function(){var t=this;this.trigger.on("click",(function(e){e.preventDefault(),t.toggleAuthorsDetails()}))},a.initAffiliationLinks=function(){var t=this;this.affiliationLinks.on("click",(function(e){e.preventDefault(),t.isAuthorAffiliationsAndDetailsExpanded?t.scrollToAffiliation(e.target.hash):t.toggleAuthorsDetails((function(){return t.scrollToAffiliation(e.target.hash)}),t.animationDuration)}))},a.getAffiliationElement=function(t){var e=t.replace("#","");return this.container.find("[data-affiliation-id='"+e+"']")},a.handleAffiliationInUrl=function(){var t=this;this.trigger.is(":visible")&&window.location.hash.match(this.affiliationIdRegex)&&(this.isAuthorAffiliationsAndDetailsExpanded?this.scrollToAffiliation(window.location.hash):this.toggleAuthorsDetails((function(){return t.scrollToAffiliation(window.location.hash)}),this.animationDuration))},a.toggleAuthorsDetails=function(t,i){var n=this;if(void 0===t&&(t=e.default.noop),void 0===i&&(i=0),!this.trigger.data("fetch-started")){var o=e.default.Deferred();if(this.fetchedAuthorsPlaceholder&&this.fetchedAuthorsPlaceholder.length){var r=this.trigger.data("fetch-url")+"?isDesktop="+this.isDesktop;this.trigger.data("id-prefix")&&(r=r+"&idPrefix="+this.trigger.data("id-prefix")),this.trigger.data("fetch-started","true"),this.trigger.find(".title").hide(),this.expandLoadingIndicator.show(),e.default.ajax(r).done((function(t){var i=(0,e.default)(t);n.fetchedAuthorsPlaceholder.replaceWith(i),n.isDesktop?n.container=i:(n.affiliationLinks=n.container.find(".affiliation-link"),n.initAffiliationLinks()),n.fetchedAuthorsPlaceholder=null,o.resolve(),n.container.trigger("new-html-loaded",[i])})).fail((function(){Ze.Notification.error("Failed to fetch full authors."),o.reject()})).always((function(){n.trigger.data("fetch-started",""),n.expandLoadingIndicator.hide(),n.trigger.find(".title").show()}))}else o.resolve();o.done((function(){var e="true"===n.container.attr("aria-hidden");n.container.toggle(i,t).attr("aria-hidden",(!e).toString());var o=n.trigger.find(".title").text(),r=n.trigger.data("alt-text"),a=n.isAuthorAffiliationsAndDetailsExpanded;n.trigger.data("alt-text",o).attr("aria-expanded",(!a).toString()).toggleClass("active",!a),n.trigger.find(".title").text(r),(0,wo.reportEvent)(a?"collapse":"expand","","author_link")}))}},a.scrollToAffiliation=function(t){var e=this.getAffiliationElement(t),i=e.offset().top;this.navigationOffset&&(i-="function"==typeof this.navigationOffset?this.navigationOffset():this.navigationOffset),this.windowScrollElement.stop(!0,!1).animate({scrollTop:i},this.animationDuration),e.addClass("target"),setTimeout((function(){return e.removeClass("target")}),this.highlightDuration),o.debug("Scrolled to affiliation. Affiliation offset (top): "+i+"px."),this.updateUrl&&(window.location.hash="#"+e.data("affiliation-id"))},a.initEqualContribLinks=function(){var t=this;this.equalContribLinks.on("click",(function(e){e.preventDefault(),t.isAuthorAffiliationsAndDetailsExpanded?t.scrollToEqualContrib(e.target.hash):t.toggleAuthorsDetails((function(){return t.scrollToEqualContrib(e.target.hash)}),t.animationDuration)}))},a.scrollToEqualContrib=function(t){var e=this.container.find(""+t).offset().top;this.navigationOffset&&(e-="function"==typeof this.navigationOffset?this.navigationOffset():this.navigationOffset),this.windowScrollElement.stop(!0,!1).animate({scrollTop:e},this.animationDuration),o.debug("Scrolled to equal contrib. Offset (top): "+e+"px.")},i=t,(r=[{key:"isAuthorAffiliationsAndDetailsExpanded",get:function(){return"true"===this.trigger.attr("aria-expanded")}}])&&n(i.prototype,r),t}();Hr.ExtendedArticleDetails=r}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Ur={};(function(t){(function(){"use strict";Ur.SimilarArticlesList=void 0;var e,i=(e="undefined"!=typeof window?window.jQuery:void 0!==t?t.jQuery:null)&&e.__esModule?e:{default:e},n=function(t){var e,n;function o(e){var i;return void 0===e.pageParamName&&(e.pageParamName="offset"),void 0===e.nextPageHeaderName&&(e.nextPageHeaderName="X-Next-Page-Offset"),(i=t.call(this,e)||this).listContainer.on("next-page-loaded",(function(){var t=Array.from(i.listContainer.find(".docsum-pmid")).map((function(t){return t.innerHTML}));i.query.setParam("exclude_ids",t.join(","))})),delete i.nextPage,i.exhausted=!1,i.ajaxMethod="POST",i.query.setParam(e.csrftoken.name,e.csrftoken.value),i}n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var r=o.prototype;return r.onLoadSuccess=function(t,e,n){var o=(0,i.default)(t).appendTo(this.listContainer);t&&t.length&&t.length>1?this.listContainer.trigger("next-page-loaded",[t,n]):(this.exhausted=!0,this.listContainer.trigger("last-page-loaded",[t,n])),this.listContainer.trigger("new-html-loaded",[o])},r.onAfterLoad=function(){this.exhausted?this.setFinishedState():this.setActiveState(),this.listContainer.trigger("after-page-loading")},o}(vn.PaginatedList);Ur.SimilarArticlesList=n}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var qr={};(function(t){(function(){"use strict";qr.ReferencesList=void 0;var e,i=(e="undefined"!=typeof window?window.jQuery:void 0!==t?t.jQuery:null)&&e.__esModule?e:{default:e},n=function(t){var e,n;function o(e){var i;return(i=t.call(this,e)||this).collapsedListsContainer=i.listContainer.closest(".references-lists-container"),i}n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var r=o.prototype;return r.loadPage=function(e){this.collapsedListsContainer.data("loaded")?(this.showFullList(),this.setFinishedState()):t.prototype.loadPage.call(this,e)},r.onLoadSuccess=function(t,e,n){var o=(0,i.default)(t).insertAfter(this.collapsedListsContainer);this.collapsedListsContainer.data("loaded",!0),this.listContainer.trigger("new-html-loaded",[o]),this.showFullList()},r.showFullList=function(){var t=this.collapsedListsContainer.next(),e=this.listContainer.attr("id"),i=t.attr("id"),n=this.collapsedListsContainer.attr("id"),o=e.replace(n,i),r=t.find("#"+o);this.listContainer.empty().append(r.children())},o}(vn.PaginatedList);qr.ReferencesList=n}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});!function(t,e){"use strict";if("IntersectionObserver"in t&&"IntersectionObserverEntry"in t&&"intersectionRatio"in t.IntersectionObserverEntry.prototype)"isIntersecting"in t.IntersectionObserverEntry.prototype||Object.defineProperty(t.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var i=[];o.prototype.THROTTLE_TIMEOUT=100,o.prototype.POLL_INTERVAL=null,o.prototype.USE_MUTATION_OBSERVER=!0,o.prototype.observe=function(t){if(!this._observationTargets.some((function(e){return e.element==t}))){if(!t||1!=t.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:t,entry:null}),this._monitorIntersections(),this._checkForIntersections()}},o.prototype.unobserve=function(t){this._observationTargets=this._observationTargets.filter((function(e){return e.element!=t})),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},o.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},o.prototype.takeRecords=function(){var t=this._queuedEntries.slice();return this._queuedEntries=[],t},o.prototype._initThresholds=function(t){var e=t||[0];return Array.isArray(e)||(e=[e]),e.sort().filter((function(t,e,i){if("number"!=typeof t||isNaN(t)||t<0||t>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return t!==i[e-1]}))},o.prototype._parseRootMargin=function(t){var e=(t||"0px").split(/\s+/).map((function(t){var e=/^(-?\d*\.?\d+)(px|%)$/.exec(t);if(!e)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(e[1]),unit:e[2]}}));return e[1]=e[1]||e[0],e[2]=e[2]||e[0],e[3]=e[3]||e[1],e},o.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(r(t,"resize",this._checkForIntersections,!0),r(e,"scroll",this._checkForIntersections,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in t&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(e,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},o.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,a(t,"resize",this._checkForIntersections,!0),a(e,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},o.prototype._checkForIntersections=function(){var e=this._rootIsInDom(),i=e?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach((function(o){var r=o.element,a=s(r),l=this._rootContainsTarget(r),c=o.entry,u=e&&l&&this._computeTargetAndRootIntersection(r,i),d=o.entry=new n({time:t.performance&&performance.now&&performance.now(),target:r,boundingClientRect:a,rootBounds:i,intersectionRect:u});c?e&&l?this._hasCrossedThreshold(c,d)&&this._queuedEntries.push(d):c&&c.isIntersecting&&this._queuedEntries.push(d):this._queuedEntries.push(d)}),this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},o.prototype._computeTargetAndRootIntersection=function(i,n){if("none"!=t.getComputedStyle(i).display){for(var o,r,a,l,u,d,f,h,p=s(i),g=c(i),m=!1;!m;){var v=null,y=1==g.nodeType?t.getComputedStyle(g):{};if("none"==y.display)return;if(g==this.root||g==e?(m=!0,v=n):g!=e.body&&g!=e.documentElement&&"visible"!=y.overflow&&(v=s(g)),v&&(o=v,r=p,void 0,void 0,void 0,void 0,void 0,void 0,a=Math.max(o.top,r.top),l=Math.min(o.bottom,r.bottom),u=Math.max(o.left,r.left),h=l-a,!(p=(f=(d=Math.min(o.right,r.right))-u)>=0&&h>=0&&{top:a,bottom:l,left:u,right:d,width:f,height:h})))break;g=c(g)}return p}},o.prototype._getRootRect=function(){var t;if(this.root)t=s(this.root);else{var i=e.documentElement,n=e.body;t={top:0,left:0,right:i.clientWidth||n.clientWidth,width:i.clientWidth||n.clientWidth,bottom:i.clientHeight||n.clientHeight,height:i.clientHeight||n.clientHeight}}return this._expandRectByRootMargin(t)},o.prototype._expandRectByRootMargin=function(t){var e=this._rootMarginValues.map((function(e,i){return"px"==e.unit?e.value:e.value*(i%2?t.width:t.height)/100})),i={top:t.top-e[0],right:t.right+e[1],bottom:t.bottom+e[2],left:t.left-e[3]};return i.width=i.right-i.left,i.height=i.bottom-i.top,i},o.prototype._hasCrossedThreshold=function(t,e){var i=t&&t.isIntersecting?t.intersectionRatio||0:-1,n=e.isIntersecting?e.intersectionRatio||0:-1;if(i!==n)for(var o=0;o<this.thresholds.length;o++){var r=this.thresholds[o];if(r==i||r==n||r<i!=r<n)return!0}},o.prototype._rootIsInDom=function(){return!this.root||l(e,this.root)},o.prototype._rootContainsTarget=function(t){return l(this.root||e,t)},o.prototype._registerInstance=function(){i.indexOf(this)<0&&i.push(this)},o.prototype._unregisterInstance=function(){var t=i.indexOf(this);-1!=t&&i.splice(t,1)},t.IntersectionObserver=o,t.IntersectionObserverEntry=n}function n(t){this.time=t.time,this.target=t.target,this.rootBounds=t.rootBounds,this.boundingClientRect=t.boundingClientRect,this.intersectionRect=t.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0},this.isIntersecting=!!t.intersectionRect;var e=this.boundingClientRect,i=e.width*e.height,n=this.intersectionRect,o=n.width*n.height;this.intersectionRatio=i?Number((o/i).toFixed(4)):this.isIntersecting?1:0}function o(t,e){var i,n,o,r=e||{};if("function"!=typeof t)throw new Error("callback must be a function");if(r.root&&1!=r.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=(i=this._checkForIntersections.bind(this),n=this.THROTTLE_TIMEOUT,o=null,function(){o||(o=setTimeout((function(){i(),o=null}),n))}),this._callback=t,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(r.rootMargin),this.thresholds=this._initThresholds(r.threshold),this.root=r.root||null,this.rootMargin=this._rootMarginValues.map((function(t){return t.value+t.unit})).join(" ")}function r(t,e,i,n){"function"==typeof t.addEventListener?t.addEventListener(e,i,n||!1):"function"==typeof t.attachEvent&&t.attachEvent("on"+e,i)}function a(t,e,i,n){"function"==typeof t.removeEventListener?t.removeEventListener(e,i,n||!1):"function"==typeof t.detatchEvent&&t.detatchEvent("on"+e,i)}function s(t){var e;try{e=t.getBoundingClientRect()}catch(i){}return e?(e.width&&e.height||(e={top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.right-e.left,height:e.bottom-e.top}),e):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function l(t,e){for(var i=e;i;){if(i==t)return!0;i=c(i)}return!1}function c(t){var e=t.parentNode;return e&&11==e.nodeType&&e.host?e.host:e}}(window,document);var Qr={};(function(t){(function(){"use strict";Qr.AdjacentNavigation=void 0;var e=o(Qe),i=o(Ho),n=o("undefined"!=typeof window?window.jQuery:void 0!==t?t.jQuery:null);function o(t){return t&&t.__esModule?t:{default:t}}var r=e.default.getLogger("adjacent-navigation"),a=function(){function t(t){var e=t.container,i=t.pageFooter,o=t.pageHeader;this.logger=r,this.windowElement=(0,n.default)(window),this.container=e,this.pageFooter=i,this.pageHeader=o,this.navigationBlock=e.find(".navigation-block"),this.prevSideLink=e.find(".prev.side-link"),this.nextSideLink=e.find(".next.side-link"),this.sideLinks=(0,n.default)({}).add(this.prevSideLink).add(this.nextSideLink),this.showSideLinks(),this.initSideLinksVisibilityOnScroll(),this.initNextSideLinkWidth()}var e=t.prototype;return e.initSideLinksVisibilityOnScroll=function(){var t=this;this.navigationBlockIntersectionObserver=new IntersectionObserver((function(){r.debug("Navigation block visibility changed"),t.updateSideLinksVisibility()})),this.navigationBlockIntersectionObserver.observe(this.navigationBlock.find(".inner-wrap")[0]),this.pageFooter.length&&(this.footerIntersectionObserver=new IntersectionObserver((function(e){r.debug("Page footer visibility changed"),t.sideLinks.toggleClass("visible-footer",e[0].isIntersecting)})),this.footerIntersectionObserver.observe(this.pageFooter[0]))},e.updateSideLinksVisibility=function(){var t=this.navigationBlock[0].getBoundingClientRect().top<window.innerHeight,e=this.pageHeader[0].getBoundingClientRect().top,i=e<window.innerHeight&&e>0;(0,xo.isMediumLayout)()&&t&&!i?this.hideSideLinks():this.showSideLinks()},e.showSideLinks=function(){this.sideLinks.addClass("visible")},e.hideSideLinks=function(){this.sideLinks.removeClass("visible")},e.initNextSideLinkWidth=function(){var t=this;this.windowElement.on("resize",(0,i.default)((function(){return t.updateNextSideLinkWidth()}),100)),this.updateNextSideLinkWidth()},e.updateNextSideLinkWidth=function(){!(0,xo.isMediumLayout)()&&(0,xo.isLargeDesktop)()&&this.nextSideLink.css("min-width","")},t}();Qr.AdjacentNavigation=a}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Vr={GrantsList:void 0},Wr=function(){function t(t){var e=t.showAllButton,i=t.listToShow;this.showAllButton=e,this.listToShow=i,this.initShowAllButton()}return t.prototype.initShowAllButton=function(){var t=this;this.showAllButton.on("click",(function(){t.listToShow.show(),t.showAllButton.parent().hide()}))},t}();Vr.GrantsList=Wr;var zr={};(function(t){(function(){"use strict";zr.AbstractList=void 0;var e,i=(e="undefined"!=typeof window?window.jQuery:void 0!==t?t.jQuery:null)&&e.__esModule?e:{default:e},n=function(){function t(t){var e=t.abstractLanguages,i=t.abstractItems,n=t.container;this.abstractLanguages=e,this.abstractItems=i,this.container=n,this.initShowHideAbstracts()}return t.prototype.initShowHideAbstracts=function(){this.abstractLanguages.on("click",(function(t){t.preventDefault();var e=(0,i.default)(t.target).closest(".abstract"),n=(0,i.default)(t.target).attr("href");e.find(n).addClass("selected").siblings().removeClass("selected"),(0,i.default)(t.target).addClass("selected"),(0,i.default)(t.target).siblings().removeClass("selected")}))},t}();zr.AbstractList=n}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Gr={AbstractPageCustomHighlight:void 0},Zr=function(t){var e,i;function n(e){var i,n=e.targetElem,o=e.highlightColor,r=e.tokensToHighlightCSV,a=e.headElem,s=e.markJSUrl;return(i=t.call(this,{highlightColor:o,tokensToHighlightCSV:r,headElem:a,markJSUrl:s,excludeFromHighlight:[".applied-filters-message",".applied-filters-message *",".short-article-details",".short-article-details .more-details",".affiliation-link",".affiliations .title",".affiliations .key",".free-label",".in-clipboard-label",".abstract .title",".abstract .sub-title",".empty-abstract",".no-abstract",".dropdown-container *",".identifiers .id-label",".identifier.doi a",".citation-doi",".conflict-of-interest .title",".full-text-links *","h2.title","h3.title",".overlay *",".linkout *",".actions-bar *",".page-sidebar *",".page-sidebar",".arrow-link.adj-nav-link",".reference-link",".related-links *",".figures-dialog *",".figure-dialog-caption *",".navigation-block .current-info *"]})||this).performHighlightIn(n),i}return i=t,(e=n).prototype=Object.create(i.prototype),e.prototype.constructor=e,e.__proto__=i,n}(jr.CustomSearchTermsHighlight);Gr.AbstractPageCustomHighlight=Zr;var Jr={};(function(t){(function(){"use strict";Jr.ActionPanel=void 0;var e,i=(e="undefined"!=typeof window?window.jQuery:void 0!==t?t.jQuery:null)&&e.__esModule?e:{default:e},n=function(){function t(t){var e=t.container,i=t.expandButton,n=t.initialFocusEl;this.container=e,this.expandButton=i,this.closeButton=e.find(".action-panel-cancel"),this.initialFocusEl=n,this.initExpandButton(i),this.initCloseButton()}var e=t.prototype;return e.initExpandButton=function(t){var e=this;t.click((function(i){i.preventDefault();var n=t.closest(".selected-results-container").hasClass("fixed"),o=t.is(".expanded");n?(e.container.trigger("fixed-btn-click"),o?e.closePanel():(e.container.addClass("fixed"),e.openPanel())):e.togglePanel(),o&&e.container.trigger("close-btn-click")}))},e.initCloseButton=function(){var t=this;this.closeButton.unbind().click((function(e){e.preventDefault(),t.isFixed()?(t.container.trigger("close-btn-click"),t.closePanel()):t.togglePanel()}))},e.isExpanded=function(){return this.container.hasClass("expanded")},e.isFixed=function(){return this.container.hasClass("fixed")},e.scrollToTop=function(t){var e=t.offset().top+t.height();(0,i.default)("html, body").animate({scrollTop:e+"px"})},e.togglePanel=function(){this.isExpanded()?(this.closePanel(),this.isFixed()||this.focusOnExpandButton()):this.openPanel()},e.closePanel=function(){this.container.stop().css("display","none"),this.container.removeClass("expanded"),this.container.removeClass("fixed"),this.container.attr("aria-hidden",!0),this.expandButton.attr("aria-expanded",!1),this.expandButton.removeClass("expanded"),this.closeButton.attr("aria-expanded",!1),this.container.trigger("toggle-panel",[!1])},e.openPanel=function(){this.isFixed()?this.container.stop().css("display","block"):this.container.stop().css("display","block").hide().slideDown(),this.container.addClass("expanded"),this.container.attr("aria-hidden",!1),this.expandButton.attr("aria-expanded",!0),this.expandButton.addClass("expanded"),this.closeButton.attr("aria-expanded",!0),this.initialFocusEl.focus(),this.container.trigger("toggle-panel",[!0])},e.focusOnExpandButton=function(){this.expandButton.focus()},t}();Jr.ActionPanel=n}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Kr={SavedSearchPanel:void 0},Yr=function(t){var e,i;function n(){return t.apply(this,arguments)||this}return i=t,(e=n).prototype=Object.create(i.prototype),e.prototype.constructor=e,e.__proto__=i,n.prototype.openSavedSearchPanelAfterSuccessfulLogin=function(){var t=this.container.data("saved-search-open-panel-enabled"),e=this.container.data("saved-search-open-panel-url-hash");!0===t&&e===window.location.hash&&(this.togglePanel(),this.container.find(".saved-search-action-panel-form :input:visible:enabled:first").focus(),this.container.trigger("after-successful-login"),window.location.hash="","function"==typeof window.history.replaceState&&history.replaceState({},"",window.location.href.split("#")[0]))},n}(Jr.ActionPanel);Kr.SavedSearchPanel=Yr;var $r={RSSPanel:void 0},Xr=function(t){var e,i;function n(e){var i,n=e.container,o=e.expandButton,r=e.initialFocusEl;return(i=t.call(this,{container:n,expandButton:o,initialFocusEl:r})||this).container=n,i.rssLinkCopyButton=new er.CopyButton({trigger:i.container.find(".rss-link-copy-button"),target:i.container.find(".rss-link"),message:"RSS Link successfully copied."}),i}return i=t,(e=n).prototype=Object.create(i.prototype),e.prototype.constructor=e,e.__proto__=i,n}(Jr.ActionPanel);$r.RSSPanel=Xr;var ta={CollectionsPanel:void 0},ea=function(t){var e,i;function n(){return t.apply(this,arguments)||this}return i=t,(e=n).prototype=Object.create(i.prototype),e.prototype.constructor=e,e.__proto__=i,n.prototype.openCollectionsPanelAfterSuccessfulLogin=function(){var t=this.container.data("collections-open-panel-enabled"),e=this.container.data("collections-open-panel-url-hash");!0===t&&e===window.location.hash&&(this.togglePanel(),this.container.find(".collections-action-panel-form :input:visible:enabled:first").focus(),window.location.hash="","function"==typeof window.history.replaceState&&history.replaceState({},"",window.location.href.split("#")[0]))},n}(Jr.ActionPanel);ta.CollectionsPanel=ea;var ia={BibliographyPanel:void 0},na=function(t){var e,i;function n(){return t.apply(this,arguments)||this}return i=t,(e=n).prototype=Object.create(i.prototype),e.prototype.constructor=e,e.__proto__=i,n.prototype.openBibliographyPanelAfterSuccessfulLogin=function(){var t=this.container.data("bibliography-open-panel-enabled"),e=this.container.data("bibliography-open-panel-url-hash");!0===t&&e===window.location.hash&&(this.togglePanel(),this.container.find(".bibliography-action-panel-form :input:visible:enabled:first").focus(),window.location.hash="","function"==typeof window.history.replaceState&&history.replaceState({},"",window.location.href.split("#")[0]))},n}(Jr.ActionPanel);ia.BibliographyPanel=na;var oa={};oa.ActionForm=oa.FORM_SUBMIT_EVENT_NAME=void 0;var ra,aa=((ra=Qe)&&ra.__esModule?ra:{default:ra}).default.getLogger("action-form");oa.FORM_SUBMIT_EVENT_NAME="form-submitted";var sa=function(){function t(t){var e=this,i=t.container;this.container=i,this.form=this.container.find(".action-form"),this.submitButton=this.form.find(".action-panel-submit"),this.inProgressSubmitLabel=this.submitButton.data("loading-label"),this.originalSubmitLabel=this.submitButton.text(),this.csrftoken=this.form.find('[name="csrfmiddlewaretoken"]'),this.notificationTimeout=350,this.successLogLine="",this.failLogLine="",this.form.unbind().submit((function(t){return e.onFormSubmit(t)}))}var e=t.prototype;return e.enableFormSubmit=function(){this.submitButton.prop("disabled",!1)},e.disableFormSubmit=function(){this.submitButton.prop("disabled",!0)},e.getCsrfTokenData=function(){return{name:this.csrftoken.attr("name"),value:this.csrftoken.val()}},e.onActionComplete=function(t){var e=this;t?(this.container.trigger("form-submitted"),aa.info(this.successLogLine),setTimeout((function(){return Ze.Notification.info(e.successLogLine)}),this.notificationTimeout)):((0,xi.pingerErrorHandler)("action-form",this.failLogLine),setTimeout((function(){return Ze.Notification.error(e.failLogLine)}),this.notificationTimeout)),this.submitButton.text(this.originalSubmitLabel),this.enableFormSubmit()},e.onFormSubmit=function(t){t.preventDefault(),this.setSubmitInProgress()},e.getSubmitEventArgs=function(){},e.setSubmitInProgress=function(){this.submitButton.text(this.inProgressSubmitLabel),this.disableFormSubmit()},t}();oa.ActionForm=sa;var la={};(function(t){(function(){"use strict";la.SaveForm=void 0;var e,i=(e="undefined"!=typeof window?window.jQuery:void 0!==t?t.jQuery:null)&&e.__esModule?e:{default:e},n=function(t){var e,n;function o(e){var i,n=e.container;return(i=t.call(this,{container:n})||this).resultsFormatSelector=i.form.find('[name="results-format"]'),i.successLogLine="Citations download should start shortly.",i.failLogLine="Unable to save citations to file.",i}n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var r=o.prototype;return r.constructForm=function(){this.container.remove(".save-temp-form");var t=(0,i.default)("<form />",{class:"save-temp-form"}).hide().appendTo(this.container),e=this.getCsrfTokenData();return(0,i.default)("<input/>",{type:"hidden",name:e.name,value:e.value}).appendTo(t),(0,i.default)("<input/>",{type:"hidden",name:this.resultsFormatSelector.attr("name"),value:this.resultsFormatSelector.val()}).appendTo(t),t},r.onFormSubmit=function(e){t.prototype.onFormSubmit.call(this,e);var i=this.constructForm();this.setSelectedArticles(i),i.trigger("submit"),this.onActionComplete(!0)},r.setSelectedArticles=function(t){},o}(oa.ActionForm);la.SaveForm=n}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var ca={};(function(t){(function(){"use strict";ca.SaveFormOneResult=void 0;var e,i=(e="undefined"!=typeof window?window.jQuery:void 0!==t?t.jQuery:null)&&e.__esModule?e:{default:e},n=function(t){var e,n;function o(e){var i,n=e.container,o=e.resultId;return(i=t.call(this,{container:n})||this).resultId=o,i}n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var r=o.prototype;return r.onFormSubmit=function(e){t.prototype.onFormSubmit.call(this,e),(0,wo.reportEvent)("save","abstract-page","save_share")},r.getSubmitEventArgs=function(){return[!1]},r.setSelectedArticles=function(t){(0,i.default)("<input />",{type:"hidden",name:"result-ids",value:this.resultId}).appendTo(t),t.attr("action",this.form.data("by-ids-action")),t.attr("method",this.form.data("by-ids-method"))},o}(la.SaveForm);ca.SaveFormOneResult=n}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var ua={};(function(t){(function(){"use strict";var e;ua.Grecaptcha=void 0;var i=((e=Qe)&&e.__esModule?e:{default:e}).default.getLogger("captcha-field"),n=function(){function e(t,e){this.container=t,this.bodyElem=e,this.captchaValidationMessage=this.container.find(".captcha-validation-message"),this.captchaEnabled=this.container.data("recaptcha-enabled"),this.captchaURL=this.container.data("recaptcha-script-url")}var n=e.prototype;return n.initGrecaptchaControl=function(){if(this.captchaEnabled){this.container.find('[type="submit"]').prop("disabled",!0);var t=""+this.captchaURL,e="\n        <script type=\"text/javascript\">\n          var onloadCaptchaCallback = function() {\n            grecaptcha.enterprise.render('id-recaptcha', {\n              'sitekey' : '"+this.container.find("#id-recaptcha").data("sitekey")+"',\n              'action' : 'email'\n            });\n          };\n        <\/script>\n        <script type=\"text/javascript\" src=\""+t+'" async defer><\/script>\n      ';this.bodyElem.append(e),this.container.find('[type="submit"]').prop("disabled",!1)}},n.resetGrecaptchaControl=function(){try{this.captchaEnabled&&"grecaptcha"in t&&grecaptcha&&grecaptcha.enterprise.reset()}catch(e){i.warn("Failed to reset grecaptcha")}},n.resetValidation=function(){this.captchaValidationMessage.length&&(this.captchaValidationMessage.hide(),this.captchaValidationMessage.text(""))},n.validate=function(t){if(this.captchaValidationMessage.length){var e=t.responseJSON;e&&e.recaptcha&&(this.captchaValidationMessage.text(e.recaptcha.join("; ")),this.captchaValidationMessage.show())}},n.copyValToForm=function(t){this.captchaInput=this.container.find(".g-recaptcha-response"),this.captchaInput.length&&(t[this.captchaInput.attr("name")]=this.captchaInput.val())},e}();ua.Grecaptcha=n}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var da={};(function(t){(function(){"use strict";da.EmailForm=void 0;var e,i=(e="undefined"!=typeof window?window.jQuery:void 0!==t?t.jQuery:null)&&e.__esModule?e:{default:e};function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var o=function(t){var e,o;function r(e){var i,n=e.container,o=e.bodyElem;return(i=t.call(this,{container:n})||this).bodyElem=o,i.container&&i.container.length?(i.emailAddress=i.container.find(".email-to"),i.emailSubject=i.container.find('[name="email-subject"]').val(),i.emailSubjectHash=i.container.find('[name="email-subject-hash"]').val(),i.emailSearchDetails=i.container.find('[name="email-search-details"]').val(),i.emailSearchDetailsHash=i.container.find('[name="email-search-details-hash"]').val(),i.emailCitationFormat=i.container.find(".email-citation-format"),i.emailIncludeSupplementalContainer=i.container.find(".include-supplemental-container"),i.emailIncludeSupplemental=i.container.find(".email-include-supplemental"),i.emailSplitResults=i.container.find('[name="do-not-split-email-results"]').val(),i.grecaptcha=new ua.Grecaptcha(i.container,o),i.successLogLine="Email successfully sent.",i.failLogLine="Unable to send email.",i.container.on("toggle-panel",(function(t,e){return e&&i.grecaptcha.initGrecaptchaControl()})),i.filtersStorage=new Fo.PersistentFiltersStorage,i.initEmailFormat(),i):function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(i)}o=t,(e=r).prototype=Object.create(o.prototype),e.prototype.constructor=e,e.__proto__=o;var a=r.prototype;return a.onFormSubmit=function(e){var i=this;t.prototype.onFormSubmit.call(this,e);var n=this.getSelectedArticles();n?n.done((function(t){i.sendEmail(t)})).fail((function(){return i.onActionComplete(!1)})):this.sendEmail()},a.sendEmail=function(t){var e=this,n=this.createAjaxSettings(!!t);n?(t&&(n.data.result_ids=t),i.default.ajax(n).done((function(){e.onActionComplete(!0),e.grecaptcha.resetValidation(),e.grecaptcha.resetGrecaptchaControl()})).fail((function(t){e.onActionComplete(!1),e.grecaptcha.validate(t),e.grecaptcha.resetGrecaptchaControl()}))):(0,xi.pingerErrorHandler)("email-form","No settings to send email specified")},a.getSelectedArticles=function(){},a.createAjaxSettings=function(t){var e={},i=this.composeEmailFormData();if(t)e={type:this.form.data("by-ids-method"),url:this.form.data("by-ids-action"),data:i,encode:!0};else{for(var o,r=function(t,e){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=function(t,e){if(t){if("string"==typeof t)return n(t,void 0);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(t,void 0):void 0}}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var o=0;return function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(i=t[Symbol.iterator]()).next.bind(i)}(this.searchFormControls);!(o=r()).done;){var a=o.value,s=a.attr("name");"filter"===s&&Object.prototype.hasOwnProperty.call(i,"filter")?i.filter+=","+a.val():i[s]=a.val()}e={type:this.form.data("by-search-method"),url:this.form.data("by-search-action"),data:i,encode:!0}}return e},a.initEmailFormat=function(){var t=this;this.showHideIncludeSupplemental(),this.emailCitationFormat.on("change",(function(){t.showHideIncludeSupplemental()}))},a.showHideIncludeSupplemental=function(){"abstract"===this.emailCitationFormat.val()?this.emailIncludeSupplementalContainer.show():this.emailIncludeSupplementalContainer.hide()},a.composeEmailFormData=function(){var t=this.emailCitationFormat.val();this.rich_text="summary"===t||"abstract"===t?"yes":"no",this.format=t,"abstract"===t||"abstract-text"===t?this.format="abstract":"summary"!==t&&"summary-text"!==t||(this.format="summary");var e={rich_text_formatting:this.rich_text,results_format:this.format,to_email:this.emailAddress.val()},i=this.getCsrfTokenData();return e[i.name]=i.value,this.grecaptcha.copyValToForm(e),e.subject=this.emailSubject,e.subject_hash=this.emailSubjectHash,e.email_search_details=this.emailSearchDetails,e.email_search_details_hash=this.emailSearchDetailsHash,"abstract"===this.format&&"yes"===this.rich_text&&(e.include_supplemental=this.emailIncludeSupplemental.prop("checked")),this.emailSplitResults&&(e["do-not-split-email-results"]=this.emailSplitResults),e},r}(oa.ActionForm);da.EmailForm=o}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var fa={};(function(t){(function(){"use strict";fa.EmailFormOneResult=void 0;var e,i=(e="undefined"!=typeof window?window.jQuery:void 0!==t?t.jQuery:null)&&e.__esModule?e:{default:e},n=function(t){var e,n;function o(e){var i,n=e.container,o=e.bodyElem,r=e.articleId;return(i=t.call(this,{container:n,bodyElem:o})||this).articleId=r,i}n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var r=o.prototype;return r.onFormSubmit=function(e){t.prototype.onFormSubmit.call(this,e),(0,wo.reportEvent)("email","abstract-page","save_share")},r.getSelectedArticles=function(){var t=i.default.Deferred();return t.resolve(this.articleId.toString()),t.promise()},o}(da.EmailForm);fa.EmailFormOneResult=n}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var ha={};(function(t){(function(){var e,i=/[&<>"'`]/g,n=RegExp(i.source),o="object"==typeof t&&t&&t.Object===Object&&t,r="object"==typeof self&&self&&self.Object===Object&&self,a=o||r||Function("return this")(),s=(e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},function(t){return null==e?void 0:e[t]}),l=Object.prototype.toString,c=a.Symbol,u=c?c.prototype:void 0,d=u?u.toString:void 0;ha=function(t){var e;return(t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&"[object Symbol]"==l.call(t)}(t))return d?d.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}(e))&&n.test(t)?t.replace(i,s):t}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var pa={formatNumberWithCommas:function(t){return new Intl.NumberFormat("en-US").format(t)}},ga={};(function(t){(function(){"use strict";ga.SavedSearchForm=void 0;var e=n("undefined"!=typeof window?window.jQuery:void 0!==t?t.jQuery:null),i=n(ha);function n(t){return t&&t.__esModule?t:{default:t}}var o=function(t){var n,o;function r(e){var i,n=e.container,o=e.selectedFilters;return(i=t.call(this,{container:n})||this).savedSearchRootURL=i.form.data("saved-search-root-url"),i.selectedFilters=o,i.failLogLine="Unable to save your search.",i.trySearchTermLink=i.form.find(".try-search-term"),i.trySearchTermLink.unbind().click((function(t){return i.trySearchTerm(t)})),i.alertNoChoice=i.form.find(".saved-search-alert-no"),i.alertNoChoice.on("change",(function(){return i.selectAlertNo()})),i.alertYesChoice=i.form.find(".saved-search-alert-yes"),i.alertYesChoice.on("change",(function(){return i.selectAlertYes()})),i.alertControls=i.form.find(".alert-schedule-wrap"),i.emailText=i.form.find(".saved-search-email-text"),i.frequencyChoice=i.form.find(".saved-search-frequency"),i.frequencyChoice.on("change",(function(){return i.changeFrequency()})),i.frequencyMonthlyAdditional=i.form.find(".saved-search-monthly-additional"),i.frequencyWeeklyAdditional=i.form.find(".saved-search-weekly-additional"),i.frequencyWeeklyAdditional.hide(),i.searchTermInput=i.form.find(".saved-search-term"),i.searchTermInput.on("input",(function(){i.searchTermInput[0].setCustomValidity("")})),i.invalidCharacters=/["&=<>/]+/,i.emailText.on("input",(function(){i.validateEmailText()})),i}o=t,(n=r).prototype=Object.create(o.prototype),n.prototype.constructor=n,n.__proto__=o;var a=r.prototype;return a.validateEmailText=function(){this.invalidCharacters.test(this.emailText.val())?(this.emailText[0].setCustomValidity('Optional email text may not contain the following characters: "&=<>/'),this.emailText[0].reportValidity()):this.emailText[0].setCustomValidity("")},a.onFormSubmit=function(i){var n=this;this.validateEmailText(),t.prototype.onFormSubmit.call(this,i);var o=this.form.data("create-saved-search-url"),r={name:this.form.find(".saved-search-name").val(),term:this.form.find(".saved-search-term").val(),has_alert:"yes"===this.form.find("input[name=saved-search-alert]:checked").val(),frequency:this.frequencyChoice.find("option:selected").val(),monthly_on_day:this.frequencyMonthlyAdditional.find("option:selected").val(),weekly_on_day:this.frequencyWeeklyAdditional.find("option:selected").val(),report:this.form.find(".saved-search-report").find("option:selected").val(),amount:this.form.find(".saved-search-amount").find("option:selected").val(),send_if_no_result:this.form.find(".saved-search-send-if-no-result").is(":checked"),email_text:this.emailText.val(),selected_filters:this.selectedFilters.join()},a=this.form.find(".search-timestamp");a&&a.length&&a.val()&&(r.search_timestamp=this.form.find(".search-timestamp").val());var s=this.getCsrfTokenData();r[s.name]=s.value,e.default.post({url:o,data:r,encode:!0}).done((function(t){var e=n.getEditSavedSearchLink(t.saved_search_id);n.successLogLine="New search saved. "+e+".",n.onActionComplete(!0)})).fail((function(t){if(Object.prototype.hasOwnProperty.call(t,"responseJSON")){var e=t.responseJSON;Object.prototype.hasOwnProperty.call(e,"error")&&(n.failLogLine=e.error),n.invalidTerm=Object.prototype.hasOwnProperty.call(e,"invalid_term")}n.onActionComplete(!1)}))},a.onActionComplete=function(e){!e&&this.invalidTerm?((0,xi.pingerErrorHandler)("action-form",this.failLogLine),this.searchTermInput[0].setCustomValidity(this.failLogLine),this.submitButton.text(this.originalSubmitLabel),this.enableFormSubmit(),this.submitButton.trigger("click")):t.prototype.onActionComplete.call(this,e)},a.getEditSavedSearchLink=function(t){return'<a href="'+this.savedSearchRootURL+t+'/">Edit your search settings</a>'},a.trySearchTerm=function(t){var i=this;t.preventDefault();var n=this.form.find(".saved-search-term").val();if(n){var o={term:n},r=this.selectedFilters.join(",");r&&(o.filter=r);var a=this.getCsrfTokenData();o[a.name]=a.value,e.default.post({url:this.form.data("try-search-terms-url"),data:o,encode:!0}).done((function(t){return i.notyFoundResultsAmount(t)})).fail((function(t){var e="Unable to test search terms.";if(Object.prototype.hasOwnProperty.call(t,"responseJSON")){var i=t.responseJSON;Object.prototype.hasOwnProperty.call(i,"error")&&(e=i.error)}(0,xi.pingerErrorHandler)("saved-search-form",e),Ze.Notification.error(e)}))}else Ze.Notification.error("Search term is empty! Please provide a valid query.")},a.selectAlertNo=function(){this.alertControls.hide(),this.alertYesChoice.removeAttr("checked"),this.alertNoChoice[0].setAttribute("checked","")},a.selectAlertYes=function(){this.alertControls.show(),this.alertNoChoice.removeAttr("checked"),this.alertYesChoice[0].setAttribute("checked","")},a.changeFrequency=function(){var t=this.frequencyChoice.find("option:selected").val();"monthly"===t?(this.frequencyMonthlyAdditional.show(),this.frequencyWeeklyAdditional.hide()):"weekly"===t?(this.frequencyMonthlyAdditional.hide(),this.frequencyWeeklyAdditional.show()):"daily"===t&&(this.frequencyMonthlyAdditional.hide(),this.frequencyWeeklyAdditional.hide())},a.notyFoundResultsAmount=function(t){var e=t.total_results;if(e>0){t.ignored_terms&&Ze.Notification.warning((0,i.default)(t.ignored_terms)+"."),t.ignored_words&&Ze.Notification.warning((0,i.default)(t.ignored_words)+"."),t.ignored_quotes&&Ze.Notification.warning((0,i.default)(t.ignored_quotes)+"."),t.ignored_fields&&Ze.Notification.warning((0,i.default)(t.ignored_fields)+".");var n=(0,pa.formatNumberWithCommas)(e);Ze.Notification.info(n+" results found.")}else Ze.Notification.error("Error: No items found.")},r}(oa.ActionForm);ga.SavedSearchForm=o}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var ma={};(function(t){(function(){"use strict";ma.RssForm=void 0;var e,i=(e="undefined"!=typeof window?window.jQuery:void 0!==t?t.jQuery:null)&&e.__esModule?e:{default:e},n=function(t){var e,n;function o(e){var i,n=e.container,o=e.selectedFilters;return(i=t.call(this,{container:n})||this).selectedFilters=o,i.rssLinkInput=i.form.find(".rss-link"),i.failLogLine="Unable to generate your RSS Feed URL.",i}n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var r=o.prototype;return r.composeTermWithFilters=function(t,e){var i={};for(var n in e.forEach((function(t){var e=t.split(".");i[e[0]]?i[e[0]]=new Array(i[e[0]]).concat(e[1]):i[e[0]]=e[1]})),i)if(i[n]&&i[n].constructor===Array)t=t+" AND ("+i[n].map((function(t){return t+"[Filter]"})).join(" OR ")+")";else if("years"===n){var o=i[n].split("-");t=t+" AND "+o[0]+":"+o[1]+"[pdat]"}else t=t+" AND "+i[n]+"[Filter]";return t},r.onFormSubmit=function(e){var n=this;t.prototype.onFormSubmit.call(this,e);var o=this.form.data("create-rss-feed-url"),r=this.form.data("search-form-term-value"),a={name:this.form.find(".rss-name").val(),term:this.selectedFilters.length>0?this.composeTermWithFilters(r,this.selectedFilters):r,limit:this.form.find(".rss-limit").val()},s=this.getCsrfTokenData();a[s.name]=s.value,i.default.post({url:o,data:a,encode:!0}).done((function(t){n.rssLinkInput.val(t.rss_feed_url),n.rssLinkInput.select(),n.form.find(".rss-link-copy-button").removeClass("disabled"),n.form.find(".rss-link-copy-button").removeAttr("disabled"),n.successLogLine="RSS link created.",n.onActionComplete(!0)})).fail((function(t){if(Object.prototype.hasOwnProperty.call(t,"responseJSON")){var e=t.responseJSON;Object.prototype.hasOwnProperty.call(e,"error")&&(n.failLogLine=e.error)}(0,xi.pingerErrorHandler)("rss-form",n.failLogLine),Ze.Notification.error(n.failLogLine),n.onActionComplete(!1)}))},o}(oa.ActionForm);ma.RssForm=n}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var va={};(function(t){(function(){"use strict";va.MoreActionsDropdownBlock=void 0;var e,i=(e="undefined"!=typeof window?window.jQuery:void 0!==t?t.jQuery:null)&&e.__esModule?e:{default:e},n=function(t){var e,n;function o(){return t.apply(this,arguments)||this}return n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n,o.prototype.initAppearance=function(){var e=this;t.prototype.initAppearance.call(this),this.toggleOnClick&&this.container.find(".dropdown-block-link").on("click",(function(t){(0,i.default)(t.target).closest(e.container)&&e.hide()}))},o}(Xo.DropdownBlock);va.MoreActionsDropdownBlock=n}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var ya={};(function(t){(function(){"use strict";ya.CollectionForm=void 0;var e,i=(e="undefined"!=typeof window?window.jQuery:void 0!==t?t.jQuery:null)&&e.__esModule?e:{default:e};function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var o=function(t){var e,o;function r(e){var i,n=e.container;return(i=t.call(this,{container:n})||this).disableFormSubmit(),i.isExistingCollectionsLoaded=!1,i.existingCollectionChoice=i.form.find(".collections-existing"),i.existingCollectionChoice.on("change",(function(){return i.selectExistingCollection()})),i.existingCollectionsRetryLoad=i.form.find(".collections-retry-load-on-error"),i.existingCollectionsRetryLoad.on("click",(function(){return i.selectExistingCollection()})),i.existingCollectionControls=i.form.find(".existing-collections-controls"),i.collectionsRootURL=i.form.data("collections-root-url"),i.newCollectionChoice=i.form.find(".collections-new"),i.newCollectionChoice.on("change",(function(){return i.selectNewCollection()})),i.newCollectionControls=i.form.find(".new-collections-controls"),i.collectionNameTooLongMessage=i.form.find(".collections-new-name-too-long"),i.maxCollectionNameLength=i.form.data("myncbi-max-collection-name-length"),i.newCollectionName=i.form.find(".collections-action-add-to-new"),i.newCollectionName.on("input",(function(t){return i.toggleSubmitForNewCollection(t.target.value.length)})),i.addingToCollectionInProcess=!1,i.saveProgressIndicator=new ki.DotsLoadingIndicator({container:i.container,className:"loading-indicator"}),i.container.on("toggle-panel",(function(t,e){e&&(i.existingCollectionChoice.prop("checked",!0),i.existingCollectionChoice.trigger("change"))})),i}o=t,(e=r).prototype=Object.create(o.prototype),e.prototype.constructor=e,e.__proto__=o;var a=r.prototype;return a.onFormSubmit=function(e){var i=this;t.prototype.onFormSubmit.call(this,e),this.promiseSelectedArticles().done((function(t){return i.saveToCollections(t)})).fail((function(){return i.onActionComplete(!1)}))},a.saveToCollections=function(t){var e=this;this.addingToCollectionInProcess=!0,this.saveProgressIndicator.show(),this.container.addClass("loading");var n={};n.article_ids=t;var o,r=this.getCsrfTokenData();n[r.name]=r.value,this.existingCollectionChoice.is(":checked")&&(n.collection_id=this.form.find(".collections-action-add-to-existing").val(),o=this.form.data("add-to-existing-collection-url"),(0,wo.reportEvent)("collection","existing_collection","save_share")),this.newCollectionChoice.is(":checked")&&(n.collection_name=this.newCollectionName.val(),o=this.form.data("create-and-add-to-new-collection-url"),this.isExistingCollectionsLoaded=!1,(0,wo.reportEvent)("collection",n.collection_name,"save_share")),i.default.post({url:o,data:n,encode:!0}).done((function(t){var i=e.getEditCollectionLink(t.collection_id);e.successLogLine="New items were added to your collection. "+i+".",e.onActionComplete(!0)})).fail((function(t){if(Object.prototype.hasOwnProperty.call(t,"responseJSON")){var i=t.responseJSON;if(Object.prototype.hasOwnProperty.call(i,"error")&&(e.failLogLine=i.error,Object.prototype.hasOwnProperty.call(i,"collection_id"))){var n=e.getEditCollectionLink(i.collection_id);e.failLogLine+=" "+n+"."}}e.onActionComplete(!1)})).always((function(){e.addingToCollectionInProcess=!1,e.saveProgressIndicator.hide(),e.container.removeClass("loading")}))},a.getEditCollectionLink=function(t){return'<a href="'+this.collectionsRootURL+t+'/">Edit your collection</a>'},a.selectNewCollection=function(){this.newCollectionName.prop("required",!0),this.existingCollectionControls.hide(),this.existingCollectionsRetryLoad.hide(),this.newCollectionControls.show(),this.toggleSubmitForNewCollection(this.newCollectionName.val().length),this.existingCollectionChoice.removeAttr("checked"),this.newCollectionChoice[0].setAttribute("checked","")},a.selectExistingCollection=function(){var t=this;if(this.newCollectionName.prop("required",!1),this.newCollectionControls.hide(),this.existingCollectionControls.removeClass("usa-input-error").show(),this.existingCollectionsRetryLoad.hide(),this.container.trigger("toggle-panel"),this.newCollectionChoice.removeAttr("checked"),this.existingCollectionChoice[0].setAttribute("checked",""),!1===this.isExistingCollectionsLoaded){this.container.trigger("collection-validated",!1);var e=this.form.find(".collections-action-add-to-existing");e.find("option").remove(),i.default.get({url:this.form.data("existing-collections-url")}).done((function(o){for(var r,a=function(t,e){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=function(t,e){if(t){if("string"==typeof t)return n(t,void 0);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(t,void 0):void 0}}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var o=0;return function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(i=t[Symbol.iterator]()).next.bind(i)}(o.collections.sort((function(t,e){return t.name.localeCompare(e.name)})));!(r=a()).done;){var s=r.value;"Favorites"===s.name?e.prepend((0,i.default)("<option>",{value:s.id,text:s.name}).prop("selected","selected")):e.append((0,i.default)("<option>",{value:s.id,text:s.name}))}t.isExistingCollectionsLoaded=!0,t.container.trigger("collection-validated",!0)})).fail((function(){var e="Unable to retrieve existing collections";(0,xi.pingerErrorHandler)("collections-form",e),Ze.Notification.error(e),t.existingCollectionControls.addClass("usa-input-error"),t.existingCollectionsRetryLoad.show()}))}else this.container.trigger("collection-validated",!0)},a.toggleSubmitForNewCollection=function(t){t>this.maxCollectionNameLength?(this.container.trigger("collection-validated",!1),this.newCollectionControls.addClass("usa-input-error"),this.collectionNameTooLongMessage.show()):(this.newCollectionControls.removeClass("usa-input-error"),this.collectionNameTooLongMessage.hide(),this.container.trigger("collection-validated",!0))},r}(oa.ActionForm);ya.CollectionForm=o}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var ba={};(function(t){(function(){"use strict";ba.CollectionsFormOneResult=void 0;var e,i=(e="undefined"!=typeof window?window.jQuery:void 0!==t?t.jQuery:null)&&e.__esModule?e:{default:e},n=function(t){var e,n;function o(e){var i,n=e.container,o=e.articleId;return(i=t.call(this,{container:n})||this).articleId=o,i.failLogLine="Unable to add item to the collection.",i.container.on("collection-validated",(function(t,e){return e&&!i.addingToCollectionInProcess?i.enableFormSubmit():i.disableFormSubmit()})),i}n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var r=o.prototype;return r.onFormSubmit=function(e){t.prototype.onFormSubmit.call(this,e),(0,wo.reportEvent)("collection","abstract-page","save_share")},r.getSubmitEventArgs=function(){return[!1]},r.promiseSelectedArticles=function(){var t=i.default.Deferred();return t.resolve(this.articleId.toString()),t.promise()},o}(ya.CollectionForm);ba.CollectionsFormOneResult=n}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var wa={};(function(t){(function(){"use strict";wa.BibliographyForm=void 0;var e,i=(e="undefined"!=typeof window?window.jQuery:void 0!==t?t.jQuery:null)&&e.__esModule?e:{default:e};function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var o=function(t){var e,o;function r(e){var i,n=e.container;return(i=t.call(this,{container:n})||this).isExistingBibliographiesLoaded=!1,i.bibliographiesRetryLoad=i.form.find(".bibliographies-retry-load-on-error"),i.bibliographiesRetryLoad.on("click",(function(){return i.loadBibliographies()})),i.myBibRootURL=i.form.data("mybib-root-url"),i.myBibliographyRadio=i.form.find("#my-bibliography"),i.bibliographiesList=i.form.find(".bibliographies-action-add"),i.saveProgressIndicator=new ki.DotsLoadingIndicator({container:i.container,className:"loading-indicator"}),i.container.on("toggle-panel",(function(t,e){e&&i.loadBibliographies()})),i}o=t,(e=r).prototype=Object.create(o.prototype),e.prototype.constructor=e,e.__proto__=o;var a=r.prototype;return a.registerCheckedAttrOnChange=function(){var t=this.bibliographiesList.find("input");t.on("change",(function(e){t.removeAttr("checked"),e.target.setAttribute("checked","")}))},a.onFormSubmit=function(e){var i=this;t.prototype.onFormSubmit.call(this,e),this.saveProgressIndicator.show(),this.container.addClass("loading"),this.saveArticleIdsByChunks().then((function(t){i.successLogLine=t,i.onActionComplete(!0)})).fail((function(t){i.failLogLine=t,i.onActionComplete(!1)})).always((function(){i.saveProgressIndicator.hide(),i.container.removeClass("loading")}))},a.saveArticleIdsByChunks=function(){var t=i.default.Deferred(),e={},n=this.getCsrfTokenData();e[n.name]=n.value;var o,r=this.form.find(".bibliographies-action-add").find("input:checked").attr("id");"my-bibliography"!==r?((0,wo.reportEvent)("mybib","delegate","save_share"),e.delegate_id=r,o=this.getEditDelegateBibliographyLink(r)):((0,wo.reportEvent)("mybib","bibliography","save_share"),o=this.getEditUserBibliographyLink());var a=this.form.data("add-to-bibliography-url"),s=this.form.data("add-to-bibliography-batch-size"),l=0;return this.promiseSelectedArticles().done((function(n){return function n(r){var c=r.slice(0,s),u=r.slice(s);e.article_ids=c.join(","),i.default.post({url:a,data:e,encode:!0}).done((function(){if(u.length)l+=s,n(u);else{var e="New items were added to bibliography. "+o+".";t.resolve(e)}})).fail((function(){l>0?t.reject("An unexpected error occurred. Only the first "+l+" items have been added to bibliography. "+o+"."):t.reject("An unexpected error occurred. No items have been added to bibliography. "+o+".")}))}(n.split(","))})).fail((function(){return t.reject("No results to add")})),t.promise()},a.getEditUserBibliographyLink=function(){return'<a href="'+this.myBibRootURL+'">Edit your bibliography</a>'},a.getEditDelegateBibliographyLink=function(t){return'<a href="'+this.myBibRootURL+"?user="+t+'">Edit '+t+"'s bibliography</a>"},a.loadBibliographies=function(){var t=this;this.bibliographiesRetryLoad.hide(),!1===this.isExistingBibliographiesLoaded&&i.default.get({url:this.form.data("bibliography-delegates-url")}).done((function(e){for(var o,r=function(t,e){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=function(t,e){if(t){if("string"==typeof t)return n(t,void 0);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(t,void 0):void 0}}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var o=0;return function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(i=t[Symbol.iterator]()).next.bind(i)}(e.delegates);!(o=r()).done;){var a=o.value;t.bibliographiesList.append((0,i.default)("<li>").append((0,i.default)("<input>",{name:"bibliography",id:a.id,value:a.name,type:"radio",role:"radio"}),(0,i.default)("<label>",{for:a.id,text:a.name})))}t.isExistingBibliographiesLoaded=!0,t.registerCheckedAttrOnChange()})).fail((function(){var e="Unable to retrieve your bibliography delegates.";(0,xi.pingerErrorHandler)("bibliography-form",e),Ze.Notification.error(e),t.bibliographiesRetryLoad.show()}))},r}(oa.ActionForm);wa.BibliographyForm=o}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Ca={};(function(t){(function(){"use strict";Ca.BibliographyFormOneResult=void 0;var e,i=(e="undefined"!=typeof window?window.jQuery:void 0!==t?t.jQuery:null)&&e.__esModule?e:{default:e},n=function(t){var e,n;function o(e){var i,n=e.container,o=e.articleId;return(i=t.call(this,{container:n})||this).articleId=o,i.failLogLine="Unable to add item to bibliography.",i}n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var r=o.prototype;return r.onFormSubmit=function(e){t.prototype.onFormSubmit.call(this,e),(0,wo.reportEvent)("mybib","abstract-page","save_share")},r.getSubmitEventArgs=function(){return[!1]},r.promiseSelectedArticles=function(){var t=i.default.Deferred();return t.resolve(this.articleId.toString()),t.promise()},o}(wa.BibliographyForm);Ca.BibliographyFormOneResult=n}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var xa={};(function(t){(function(){"use strict";xa.CitationManagerForm=void 0;var e,i=(e="undefined"!=typeof window?window.jQuery:void 0!==t?t.jQuery:null)&&e.__esModule?e:{default:e},n=function(t){var e,n;function o(e){var i,n=e.container;return(i=t.call(this,{container:n})||this).resultsFormatSelector=i.form.find('[name="results-format"]'),i.successLogLine="Citations were successfully saved to file. Download should start shortly.",i.failLogLine="Unable to download to citation manager.",i}n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var r=o.prototype;return r.constructForm=function(){this.container.remove(".citation-manager-temp-form");var t=(0,i.default)("<form />",{class:"citation-manager-temp-form"}).hide().appendTo(this.container),e=this.getCsrfTokenData();return(0,i.default)("<input/>",{type:"hidden",name:e.name,value:e.value}).appendTo(t),(0,i.default)("<input/>",{type:"hidden",name:this.resultsFormatSelector.attr("name"),value:this.resultsFormatSelector.val()}).appendTo(t),t},r.onFormSubmit=function(e){t.prototype.onFormSubmit.call(this,e);var i=this.constructForm();this.setSelectedArticles(i),i.submit(),this.onActionComplete(!0)},r.setSelectedArticles=function(t){},o}(oa.ActionForm);xa.CitationManagerForm=n}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Sa={};(function(t){(function(){"use strict";Sa.CitationManagerFormOneResult=void 0;var e,i=(e="undefined"!=typeof window?window.jQuery:void 0!==t?t.jQuery:null)&&e.__esModule?e:{default:e},n=function(t){var e,n;function o(e){var i,n=e.container,o=e.resultId;return(i=t.call(this,{container:n})||this).resultId=o,i}n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var r=o.prototype;return r.onFormSubmit=function(e){t.prototype.onFormSubmit.call(this,e),(0,wo.reportEvent)("citation-manager","abstract-page","save_share")},r.getSubmitEventArgs=function(){return[!1]},r.setSelectedArticles=function(t){(0,i.default)("<input />",{type:"hidden",name:"result-ids",value:this.resultId}).appendTo(t),t.attr("action",this.form.data("by-ids-action")),t.attr("method",this.form.data("by-ids-method"))},o}(xa.CitationManagerForm);Sa.CitationManagerFormOneResult=n}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var ka,_a,Ta={pingerErrorHandler:function(t,e){Ea.default.getLogger(t).error(e),window.ncbi.pinger&&window.ncbi.pinger._handleError&&window.ncbi.pinger._handleError({message:e})}},Ea=(ka=Qe)&&ka.__esModule?ka:{default:ka},Ia={Notification:void 0},Aa=(_a=ze)&&_a.__esModule?_a:{default:_a},Oa={options:{layout:"center",theme:"uswdsTheme",animation:{open:"animated fade-in-down",close:"animated fade-out-up"},callbacks:{onShow:function(){this.layoutDom.classList.add("notification"),this.layoutDom.setAttribute("role","alert"),this.layoutDom.setAttribute("aria-live","assertive"),this.barDom.classList.add("uswdsTheme")}},timeout:5e3},notify:function(t,e){new Aa.default(Object.assign({text:t,type:e},Oa.options)).show()},info:function(t){return Oa.notify(t,"information")},warning:function(t){return Oa.notify(t,"warning")},error:function(t){return Oa.notify(t,"error")}};Ia.Notification=Oa;var Da={QueryDict:void 0},La=function(){function t(t){void 0===t&&(t=[]),this.paramPairs="string"==typeof t?this.constructor.parseQueryString(t):t}var e=t.prototype;return e.getParam=function(t){var e=this.paramPairs.find((function(e){return e[0]===t}));return e&&this.constructor._decodeUndefined(e[1])},e.setParam=function(t,e){return this.setParamList(t,[e])},e.deleteParam=function(t){return this.paramPairs=this.paramPairs.filter((function(e){return e[0]!==t})),this},e.getParamList=function(t){var e=this;return this.paramPairs.filter((function(e){return e[0]===t})).map((function(t){return e.constructor._decodeUndefined(t[1])}))},e.setParamList=function(t,e){var i=[],n=e.map((function(e){return[t,e]})),o=!1;return this.paramPairs.forEach((function(e){e[0]!==t?i.push(e):o||(i=i.concat(n),o=!0)})),o||(i=i.concat(n)),this.paramPairs=i,this},t._decodeUndefined=function(t){return void 0===t?null:t},t.fromQueryString=function(t){return new this(t)},t.parseQueryString=function(t){return t?t.replace(/^\?/,"").split("&").map((function(t){var e=t.split("=");return 1===(e=e.map((function(t){return decodeURIComponent(t).replace(/\+/g," ")}))).length&&e.push(void 0),e})):[]},e.encodeURI=function(){return this.paramPairs.map((function(t){var e=t[0],i=t[1];return void 0===i?encodeURIComponent(e):encodeURIComponent(e)+"="+encodeURIComponent(i)})).join("&")},e.toString=function(){return this.encodeURI()},e.toObject=function(){var t={};return this.paramPairs.forEach((function(e){var i=e[0],n=e[1];Object.prototype.hasOwnProperty.call(t,i)||(t[i]=[]),t[i].push(n)})),t},e.toDict=function(){var t={};return this.paramPairs.forEach((function(e){var i=e[0],n=e[1];Object.prototype.hasOwnProperty.call(t,i)?t[i]=t[i]+","+n:t[i]=n})),t},t}();Da.QueryDict=La;var Pa={};(function(t){(function(){"use strict";Pa.Clipboard=void 0;var e=i("undefined"!=typeof window?window.jQuery:void 0!==t?t.jQuery:null);function i(t){return t&&t.__esModule?t:{default:t}}var n=i(Qe).default.getLogger("clipboard"),o=function(){function t(t){var i=t.clipboardAPIRoot,n=t.clipboardNextPageUrl,o=t.clipboardLink,r=t.csrfTokenInputName,a=void 0===r?"csrfmiddlewaretoken":r;this.clipboardAPIRoot=i,this.clipboardNextPageUrl=n,this.clipboardLink=o,this.csrfToken={value:(0,e.default)('[name="'+a+'"]').val(),name:a},this.storage=window.localStorage,this.isSafari=window.safari||navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform),this.onBack=(window.performance&&window.performance.navigation&&window.performance.navigation.type)===window.performance.navigation.TYPE_BACK_FORWARD,this.updateAmountTextOnBackNavigation()}var i=t.prototype;return i.updateAmountTextOnBackNavigation=function(){var t=this;this.onBack?this.updateClipboardLink():this.isSafari&&(0,e.default)(window).on("pageshow",(function(e){e.originalEvent.persisted&&t.updateClipboardLink()}))},i.updateClipboardLink=function(){this.getTotalAmount()>0?(this.clipboardLink.removeClass("hidden"),this.clipboardLink.find(".amount-in-clipboard").text("("+this.getTotalAmount()+")")):this.clipboardLink.addClass("hidden")},i.syncClipboardIDs=function(t){this.storage.setItem("clipboard-ids",t.join(",")),this.storage.setItem("clipboard-total",t.length)},i.addToLocalClipboardIDs=function(t){var e=this.getLocalClipboardIDs();e.push.apply(e,t),this.storage.setItem("clipboard-ids",e.join(","))},i.removeFromLocalClipboardIDs=function(t){var e=this.getLocalClipboardIDs().filter((function(e){return-1===t.indexOf(e)}));this.storage.setItem("clipboard-ids",e.join(","))},i.removeAllFromLocalClipboardIDs=function(){this.storage.setItem("clipboard-ids","")},i.getLocalClipboardIDs=function(){var t=this.storage.getItem("clipboard-ids");return t?t.split(","):[]},i.getTotalAmount=function(){return parseInt(this.storage.getItem("clipboard-total"),10)},i.addCsrfToken=function(t){t[this.csrfToken.name]=this.csrfToken.value},i.logReportFailure=function(t,e,i,o){var r=t;403===e.status&&e.responseJSON&&e.responseJSON.msg?r=e.responseJSON.msg:i&&(r=i),403===e.status?(Ia.Notification.warning(r),n.warn(r)):(Ia.Notification.error(r),(0,Ta.pingerErrorHandler)("clipboard",r)),o.reject()},i.onSentSuccessfully=function(t,e){var i=t.msg;Ia.Notification.info(i),n.info(i),this.addToLocalClipboardIDs(t.added_ids),e.resolve(),this.clipboardLink&&this.getTotalAmount()>0&&(this.clipboardLink.removeClass("hidden"),this.clipboardLink.find(".amount-in-clipboard").text("("+this.getTotalAmount()+")"))},i.sendByIds=function(t){var i=this,n=e.default.Deferred(),o={"result-ids":t.join(",")};return this.addCsrfToken(o),e.default.post(this.clipboardAPIRoot+"add/",o).done((function(t){i.storage.setItem("clipboard-total",t.total_amount),i.onSentSuccessfully(t,n)})).fail((function(t,e,o){return i.logReportFailure("Error during sending to clipboard.",t,o,n)})),n},i.sendBySearchData=function(t){var i=this,n=e.default.Deferred();return this.addCsrfToken(t),e.default.post(this.clipboardAPIRoot+"add-by-search/",t).done((function(t){i.storage.setItem("clipboard-total",t.total_amount),i.onSentSuccessfully(t,n)})).fail((function(t,e,o){return i.logReportFailure("Error during sending to clipboard.",t,o,n)})),n},i.getPage=function(t,i){var n=this,o=e.default.Deferred(),r=new Da.QueryDict([["page",t],["format",i]]);return e.default.get(this.clipboardNextPageUrl+"?"+r+"&no-cache='"+(new Date).getTime()).done((function(t){return o.resolve((0,e.default)(t))})).fail((function(t,e,i){return n.logReportFailure("Error retrieving clipboard results.",t,i,o)})),o},i.remove=function(t){var i=this,o=e.default.Deferred(),r={"result-ids":t.join(",")};return this.addCsrfToken(r),e.default.post(this.clipboardAPIRoot+"remove/",r).done((function(t){i.storage.setItem("clipboard-total",t.total_amount),o.resolve(t.total_amount),Ia.Notification.info(t.msg),n.info(t.msg),i.removeFromLocalClipboardIDs(t.removed_ids)})).fail((function(t,e,n){i.logReportFailure("Error during removing from clipboard.",t,n,o),o.reject()})),o},i.removeAndGetNewPages=function(t,i,o){var r=this,a=e.default.Deferred(),s={"result-ids":t.join(",")};return this.addCsrfToken(s),e.default.post(this.clipboardAPIRoot+"remove/",s).done((function(t){r.storage.setItem("clipboard-total",t.total_amount);var s,l=e.default.Deferred(),c=[],u=0,d=function(){var t=s.valueOf();r.getPage(t,i).done((function(e){u+=1,c.push([t,e]),u>=o&&l.resolve()})).fail((function(){(u+=1)>=o&&l.reject()}))};for(s=1;s<=o;s++)d();l.done((function(){c.sort((function(t,e){return t[0]-e[0]})),a.resolve(c,t.total_amount)})).fail((function(){a.reject(c,t.total_amount)}));var f=t.msg;Ia.Notification.info(f),n.info(f),r.removeFromLocalClipboardIDs(t.removed_ids)})).fail((function(t,e,i){return r.logReportFailure("Error during removing from clipboard.",t,i,a)})),a},i.removeAll=function(){var t=this,i=e.default.Deferred(),o={};return this.addCsrfToken(o),e.default.post(this.clipboardAPIRoot+"remove/all/",o).done((function(e){t.storage.setItem("clipboard-total",e.total_amount);var o=e.msg;Ia.Notification.info(o),n.info(o),i.resolve(),t.removeAllFromLocalClipboardIDs()})).fail((function(e,n,o){return t.logReportFailure("Error during removing from clipboard.",e,o,i)})),i},i.getAll=function(){var t=this,i=e.default.Deferred();return e.default.get(this.clipboardAPIRoot+"all/").done((function(e){t.storage.setItem("clipboard-total",e.total_amount),i.resolve(e.items)})).fail((function(){Ia.Notification.error("Error during retrieval IDs from Clipboard, please try again."),i.reject()})),i},t}();Pa.Clipboard=o}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Fa={};(function(t){(function(){"use strict";Fa.goToUrlWithFilters=function(t,e){void 0===e&&(e=!1);var n=new Fo.PersistentFiltersStorage,o=(0,i.default)(t).attr("data-href"),r=n.filterSearchParamValues;r&&(e&&(r=r.replace("&","?")),o=""+o+r),"/"===o.charAt(0)?window.location.href=o:Ze.Notification.error("An error has occurred. Please reload the page.")};var e,i=(e="undefined"!=typeof window?window.jQuery:void 0!==t?t.jQuery:null)&&e.__esModule?e:{default:e}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Na={};(function(t){(function(){"use strict";Na.ArticleSearchActionsDropdown=void 0;var e,i=(e="undefined"!=typeof window?window.jQuery:void 0!==t?t.jQuery:null)&&e.__esModule?e:{default:e},n=function(){function t(t,e,i,n,o){this.searchFormTermInput=e,this.filtersStorage=o,this.initArticleSearchActions(t,i,n)}var e=t.prototype;return e.initAddToSearchLink=function(t){var e=this;t.find(".add-to-search-link").on("click",(function(t){var n=(0,i.default)(t.currentTarget).attr("data-search-term");return e.searchFormTermInput.trigger("populate-search-input",[n]),!1}))},e.initSearchPubMedLink=function(t){t.find(".search-in-pubmed-link").on("click",(function(t){t.preventDefault(),(0,Fa.goToUrlWithFilters)(t.currentTarget)}))},e.initArticleSearchActions=function(t,e,n){var o=this;t.find(e).each((function(t,e){var r=(0,i.default)(e).find(n),a=o.initDropdown(r);o.initAddToSearchLink(r),o.initSearchPubMedLink(r),o.closeActionsDropdownContainerOnTabOut(a)}))},e.initDropdown=function(t){return new va.MoreActionsDropdownBlock({target:t.find(".trigger"),container:t.find(".dropdown").removeAttr("hidden"),toggleOnHover:!1,wrap:!1})},e.closeActionsDropdownContainerOnTabOut=function(t){var e=t.container.find(".content ul li");e.first().keydown((function(e){e.shiftKey&&"tab"===e.key.toLowerCase()&&t.hide()})),e.last().keydown((function(e){"tab"!==e.key.toLowerCase()||e.shiftKey||t.hide()}))},t}();Na.ArticleSearchActionsDropdown=n}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var Ma={};(function(t){(function(){"use strict";Ma.DisplayOptionsDropdown=void 0;var e,i=(e="undefined"!=typeof window?window.jQuery:void 0!==t?t.jQuery:null)&&e.__esModule?e:{default:e},n=function(){function t(t){var e=t.container,i=t.resultContainer,n=t.loadingIndicator,o=t.pageUrl;this.displayOptionsContainer=e,this.resultContainer=i,this.loadingIndicator=n,this.pageUrl=o,this.displayOptionsDropdownTrigger=this.displayOptionsContainer.children(".trigger"),this.displayOptionsDropdownContainer=this.displayOptionsContainer.children(".dropdown"),this.formatQueryParamName=this.displayOptionsContainer.data("format-key"),this.defaultFormatValue=this.displayOptionsContainer.data("default-format-value"),this.currentFormatValue=this.displayOptionsContainer.data("current-format-value"),this.displayOptionsDropdown=new Xo.DropdownBlock({target:this.displayOptionsDropdownTrigger,container:this.displayOptionsDropdownContainer.removeAttr("hidden"),toggleOnHover:!1,wrap:!1}),this.initDisplayOptions()}var e=t.prototype;return e.initDisplayOptions=function(){var t=this;this.displayOptionsDropdownTrigger.on("click",(function(){t.displayOptionsContainer.find(".format-container select").val(t.currentFormatValue)})),this.displayOptionsContainer.on("change",".format-container select",(function(e){t.resultContainer.addClass("loading");var n=t.resultContainer.offset().left+(t.resultContainer.width()-t.loadingIndicator.el.width())/2;t.loadingIndicator.el.css("left",n+"px"),t.loadingIndicator.show();var o=(0,i.default)(e.target).closest("select").val(),r=new gn.QueryDict(window.location.search||[]),a=t.pageUrl;o===t.defaultFormatValue?r.deleteParam(t.formatQueryParamName):r.setParam(t.formatQueryParamName,o),window.location=a+"?"+r.toString()}))},e.hide=function(){this.displayOptionsDropdown.hide()},t}();Ma.DisplayOptionsDropdown=n}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{}),function(t){(function(){"use strict";var e=o("undefined"!=typeof window?window.jQuery:void 0!==t?t.jQuery:null),i=o(Qe),n=o(Ve);function o(t){return t&&t.__esModule?t:{default:t}}function r(t,e){var i;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(i=function(t,e){if(t){if("string"==typeof t)return a(t,void 0);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?a(t,void 0):void 0}}(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(i=t[Symbol.iterator]()).next.bind(i)}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}window.ncbi=window.ncbi||{},window.ncbi.awesome=window.ncbi.awesome||{};var s=i.default.getLogger("article-page");window.ncbi.awesome.articlePage={init:function(t){var i=t.baseSuggestionsUrl,o=t.mathJaxUrl,r=t.clipboardAPIRoot,a=t.clipboardNextPageUrl,l=t.searchIdCookieName,c=t.searchFormSubmittedCookieName,u=t.backToSearchCookieName,d=t.jsCookieDomain,f=t.longTermPrefix,h=t.adjNavURLPath,p=t.adjNavSearchIdCookieName,g=t.articlePageUrl,m=t.markJSUrl,v=t.termHighlightColor,y=t.highlightedTokens,b=t.citeFormatPreferenceCookieName;this.logger=s,this.mathJaxUrl=o,this.searchIdCookieName=l,this.adjNavSearchIdCookieName=p,this.searchFormSubmittedCookieName=c,this.jsCookieDomain=d,this.backToSearchCookieName=u,this.container=(0,e.default)("#article-page"),this.pageHeader=(0,e.default)("#search-form"),this.articlePageHeader=(0,e.default)("#article-page-header"),this.articlePMID=this.container.data("article-pmid"),this.articleActionsBar=(0,e.default)("#article-top-actions-bar"),this.panelsContainer=(0,e.default)("#article-panels-container"),this.clipboard=new Pa.Clipboard({clipboardAPIRoot:r,clipboardNextPageUrl:a,clipboardLink:(0,e.default)(".clipboard-link")}),this.bodyElem=(0,e.default)("body"),this.headElem=(0,e.default)("head"),this.moreActionsDialog=(0,e.default)(".more-actions-dialog"),this.searchFormTermInput=this.pageHeader.find(".term-input"),this.filtersStorage=new Fo.PersistentFiltersStorage,this.appliedFiltersMessage=this.container.find(".applied-filters-message"),this.appliedFiltersMessageFilters=this.appliedFiltersMessage.find(".filters-list"),this.clearFiltersLink=this.appliedFiltersMessage.find(".clear-filters"),this.searchID=n.default.get(p),this.longTermPrefix=f,this.adjNavStorage=new En.AdjNavStorage({}),this.adjNavURLPath=h,this.markJSUrl=m,this.termHighlightColor=v,this.highlightedTokens=y,this.articlePageUrl=g,this.citeFormatPreferenceCookieName=b,this.loadingIndicator=new ki.DotsLoadingIndicator({container:this.container,className:"loading-indicator"}),this.windowElement=(0,e.default)(window),this.desktopDisplayOptionsContainer=this.articleActionsBar.find(".display-options"),this.mobileDisplayOptionsContainer=this.container.find(".short-view .display-options"),this.tabletDisplayOptionsContainer=this.container.find(".article-details .actions-buttons .inner-wrap .display-options"),this.filtersStorage=new Fo.PersistentFiltersStorage,this.moreActionsTrigger=this.articleActionsBar.find(".more-actions-trigger"),this.referrerIsClipboard=document.referrer.includes("/clipboard/"),(0,Sn.removeUrlQuery)(),this.initSearchForm(i),this.initDisplayOptions(),this.initPageSidebar(),this.initToggleAuthors(),this.initCitation(),this.initFullTextLinksDialog(),this.initMoreActions(),this.initSimilarArticles(),this.initCitedBy(),this.initReferences(o),this.initImageGallery(),this.initGrantsList(),this.initAbstractList(),this.initArticleTopBarActions(),this.initClearFiltersLink(),this.initArticleSearchActionsDropdown(),this.initAdjacentNavigation(o),this.initAbstractPageCustomHighlight(this.termHighlightColor,this.highlightedTokens),this.reportMissingPageParts()},initSearchForm:function(t){this.searchForm=new Uo.SearchFormBase({form:(0,e.default)("#search-form"),baseSuggestionsUrl:t,searchIdCookieName:this.searchIdCookieName,adjNavSearchIdCookieName:this.adjNavSearchIdCookieName,searchFormSubmittedCookieName:this.searchFormSubmittedCookieName,jsCookieDomain:this.jsCookieDomain})},initDisplayOptions:function(){var t=this;this.desktopDisplayOptionsContainer=new Ma.DisplayOptionsDropdown({container:this.articleActionsBar.find(".display-options"),resultContainer:this.container,loadingIndicator:this.loadingIndicator,pageUrl:this.articlePageUrl}),this.mobileDisplayOptionsContainer=new Ma.DisplayOptionsDropdown({container:this.container.find(".short-view .display-options"),resultContainer:this.container,loadingIndicator:this.loadingIndicator,pageUrl:this.articlePageUrl}),this.tabletDisplayOptionsContainer=new Ma.DisplayOptionsDropdown({container:this.container.find(".article-details .actions-buttons .inner-wrap .display-options"),resultContainer:this.container,loadingIndicator:this.loadingIndicator,pageUrl:this.articlePageUrl}),this.windowElement.on("pageshow",(function(){setTimeout((function(){t.searchFormTermInput.is(":visible")&&-1==window.location.href.indexOf("#")?t.searchFormTermInput.focus():(t.collectionsPanel.openCollectionsPanelAfterSuccessfulLogin(),t.bibliographyPanel.openBibliographyPanelAfterSuccessfulLogin(),t.savedSearchPanel.openSavedSearchPanelAfterSuccessfulLogin())}),300),t.desktopDisplayOptionsContainer.hide(),t.mobileDisplayOptionsContainer.hide(),t.tabletDisplayOptionsContainer.hide(),t.loadingIndicator.hide(),t.container.removeClass("loading")}))},initToggleAuthors:function(){var t=(0,e.default)("html, body"),i=this.pageSidebar.mobileNavigator,n=function(){return i.enabled?i.extraNavigationOffset:0};this.expandedAuthorsMobileContainer=(0,e.default)("#expanded-authors"),this.expandedAuthorsDesktopContainer=(0,e.default)("#full-article-details"),this.fullAuthors=new Hr.ExtendedArticleDetails({container:this.expandedAuthorsMobileContainer,trigger:(0,e.default)("#toggle-authors"),fetchedAuthorsPlaceholder:(0,e.default)(".fetched-authors-placeholder-full-view"),affiliationLinks:(0,e.default)(".inline-authors .affiliation-link"),equalContribLinks:(0,e.default)(".inline-authors .equal-contrib"),windowScrollElement:t,navigationOffset:n,isDesktop:!0}),this.fullArticleDetails=new Hr.ExtendedArticleDetails({container:this.expandedAuthorsDesktopContainer,trigger:(0,e.default)("#toggle-article-details"),fetchedAuthorsPlaceholder:(0,e.default)(".fetched-authors-placeholder-short-view"),affiliationLinks:(0,e.default)("#full-article-details .affiliation-link"),equalContribLinks:(0,e.default)("#full-article-details .equal-contrib"),windowScrollElement:t,navigationOffset:n,isDesktop:!1})},initPageSidebar:function(){this.pageSidebar=new cr.ArticlePageSidebar(this.container.find(".page-sidebar"),this.container,this.articlePageHeader)},initCitation:function(){var t=this,e=this.container.find(".citation-dialog"),i=this.container.find(".citation-dialog-trigger");e[0]&&i[0]&&(this.citationTextBlock=new dr.CitationTextBlock(e.find(".citation-text-block"),this.citeFormatPreferenceCookieName),i.on("click",(function(e){t.citationTextBlock.initCitationTextNode(e.currentTarget)})),this.citationDialog=new ci.OverlayBlock({container:e,triggers:i,cssClass:"citation-dialog-overlay"}))},initFullTextLinksDialog:function(){var t=this.container.find("#full-text-links-dialog"),e=this.container.find(".full-text-links-dialog-trigger");this.fullTextLinksDialog=new ci.OverlayBlock({container:t,triggers:e})},initSimilarArticles:function(){this.similarArticles=this.createPaginatedList({section:this.container.find("#similar"),PaginatedListConstructor:Ur.SimilarArticlesList,paginatedListConfig:{errorMessage:"Error loading similar articles",csrftoken:{name:"csrfmiddlewaretoken",value:(0,e.default)('input[name="csrfmiddlewaretoken"]').val()}}}),this.initShowAllLink(this.container)},initCitedBy:function(){this.citedByArticles=this.createPaginatedList({section:this.container.find("#citedby"),paginatedListConfig:{errorMessage:'Error loading "Cited by" articles'}}),this.initShowAllLink(this.container)},initShowAllLink:function(t){t.find(".show-all-linked-articles").click((function(t){return(0,Fa.goToUrlWithFilters)(t.currentTarget)}))},initReferences:function(){var t=this;this.referencesLists=this.container.find("#references .refs-list").map((function(i,n){return t.createPaginatedList({section:(0,e.default)(n),listClass:"references-list",triggerClass:"show-all",PaginatedListConstructor:qr.ReferencesList,paginatedListConfig:{errorMessage:"Error loading references list"}})}))},initClearFiltersLink:function(){var t=this,e=this.filtersStorage.filtersTitlesLine;e&&(this.appliedFiltersMessageFilters.text(": "+e),this.appliedFiltersMessage.removeClass("hide")),this.clearFiltersLink.on("click",(function(){(0,Pn.clearSearchCookie)(t.searchIdCookieName,t.jsCookieDomain),(0,Pn.clearSearchCookie)(t.adjNavSearchIdCookieName,t.jsCookieDomain),t.filtersStorage.removeFiltersData(),t.appliedFiltersMessage.addClass("hide")}))},createPaginatedList:function(t){var e=t.section,i=t.listClass,n=void 0===i?"articles-list":i,o=t.triggerClass,r=void 0===o?"show-more":o,a=t.PaginatedListConstructor,l=void 0===a?vn.PaginatedList:a,c=t.paginatedListConfig,u=e.find("."+n),d=e.find("> .actions-bar ."+r);if(d.length){var f=new l(Object.assign({listContainer:u,showMoreTrigger:d,url:d.data("next-page-url"),mathJaxUrl:this.mathJaxUrl},c));return f.listContainer.on("last-page-loaded",(function(){d.parent().hide()})),f}s.debug("No expand button needed for articles list.")},initImageGallery:function(){var t=this.container.find("#figures");t.length&&(this.imageGallery=new Mr.ImageGallery(t))},initGrantsList:function(){var t=this.container.find("#grants .list-tail"),e=this.container.find("#grants .show-all");t.length&&e.length&&(this.grantsList=new Vr.GrantsList({showAllButton:e,listToShow:t}))},initAbstractList:function(){var t=this.container.find("#abstract"),e=t.find(".abstract-lang"),i=t.find(".abstract-content");e.length&&i.length&&(this.AbstractList=new zr.AbstractList({abstractLanguages:e,abstractItems:i,container:t}))},initArticleTopBarActions:function(){var t=this,e=this.articleActionsBar.find(".multiple-results-actions"),i=this.articlePageHeader.find(".save-action-panel"),n=this.articlePageHeader.find(".email-action-panel"),o=this.articlePageHeader.find(".collections-action-panel"),a=this.articlePageHeader.find(".bibliography-action-panel"),s=this.articlePageHeader.find(".saved-search-action-panel"),l=this.articlePageHeader.find(".citation-manager-action-panel"),c=this.articlePageHeader.find(".rss-action-panel"),u=new Jr.ActionPanel({container:i,expandButton:e.find(".save-results-panel-trigger"),initialFocusEl:i.find(".action-panel-selector")});this.savePanel=u;var d=new Jr.ActionPanel({container:n,expandButton:e.find(".email-results-panel-trigger"),initialFocusEl:n.find(".email-to")});this.emailPanel=d;var f=new ta.CollectionsPanel({container:o,expandButton:e.find(".collections-panel-trigger"),initialFocusEl:o.find(".collections-new")});this.collectionsPanel=f;var h=new ia.BibliographyPanel({container:a,expandButton:e.find(".bibliography-panel-trigger"),initialFocusEl:a.find(".my-bibliography")});this.bibliographyPanel=h;var p=new Kr.SavedSearchPanel({container:s,expandButton:this.pageHeader.find(".saved-search-panel-trigger"),initialFocusEl:s.find(".saved-search-name")});this.savedSearchPanel=p;var g=new $r.RSSPanel({container:c,expandButton:this.pageHeader.find(".rss-panel-trigger"),initialFocusEl:c.find(".rss-name")}),m=new Jr.ActionPanel({container:l,expandButton:e.find(".citation-manager-panel-trigger"),initialFocusEl:l.find(".action-panel-submit")});this.citationManagerPanel=m,new ca.SaveFormOneResult({container:i,resultId:this.articlePMID}),new fa.EmailFormOneResult({container:n,bodyElem:this.bodyElem,articleId:this.articlePMID}),new ba.CollectionsFormOneResult({container:o,articleId:this.articlePMID}),new Ca.BibliographyFormOneResult({container:a,articleId:this.articlePMID});var v=[],y=this.filtersStorage.filtersData;y&&y.length>0&&(v=y.map((function(t){return t.value}))),new ga.SavedSearchForm({container:s,selectedFilters:v}),new ma.RssForm({container:c,selectedFilters:v}),new Sa.CitationManagerFormOneResult({container:l,resultId:this.articlePMID}),this.actionPanels=[u,d,f,h,m,p,g],n.on(oa.FORM_SUBMIT_EVENT_NAME,(function(){d.closePanel(),d.focusOnExpandButton()})),i.on(oa.FORM_SUBMIT_EVENT_NAME,(function(){u.closePanel(),u.focusOnExpandButton()})),o.on(oa.FORM_SUBMIT_EVENT_NAME,(function(){f.closePanel(),t.moreActionsTrigger.focus()})),f.closeButton.click((function(e){t.moreActionsTrigger.focus()})),a.on(oa.FORM_SUBMIT_EVENT_NAME,(function(){h.closePanel(),t.moreActionsTrigger.focus()})),h.closeButton.click((function(e){t.moreActionsTrigger.focus()})),s.on(oa.FORM_SUBMIT_EVENT_NAME,(function(){p.closePanel(),p.focusOnExpandButton()})),l.on(oa.FORM_SUBMIT_EVENT_NAME,(function(){m.closePanel(),t.moreActionsTrigger.focus()})),m.closeButton.click((function(e){t.moreActionsTrigger.focus()}));for(var b,w=function(){var e=b.value;e.container.on("toggle-panel",(function(i,n){if(n)for(var o,a=r(t.actionPanels);!(o=a()).done;){var s=o.value;s!==e&&s.closePanel()}}))},C=r(this.actionPanels);!(b=C()).done;)w()},initMoreActions:function(){var t=this,e=this.articleActionsBar.find(".more-actions"),i=e.find("#more-actions-dropdown");e.length&&(this.moreActionsDropdown=new va.MoreActionsDropdownBlock({target:e.children(".trigger"),container:i.removeAttr("hidden"),toggleOnHover:!1,wrap:!1}));var n=this.container.find(".more-actions-dialog"),o=this.container.find(".more-actions-dialog-trigger");this.moreActionsDialog=new ci.OverlayBlock({container:n,triggers:o}),n.find(".email-trigger").on("click",(function(){return t.moreActionsDialog.hide(),t.emailPanel.isExpanded()||t.emailPanel.togglePanel(),t.emailPanel.scrollToTop(t.pageHeader),!1})),n.find(".save-trigger").on("click",(function(){return t.moreActionsDialog.hide(),t.savePanel.isExpanded()||t.savePanel.togglePanel(),t.savePanel.scrollToTop(t.pageHeader),!1})),n.find(".collections-trigger").on("click",(function(){return t.moreActionsDialog.hide(),t.collectionsPanel.isExpanded()||t.collectionsPanel.togglePanel(),t.collectionsPanel.scrollToTop(t.pageHeader),!1})),n.find(".bibliography-trigger").on("click",(function(){return t.moreActionsDialog.hide(),t.bibliographyPanel.isExpanded()||t.bibliographyPanel.togglePanel(),t.bibliographyPanel.scrollToTop(t.pageHeader),!1})),n.find(".citation-manager-trigger").on("click",(function(){return t.moreActionsDialog.hide(),t.citationManagerPanel.isExpanded()||t.citationManagerPanel.togglePanel(),t.citationManagerPanel.scrollToTop(t.pageHeader),!1}));var r=i.find(".clipboard-panel-trigger"),a=n.find(".clipboard-trigger"),s=this.container.find(".in-clipboard-label"),l=function(){return r.hasClass("disabled")?Ze.Notification.warning("Item already in clipboard."):(t.clipboard.sendByIds([t.articlePMID]).done((function(){s.removeAttr("hidden").addClass("active"),r.addClass("disabled"),a.addClass("disabled")})),(0,wo.reportEvent)("clipboard","abstract-page","save_share")),!1};r.on("click",(function(){l(),t.moreActionsTrigger.focus()})),a.on("click",(function(){return t.moreActionsDialog.hide(),l(),t.moreActionsTrigger.focus(),!1}))},initArticleSearchActionsDropdown:function(){this.journalActionsDropdown=new Na.ArticleSearchActionsDropdown(this.container,this.searchFormTermInput,".article-source",".journal-actions",this.filtersStorage),this.keywordActionsDropdown=new Na.ArticleSearchActionsDropdown(this.container,this.searchFormTermInput,".keywords-list li",".keyword-actions",this.filtersStorage),this.associatedDataActionsDropdown=new Na.ArticleSearchActionsDropdown(this.container,this.searchFormTermInput,".supplemental-data-list li",".supplemental-data-actions",this.filtersStorage)},initAdjacentNavigation:function(t){var e=this;if(!0!==this.referrerIsClipboard){var i=this.adjNavStorage.getArticleAdjNavData(this.articlePMID,this.searchID);if(i){var n=new gn.QueryDict(i),o=n.getParam("from_term");o&&!o.startsWith(this.longTermPrefix)&&this.searchFormTermInput.trigger("populate-search-input",[o,!0]),this.adjNavLoadRecursive(i,o,t,1);var r=n.getParam("from_pos"),a=n.getParam("from_page")||1;window.addEventListener("pageshow",(function(){window.sessionStorage.setItem("searchpos:"+e.searchID,a+":"+r)}))}}},adjNavLoadRecursive:function(t,i,n,o){var r=this;if(o>3)return s.error("Failed to fetch adj nav data, no adj nav data is displayed"),void(0,wo.reportEvent)("adj_nav","abstract-page","fetch_failed");e.default.get(this.adjNavURLPath+"?"+t).done((function(t){var o=e.default.parseHTML(t),a=JSON.parse(o.find((function(t){return"adj-nav-options"===(0,e.default)(t).attr("id")})).innerHTML),s=a.search_query;!a.no_query_in_search_input&&s&&i!==s&&r.searchFormTermInput.trigger("populate-search-input",[s,!0,!0]);var l=o.find((function(t){return t.className&&-1!==t.className.indexOf("action-bar-back-to-search")})),c=o.find((function(t){return t.className&&-1!==t.className.indexOf("form-back-to-search")}));r.articlePageHeader.find(".return-to-search").append((0,e.default)(l)),r.pageHeader.append((0,e.default)(c)),r.initBackToSearchLinks();var u=(0,e.default)(o.find((function(t){return"adjacent-navigation"===(0,e.default)(t).attr("id")})));u.insertAfter(r.container),u.length&&(r.adjacentNavigation=new Qr.AdjacentNavigation({container:u,pageFooter:(0,e.default)("footer.usa-footer.ncbi-footer"),pageHeader:r.pageHeader})),u.find(".adj-nav-link").on("click",(function(t){var i=(0,e.default)(t.target).closest(".adj-nav-link"),n=i.data("article-id"),o=i.data("full-article-url");r.adjNavStorage.addToAdjNavData(n,r.searchID,o)})),r.initAbstractPageCustomHighlight(a.term_highlight_color,a.terms),a.contains_mathml&&(0,_i.renderMathML)(u.html(),n)})).fail((function(){return setTimeout((function(){s.warn("Failed to fetch adj nav data after "+o+" retries"),r.adjNavLoadRecursive(t,i,n,o+1)}),500)}))},initBackToSearchLinks:function(){var t=this;(0,e.default)(".search-form .form-back-to-search,\n       .return-to-search .action-bar-back-to-search,\n       .adjacent-navigation .total-amount,\n       .adjacent-navigation .query").click((function(){(0,Pn.setBackToSearchCookie)(t.backToSearchCookieName,t.jsCookieDomain)}))},initAbstractPageCustomHighlight:function(t,i){var n=this;t&&i&&(this.highlighter=new Gr.AbstractPageCustomHighlight({targetElem:(0,e.default)(".article-page, .adjacent-navigation"),highlightColor:t,tokensToHighlightCSV:i,headElem:this.headElem,markJSUrl:this.markJSUrl}),this.figuresHighlighter=new Rr.FiguresCustomHighlight({targetElem:this.container.find(".figure-dialog-caption"),highlightColor:t,tokensToHighlightCSV:i,headElem:this.headElem,markJSUrl:this.markJSUrl}),this.container.on("new-html-loaded",(function(t,e){return n.highlighter.performHighlightIn(e)})),this.container.on("figure-opened",(function(t,e){return n.figuresHighlighter.performHighlightIn(e)})))},reportMissingPageParts:function(){0===this.container.find(".full-text-links .link-item").length&&(0,wo.reportEvent)("full_text_links","missing_content","abstract_page"),0===this.container.find(".similar-articles .docsum-title").length&&(0,wo.reportEvent)("similar_articles","missing_content","abstract_page")}}}).call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})}();